function FS(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function US(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ep={exports:{}},jl={},tp={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l0;function BS(){if(l0)return Re;l0=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function E(O){return O===null||typeof O!="object"?null:(O=_&&O[_]||O["@@iterator"],typeof O=="function"?O:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,j={};function P(O,Y,ye){this.props=O,this.context=Y,this.refs=j,this.updater=ye||I}P.prototype.isReactComponent={},P.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},P.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function H(){}H.prototype=P.prototype;function B(O,Y,ye){this.props=O,this.context=Y,this.refs=j,this.updater=ye||I}var R=B.prototype=new H;R.constructor=B,D(R,P.prototype),R.isPureReactComponent=!0;var K=Array.isArray,re=Object.prototype.hasOwnProperty,ne={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function A(O,Y,ye){var Ae,ke={},be=null,Oe=null;if(Y!=null)for(Ae in Y.ref!==void 0&&(Oe=Y.ref),Y.key!==void 0&&(be=""+Y.key),Y)re.call(Y,Ae)&&!N.hasOwnProperty(Ae)&&(ke[Ae]=Y[Ae]);var Be=arguments.length-2;if(Be===1)ke.children=ye;else if(1<Be){for(var We=Array(Be),at=0;at<Be;at++)We[at]=arguments[at+2];ke.children=We}if(O&&O.defaultProps)for(Ae in Be=O.defaultProps,Be)ke[Ae]===void 0&&(ke[Ae]=Be[Ae]);return{$$typeof:n,type:O,key:be,ref:Oe,props:ke,_owner:ne.current}}function C(O,Y){return{$$typeof:n,type:O.type,key:Y,ref:O.ref,props:O.props,_owner:O._owner}}function V(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function U(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ye){return Y[ye]})}var z=/\/+/g;function k(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):Y.toString(36)}function ce(O,Y,ye,Ae,ke){var be=typeof O;(be==="undefined"||be==="boolean")&&(O=null);var Oe=!1;if(O===null)Oe=!0;else switch(be){case"string":case"number":Oe=!0;break;case"object":switch(O.$$typeof){case n:case e:Oe=!0}}if(Oe)return Oe=O,ke=ke(Oe),O=Ae===""?"."+k(Oe,0):Ae,K(ke)?(ye="",O!=null&&(ye=O.replace(z,"$&/")+"/"),ce(ke,Y,ye,"",function(at){return at})):ke!=null&&(V(ke)&&(ke=C(ke,ye+(!ke.key||Oe&&Oe.key===ke.key?"":(""+ke.key).replace(z,"$&/")+"/")+O)),Y.push(ke)),1;if(Oe=0,Ae=Ae===""?".":Ae+":",K(O))for(var Be=0;Be<O.length;Be++){be=O[Be];var We=Ae+k(be,Be);Oe+=ce(be,Y,ye,We,ke)}else if(We=E(O),typeof We=="function")for(O=We.call(O),Be=0;!(be=O.next()).done;)be=be.value,We=Ae+k(be,Be++),Oe+=ce(be,Y,ye,We,ke);else if(be==="object")throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Oe}function tt(O,Y,ye){if(O==null)return O;var Ae=[],ke=0;return ce(O,Ae,"","",function(be){return Y.call(ye,be,ke++)}),Ae}function De(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(ye){(O._status===0||O._status===-1)&&(O._status=1,O._result=ye)},function(ye){(O._status===0||O._status===-1)&&(O._status=2,O._result=ye)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var Ce={current:null},se={transition:null},fe={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:se,ReactCurrentOwner:ne};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Re.Children={map:tt,forEach:function(O,Y,ye){tt(O,function(){Y.apply(this,arguments)},ye)},count:function(O){var Y=0;return tt(O,function(){Y++}),Y},toArray:function(O){return tt(O,function(Y){return Y})||[]},only:function(O){if(!V(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Re.Component=P,Re.Fragment=t,Re.Profiler=s,Re.PureComponent=B,Re.StrictMode=r,Re.Suspense=f,Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,Re.act=ae,Re.cloneElement=function(O,Y,ye){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var Ae=D({},O.props),ke=O.key,be=O.ref,Oe=O._owner;if(Y!=null){if(Y.ref!==void 0&&(be=Y.ref,Oe=ne.current),Y.key!==void 0&&(ke=""+Y.key),O.type&&O.type.defaultProps)var Be=O.type.defaultProps;for(We in Y)re.call(Y,We)&&!N.hasOwnProperty(We)&&(Ae[We]=Y[We]===void 0&&Be!==void 0?Be[We]:Y[We])}var We=arguments.length-2;if(We===1)Ae.children=ye;else if(1<We){Be=Array(We);for(var at=0;at<We;at++)Be[at]=arguments[at+2];Ae.children=Be}return{$$typeof:n,type:O.type,key:ke,ref:be,props:Ae,_owner:Oe}},Re.createContext=function(O){return O={$$typeof:u,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:a,_context:O},O.Consumer=O},Re.createElement=A,Re.createFactory=function(O){var Y=A.bind(null,O);return Y.type=O,Y},Re.createRef=function(){return{current:null}},Re.forwardRef=function(O){return{$$typeof:h,render:O}},Re.isValidElement=V,Re.lazy=function(O){return{$$typeof:y,_payload:{_status:-1,_result:O},_init:De}},Re.memo=function(O,Y){return{$$typeof:p,type:O,compare:Y===void 0?null:Y}},Re.startTransition=function(O){var Y=se.transition;se.transition={};try{O()}finally{se.transition=Y}},Re.unstable_act=ae,Re.useCallback=function(O,Y){return Ce.current.useCallback(O,Y)},Re.useContext=function(O){return Ce.current.useContext(O)},Re.useDebugValue=function(){},Re.useDeferredValue=function(O){return Ce.current.useDeferredValue(O)},Re.useEffect=function(O,Y){return Ce.current.useEffect(O,Y)},Re.useId=function(){return Ce.current.useId()},Re.useImperativeHandle=function(O,Y,ye){return Ce.current.useImperativeHandle(O,Y,ye)},Re.useInsertionEffect=function(O,Y){return Ce.current.useInsertionEffect(O,Y)},Re.useLayoutEffect=function(O,Y){return Ce.current.useLayoutEffect(O,Y)},Re.useMemo=function(O,Y){return Ce.current.useMemo(O,Y)},Re.useReducer=function(O,Y,ye){return Ce.current.useReducer(O,Y,ye)},Re.useRef=function(O){return Ce.current.useRef(O)},Re.useState=function(O){return Ce.current.useState(O)},Re.useSyncExternalStore=function(O,Y,ye){return Ce.current.useSyncExternalStore(O,Y,ye)},Re.useTransition=function(){return Ce.current.useTransition()},Re.version="18.3.1",Re}var u0;function Am(){return u0||(u0=1,tp.exports=BS()),tp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c0;function zS(){if(c0)return jl;c0=1;var n=Am(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(h,f,p){var y,_={},E=null,I=null;p!==void 0&&(E=""+p),f.key!==void 0&&(E=""+f.key),f.ref!==void 0&&(I=f.ref);for(y in f)r.call(f,y)&&!a.hasOwnProperty(y)&&(_[y]=f[y]);if(h&&h.defaultProps)for(y in f=h.defaultProps,f)_[y]===void 0&&(_[y]=f[y]);return{$$typeof:e,type:h,key:E,ref:I,props:_,_owner:s.current}}return jl.Fragment=t,jl.jsx=u,jl.jsxs=u,jl}var h0;function $S(){return h0||(h0=1,ep.exports=zS()),ep.exports}var m=$S(),M=Am();const km=US(M),qS=FS({__proto__:null,default:km},[M]);var Zc={},np={exports:{}},pn={},rp={exports:{}},ip={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0;function WS(){return d0||(d0=1,function(n){function e(se,fe){var ae=se.length;se.push(fe);e:for(;0<ae;){var O=ae-1>>>1,Y=se[O];if(0<s(Y,fe))se[O]=fe,se[ae]=Y,ae=O;else break e}}function t(se){return se.length===0?null:se[0]}function r(se){if(se.length===0)return null;var fe=se[0],ae=se.pop();if(ae!==fe){se[0]=ae;e:for(var O=0,Y=se.length,ye=Y>>>1;O<ye;){var Ae=2*(O+1)-1,ke=se[Ae],be=Ae+1,Oe=se[be];if(0>s(ke,ae))be<Y&&0>s(Oe,ke)?(se[O]=Oe,se[be]=ae,O=be):(se[O]=ke,se[Ae]=ae,O=Ae);else if(be<Y&&0>s(Oe,ae))se[O]=Oe,se[be]=ae,O=be;else break e}}return fe}function s(se,fe){var ae=se.sortIndex-fe.sortIndex;return ae!==0?ae:se.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],p=[],y=1,_=null,E=3,I=!1,D=!1,j=!1,P=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(se){for(var fe=t(p);fe!==null;){if(fe.callback===null)r(p);else if(fe.startTime<=se)r(p),fe.sortIndex=fe.expirationTime,e(f,fe);else break;fe=t(p)}}function K(se){if(j=!1,R(se),!D)if(t(f)!==null)D=!0,De(re);else{var fe=t(p);fe!==null&&Ce(K,fe.startTime-se)}}function re(se,fe){D=!1,j&&(j=!1,H(A),A=-1),I=!0;var ae=E;try{for(R(fe),_=t(f);_!==null&&(!(_.expirationTime>fe)||se&&!U());){var O=_.callback;if(typeof O=="function"){_.callback=null,E=_.priorityLevel;var Y=O(_.expirationTime<=fe);fe=n.unstable_now(),typeof Y=="function"?_.callback=Y:_===t(f)&&r(f),R(fe)}else r(f);_=t(f)}if(_!==null)var ye=!0;else{var Ae=t(p);Ae!==null&&Ce(K,Ae.startTime-fe),ye=!1}return ye}finally{_=null,E=ae,I=!1}}var ne=!1,N=null,A=-1,C=5,V=-1;function U(){return!(n.unstable_now()-V<C)}function z(){if(N!==null){var se=n.unstable_now();V=se;var fe=!0;try{fe=N(!0,se)}finally{fe?k():(ne=!1,N=null)}}else ne=!1}var k;if(typeof B=="function")k=function(){B(z)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,tt=ce.port2;ce.port1.onmessage=z,k=function(){tt.postMessage(null)}}else k=function(){P(z,0)};function De(se){N=se,ne||(ne=!0,k())}function Ce(se,fe){A=P(function(){se(n.unstable_now())},fe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(se){se.callback=null},n.unstable_continueExecution=function(){D||I||(D=!0,De(re))},n.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<se?Math.floor(1e3/se):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(se){switch(E){case 1:case 2:case 3:var fe=3;break;default:fe=E}var ae=E;E=fe;try{return se()}finally{E=ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(se,fe){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var ae=E;E=se;try{return fe()}finally{E=ae}},n.unstable_scheduleCallback=function(se,fe,ae){var O=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?O+ae:O):ae=O,se){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=ae+Y,se={id:y++,callback:fe,priorityLevel:se,startTime:ae,expirationTime:Y,sortIndex:-1},ae>O?(se.sortIndex=ae,e(p,se),t(f)===null&&se===t(p)&&(j?(H(A),A=-1):j=!0,Ce(K,ae-O))):(se.sortIndex=Y,e(f,se),D||I||(D=!0,De(re))),se},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(se){var fe=E;return function(){var ae=E;E=fe;try{return se.apply(this,arguments)}finally{E=ae}}}}(ip)),ip}var f0;function HS(){return f0||(f0=1,rp.exports=WS()),rp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p0;function GS(){if(p0)return pn;p0=1;var n=Am(),e=HS();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){u(i,o),u(i+"Capture",o)}function u(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},_={};function E(i){return f.call(_,i)?!0:f.call(y,i)?!1:p.test(i)?_[i]=!0:(y[i]=!0,!1)}function I(i,o,l,d){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function D(i,o,l,d){if(o===null||typeof o>"u"||I(i,o,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function j(i,o,l,d,g,w,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=g,this.mustUseProperty=l,this.propertyName=i,this.type=o,this.sanitizeURL=w,this.removeEmptyString=T}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){P[i]=new j(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];P[o]=new j(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){P[i]=new j(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){P[i]=new j(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){P[i]=new j(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){P[i]=new j(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){P[i]=new j(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){P[i]=new j(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){P[i]=new j(i,5,!1,i.toLowerCase(),null,!1,!1)});var H=/[\-:]([a-z])/g;function B(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(H,B);P[o]=new j(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(H,B);P[o]=new j(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(H,B);P[o]=new j(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){P[i]=new j(i,1,!1,i.toLowerCase(),null,!1,!1)}),P.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){P[i]=new j(i,1,!1,i.toLowerCase(),null,!0,!0)});function R(i,o,l,d){var g=P.hasOwnProperty(o)?P[o]:null;(g!==null?g.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(D(o,l,g,d)&&(l=null),d||g===null?E(o)&&(l===null?i.removeAttribute(o):i.setAttribute(o,""+l)):g.mustUseProperty?i[g.propertyName]=l===null?g.type===3?!1:"":l:(o=g.attributeName,d=g.attributeNamespace,l===null?i.removeAttribute(o):(g=g.type,l=g===3||g===4&&l===!0?"":""+l,d?i.setAttributeNS(d,o,l):i.setAttribute(o,l))))}var K=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,re=Symbol.for("react.element"),ne=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),U=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),tt=Symbol.for("react.memo"),De=Symbol.for("react.lazy"),Ce=Symbol.for("react.offscreen"),se=Symbol.iterator;function fe(i){return i===null||typeof i!="object"?null:(i=se&&i[se]||i["@@iterator"],typeof i=="function"?i:null)}var ae=Object.assign,O;function Y(i){if(O===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);O=o&&o[1]||""}return`
`+O+i}var ye=!1;function Ae(i,o){if(!i||ye)return"";ye=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(G){var d=G}Reflect.construct(i,[],o)}else{try{o.call()}catch(G){d=G}i.call(o.prototype)}else{try{throw Error()}catch(G){d=G}i()}}catch(G){if(G&&d&&typeof G.stack=="string"){for(var g=G.stack.split(`
`),w=d.stack.split(`
`),T=g.length-1,b=w.length-1;1<=T&&0<=b&&g[T]!==w[b];)b--;for(;1<=T&&0<=b;T--,b--)if(g[T]!==w[b]){if(T!==1||b!==1)do if(T--,b--,0>b||g[T]!==w[b]){var L=`
`+g[T].replace(" at new "," at ");return i.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",i.displayName)),L}while(1<=T&&0<=b);break}}}finally{ye=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?Y(i):""}function ke(i){switch(i.tag){case 5:return Y(i.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return i=Ae(i.type,!1),i;case 11:return i=Ae(i.type.render,!1),i;case 1:return i=Ae(i.type,!0),i;default:return""}}function be(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case N:return"Fragment";case ne:return"Portal";case C:return"Profiler";case A:return"StrictMode";case k:return"Suspense";case ce:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case U:return(i.displayName||"Context")+".Consumer";case V:return(i._context.displayName||"Context")+".Provider";case z:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case tt:return o=i.displayName||null,o!==null?o:be(i.type)||"Memo";case De:o=i._payload,i=i._init;try{return be(i(o))}catch{}}return null}function Oe(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(o);case 8:return o===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Be(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function We(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function at(i){var o=We(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),d=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,w=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return g.call(this)},set:function(T){d=""+T,w.call(this,T)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(T){d=""+T},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Vt(i){i._valueTracker||(i._valueTracker=at(i))}function fs(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),d="";return i&&(d=We(i)?i.checked?"true":"false":i.value),i=d,i!==l?(o.setValue(i),!0):!1}function fi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function ps(i,o){var l=o.checked;return ae({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function mo(i,o){var l=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;l=Be(o.value!=null?o.value:l),i._wrapperState={initialChecked:d,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Ua(i,o){o=o.checked,o!=null&&R(i,"checked",o,!1)}function Ba(i,o){Ua(i,o);var l=Be(o.value),d=o.type;if(l!=null)d==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(d==="submit"||d==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?go(i,o.type,l):o.hasOwnProperty("defaultValue")&&go(i,o.type,Be(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Ou(i,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,l||o===i.value||(i.value=o),i.defaultValue=o}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function go(i,o,l){(o!=="number"||fi(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var Vr=Array.isArray;function Lr(i,o,l,d){if(i=i.options,o){o={};for(var g=0;g<l.length;g++)o["$"+l[g]]=!0;for(l=0;l<i.length;l++)g=o.hasOwnProperty("$"+i[l].value),i[l].selected!==g&&(i[l].selected=g),g&&d&&(i[l].defaultSelected=!0)}else{for(l=""+Be(l),o=null,g=0;g<i.length;g++){if(i[g].value===l){i[g].selected=!0,d&&(i[g].defaultSelected=!0);return}o!==null||i[g].disabled||(o=i[g])}o!==null&&(o.selected=!0)}}function za(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return ae({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function yo(i,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(Vr(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}i._wrapperState={initialValue:Be(l)}}function vo(i,o){var l=Be(o.value),d=Be(o.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),o.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),d!=null&&(i.defaultValue=""+d)}function $a(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function Tt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function It(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?Tt(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Mr,qa=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,d,g){MSApp.execUnsafeLocalFunction(function(){return i(o,l,d,g)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Mr=Mr||document.createElement("div"),Mr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Mr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function pi(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var ms={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gs=["Webkit","ms","Moz","O"];Object.keys(ms).forEach(function(i){gs.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),ms[o]=ms[i]})});function Wa(i,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||ms.hasOwnProperty(i)&&ms[i]?(""+o).trim():o+"px"}function Ha(i,o){i=i.style;for(var l in o)if(o.hasOwnProperty(l)){var d=l.indexOf("--")===0,g=Wa(l,o[l],d);l==="float"&&(l="cssFloat"),d?i.setProperty(l,g):i[l]=g}}var Ga=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ka(i,o){if(o){if(Ga[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Qa(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ys=null;function wo(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var _o=null,kn=null,dr=null;function xo(i){if(i=wl(i)){if(typeof _o!="function")throw Error(t(280));var o=i.stateNode;o&&(o=pc(o),_o(i.stateNode,i.type,o))}}function fr(i){kn?dr?dr.push(i):dr=[i]:kn=i}function Ya(){if(kn){var i=kn,o=dr;if(dr=kn=null,xo(i),o)for(i=0;i<o.length;i++)xo(o[i])}}function vs(i,o){return i(o)}function Xa(){}var Or=!1;function Ja(i,o,l){if(Or)return i(o,l);Or=!0;try{return vs(i,o,l)}finally{Or=!1,(kn!==null||dr!==null)&&(Xa(),Ya())}}function ft(i,o){var l=i.stateNode;if(l===null)return null;var d=pc(l);if(d===null)return null;l=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var Eo=!1;if(h)try{var qn={};Object.defineProperty(qn,"passive",{get:function(){Eo=!0}}),window.addEventListener("test",qn,qn),window.removeEventListener("test",qn,qn)}catch{Eo=!1}function ws(i,o,l,d,g,w,T,b,L){var G=Array.prototype.slice.call(arguments,3);try{o.apply(l,G)}catch(Z){this.onError(Z)}}var _s=!1,To=null,Wn=!1,Za=null,Ad={onError:function(i){_s=!0,To=i}};function Io(i,o,l,d,g,w,T,b,L){_s=!1,To=null,ws.apply(Ad,arguments)}function Fu(i,o,l,d,g,w,T,b,L){if(Io.apply(this,arguments),_s){if(_s){var G=To;_s=!1,To=null}else throw Error(t(198));Wn||(Wn=!0,Za=G)}}function Hn(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function xs(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Gn(i){if(Hn(i)!==i)throw Error(t(188))}function Uu(i){var o=i.alternate;if(!o){if(o=Hn(i),o===null)throw Error(t(188));return o!==i?null:i}for(var l=i,d=o;;){var g=l.return;if(g===null)break;var w=g.alternate;if(w===null){if(d=g.return,d!==null){l=d;continue}break}if(g.child===w.child){for(w=g.child;w;){if(w===l)return Gn(g),i;if(w===d)return Gn(g),o;w=w.sibling}throw Error(t(188))}if(l.return!==d.return)l=g,d=w;else{for(var T=!1,b=g.child;b;){if(b===l){T=!0,l=g,d=w;break}if(b===d){T=!0,d=g,l=w;break}b=b.sibling}if(!T){for(b=w.child;b;){if(b===l){T=!0,l=w,d=g;break}if(b===d){T=!0,d=w,l=g;break}b=b.sibling}if(!T)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:o}function el(i){return i=Uu(i),i!==null?So(i):null}function So(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=So(i);if(o!==null)return o;i=i.sibling}return null}var Po=e.unstable_scheduleCallback,tl=e.unstable_cancelCallback,Bu=e.unstable_shouldYield,kd=e.unstable_requestPaint,Xe=e.unstable_now,zu=e.unstable_getCurrentPriorityLevel,Es=e.unstable_ImmediatePriority,mi=e.unstable_UserBlockingPriority,Cn=e.unstable_NormalPriority,nl=e.unstable_LowPriority,$u=e.unstable_IdlePriority,Ts=null,vn=null;function qu(i){if(vn&&typeof vn.onCommitFiberRoot=="function")try{vn.onCommitFiberRoot(Ts,i,void 0,(i.current.flags&128)===128)}catch{}}var Zt=Math.clz32?Math.clz32:Hu,rl=Math.log,Wu=Math.LN2;function Hu(i){return i>>>=0,i===0?32:31-(rl(i)/Wu|0)|0}var Ao=64,ko=4194304;function gi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Is(i,o){var l=i.pendingLanes;if(l===0)return 0;var d=0,g=i.suspendedLanes,w=i.pingedLanes,T=l&268435455;if(T!==0){var b=T&~g;b!==0?d=gi(b):(w&=T,w!==0&&(d=gi(w)))}else T=l&~g,T!==0?d=gi(T):w!==0&&(d=gi(w));if(d===0)return 0;if(o!==0&&o!==d&&(o&g)===0&&(g=d&-d,w=o&-o,g>=w||g===16&&(w&4194240)!==0))return o;if((d&4)!==0&&(d|=l&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=d;0<o;)l=31-Zt(o),g=1<<l,d|=i[l],o&=~g;return d}function Cd(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fr(i,o){for(var l=i.suspendedLanes,d=i.pingedLanes,g=i.expirationTimes,w=i.pendingLanes;0<w;){var T=31-Zt(w),b=1<<T,L=g[T];L===-1?((b&l)===0||(b&d)!==0)&&(g[T]=Cd(b,o)):L<=o&&(i.expiredLanes|=b),w&=~b}}function wn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Ss(){var i=Ao;return Ao<<=1,(Ao&4194240)===0&&(Ao=64),i}function yi(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function vi(i,o,l){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-Zt(o),i[o]=l}function Ye(i,o){var l=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var d=i.eventTimes;for(i=i.expirationTimes;0<l;){var g=31-Zt(l),w=1<<g;o[g]=0,d[g]=-1,i[g]=-1,l&=~w}}function wi(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var d=31-Zt(l),g=1<<d;g&o|i[d]&o&&(i[d]|=o),l&=~g}}var Ve=0;function _i(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Gu,Co,Ku,Qu,Yu,il=!1,pr=[],Lt=null,Kn=null,Qn=null,xi=new Map,bn=new Map,mr=[],bd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xu(i,o){switch(i){case"focusin":case"focusout":Lt=null;break;case"dragenter":case"dragleave":Kn=null;break;case"mouseover":case"mouseout":Qn=null;break;case"pointerover":case"pointerout":xi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":bn.delete(o.pointerId)}}function an(i,o,l,d,g,w){return i===null||i.nativeEvent!==w?(i={blockedOn:o,domEventName:l,eventSystemFlags:d,nativeEvent:w,targetContainers:[g]},o!==null&&(o=wl(o),o!==null&&Co(o)),i):(i.eventSystemFlags|=d,o=i.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),i)}function Rd(i,o,l,d,g){switch(o){case"focusin":return Lt=an(Lt,i,o,l,d,g),!0;case"dragenter":return Kn=an(Kn,i,o,l,d,g),!0;case"mouseover":return Qn=an(Qn,i,o,l,d,g),!0;case"pointerover":var w=g.pointerId;return xi.set(w,an(xi.get(w)||null,i,o,l,d,g)),!0;case"gotpointercapture":return w=g.pointerId,bn.set(w,an(bn.get(w)||null,i,o,l,d,g)),!0}return!1}function Ju(i){var o=bs(i.target);if(o!==null){var l=Hn(o);if(l!==null){if(o=l.tag,o===13){if(o=xs(l),o!==null){i.blockedOn=o,Yu(i.priority,function(){Ku(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ur(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=bo(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var d=new l.constructor(l.type,l);ys=d,l.target.dispatchEvent(d),ys=null}else return o=wl(l),o!==null&&Co(o),i.blockedOn=l,!1;o.shift()}return!0}function Ps(i,o,l){Ur(i)&&l.delete(o)}function Zu(){il=!1,Lt!==null&&Ur(Lt)&&(Lt=null),Kn!==null&&Ur(Kn)&&(Kn=null),Qn!==null&&Ur(Qn)&&(Qn=null),xi.forEach(Ps),bn.forEach(Ps)}function Yn(i,o){i.blockedOn===o&&(i.blockedOn=null,il||(il=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Zu)))}function Xn(i){function o(g){return Yn(g,i)}if(0<pr.length){Yn(pr[0],i);for(var l=1;l<pr.length;l++){var d=pr[l];d.blockedOn===i&&(d.blockedOn=null)}}for(Lt!==null&&Yn(Lt,i),Kn!==null&&Yn(Kn,i),Qn!==null&&Yn(Qn,i),xi.forEach(o),bn.forEach(o),l=0;l<mr.length;l++)d=mr[l],d.blockedOn===i&&(d.blockedOn=null);for(;0<mr.length&&(l=mr[0],l.blockedOn===null);)Ju(l),l.blockedOn===null&&mr.shift()}var Br=K.ReactCurrentBatchConfig,Ei=!0;function st(i,o,l,d){var g=Ve,w=Br.transition;Br.transition=null;try{Ve=1,sl(i,o,l,d)}finally{Ve=g,Br.transition=w}}function Nd(i,o,l,d){var g=Ve,w=Br.transition;Br.transition=null;try{Ve=4,sl(i,o,l,d)}finally{Ve=g,Br.transition=w}}function sl(i,o,l,d){if(Ei){var g=bo(i,o,l,d);if(g===null)$d(i,o,d,As,l),Xu(i,d);else if(Rd(g,i,o,l,d))d.stopPropagation();else if(Xu(i,d),o&4&&-1<bd.indexOf(i)){for(;g!==null;){var w=wl(g);if(w!==null&&Gu(w),w=bo(i,o,l,d),w===null&&$d(i,o,d,As,l),w===g)break;g=w}g!==null&&d.stopPropagation()}else $d(i,o,d,null,l)}}var As=null;function bo(i,o,l,d){if(As=null,i=wo(d),i=bs(i),i!==null)if(o=Hn(i),o===null)i=null;else if(l=o.tag,l===13){if(i=xs(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return As=i,null}function ol(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zu()){case Es:return 1;case mi:return 4;case Cn:case nl:return 16;case $u:return 536870912;default:return 16}default:return 16}}var _n=null,Ro=null,ln=null;function al(){if(ln)return ln;var i,o=Ro,l=o.length,d,g="value"in _n?_n.value:_n.textContent,w=g.length;for(i=0;i<l&&o[i]===g[i];i++);var T=l-i;for(d=1;d<=T&&o[l-d]===g[w-d];d++);return ln=g.slice(i,1<d?1-d:void 0)}function No(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function gr(){return!0}function ll(){return!1}function Mt(i){function o(l,d,g,w,T){this._reactName=l,this._targetInst=g,this.type=d,this.nativeEvent=w,this.target=T,this.currentTarget=null;for(var b in i)i.hasOwnProperty(b)&&(l=i[b],this[b]=l?l(w):w[b]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?gr:ll,this.isPropagationStopped=ll,this}return ae(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=gr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=gr)},persist:function(){},isPersistent:gr}),o}var Jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Do=Mt(Jn),yr=ae({},Jn,{view:0,detail:0}),Dd=Mt(yr),jo,zr,Ti,ks=ae({},yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ti&&(Ti&&i.type==="mousemove"?(jo=i.screenX-Ti.screenX,zr=i.screenY-Ti.screenY):zr=jo=0,Ti=i),jo)},movementY:function(i){return"movementY"in i?i.movementY:zr}}),Vo=Mt(ks),ul=ae({},ks,{dataTransfer:0}),ec=Mt(ul),Lo=ae({},yr,{relatedTarget:0}),Mo=Mt(Lo),tc=ae({},Jn,{animationName:0,elapsedTime:0,pseudoElement:0}),$r=Mt(tc),nc=ae({},Jn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),rc=Mt(nc),ic=ae({},Jn,{data:0}),cl=Mt(ic),Oo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},en={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oc(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=sc[i])?!!o[i]:!1}function vr(){return oc}var c=ae({},yr,{key:function(i){if(i.key){var o=Oo[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=No(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?en[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vr,charCode:function(i){return i.type==="keypress"?No(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?No(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),v=Mt(c),x=ae({},ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=Mt(x),$=ae({},yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vr}),Q=Mt($),oe=ae({},Jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ke=Mt(oe),St=ae({},ks,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Fe=Mt(St),bt=[9,13,27,32],vt=h&&"CompositionEvent"in window,Rn=null;h&&"documentMode"in document&&(Rn=document.documentMode);var xn=h&&"TextEvent"in window&&!Rn,Cs=h&&(!vt||Rn&&8<Rn&&11>=Rn),Fo=" ",ny=!1;function ry(i,o){switch(i){case"keyup":return bt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iy(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Uo=!1;function L1(i,o){switch(i){case"compositionend":return iy(o);case"keypress":return o.which!==32?null:(ny=!0,Fo);case"textInput":return i=o.data,i===Fo&&ny?null:i;default:return null}}function M1(i,o){if(Uo)return i==="compositionend"||!vt&&ry(i,o)?(i=al(),ln=Ro=_n=null,Uo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Cs&&o.locale!=="ko"?null:o.data;default:return null}}var O1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sy(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!O1[i.type]:o==="textarea"}function oy(i,o,l,d){fr(d),o=hc(o,"onChange"),0<o.length&&(l=new Do("onChange","change",null,l,d),i.push({event:l,listeners:o}))}var hl=null,dl=null;function F1(i){Iy(i,0)}function ac(i){var o=Wo(i);if(fs(o))return i}function U1(i,o){if(i==="change")return o}var ay=!1;if(h){var jd;if(h){var Vd="oninput"in document;if(!Vd){var ly=document.createElement("div");ly.setAttribute("oninput","return;"),Vd=typeof ly.oninput=="function"}jd=Vd}else jd=!1;ay=jd&&(!document.documentMode||9<document.documentMode)}function uy(){hl&&(hl.detachEvent("onpropertychange",cy),dl=hl=null)}function cy(i){if(i.propertyName==="value"&&ac(dl)){var o=[];oy(o,dl,i,wo(i)),Ja(F1,o)}}function B1(i,o,l){i==="focusin"?(uy(),hl=o,dl=l,hl.attachEvent("onpropertychange",cy)):i==="focusout"&&uy()}function z1(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ac(dl)}function $1(i,o){if(i==="click")return ac(o)}function q1(i,o){if(i==="input"||i==="change")return ac(o)}function W1(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Zn=typeof Object.is=="function"?Object.is:W1;function fl(i,o){if(Zn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),d=Object.keys(o);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var g=l[d];if(!f.call(o,g)||!Zn(i[g],o[g]))return!1}return!0}function hy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function dy(i,o){var l=hy(i);i=0;for(var d;l;){if(l.nodeType===3){if(d=i+l.textContent.length,i<=o&&d>=o)return{node:l,offset:o-i};i=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=hy(l)}}function fy(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?fy(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function py(){for(var i=window,o=fi();o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=fi(i.document)}return o}function Ld(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function H1(i){var o=py(),l=i.focusedElem,d=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&fy(l.ownerDocument.documentElement,l)){if(d!==null&&Ld(l)){if(o=d.start,i=d.end,i===void 0&&(i=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(i,l.value.length);else if(i=(o=l.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var g=l.textContent.length,w=Math.min(d.start,g);d=d.end===void 0?w:Math.min(d.end,g),!i.extend&&w>d&&(g=d,d=w,w=g),g=dy(l,w);var T=dy(l,d);g&&T&&(i.rangeCount!==1||i.anchorNode!==g.node||i.anchorOffset!==g.offset||i.focusNode!==T.node||i.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),i.removeAllRanges(),w>d?(i.addRange(o),i.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),i.addRange(o)))}}for(o=[],i=l;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)i=o[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var G1=h&&"documentMode"in document&&11>=document.documentMode,Bo=null,Md=null,pl=null,Od=!1;function my(i,o,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Od||Bo==null||Bo!==fi(d)||(d=Bo,"selectionStart"in d&&Ld(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),pl&&fl(pl,d)||(pl=d,d=hc(Md,"onSelect"),0<d.length&&(o=new Do("onSelect","select",null,o,l),i.push({event:o,listeners:d}),o.target=Bo)))}function lc(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var zo={animationend:lc("Animation","AnimationEnd"),animationiteration:lc("Animation","AnimationIteration"),animationstart:lc("Animation","AnimationStart"),transitionend:lc("Transition","TransitionEnd")},Fd={},gy={};h&&(gy=document.createElement("div").style,"AnimationEvent"in window||(delete zo.animationend.animation,delete zo.animationiteration.animation,delete zo.animationstart.animation),"TransitionEvent"in window||delete zo.transitionend.transition);function uc(i){if(Fd[i])return Fd[i];if(!zo[i])return i;var o=zo[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in gy)return Fd[i]=o[l];return i}var yy=uc("animationend"),vy=uc("animationiteration"),wy=uc("animationstart"),_y=uc("transitionend"),xy=new Map,Ey="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ii(i,o){xy.set(i,o),a(o,[i])}for(var Ud=0;Ud<Ey.length;Ud++){var Bd=Ey[Ud],K1=Bd.toLowerCase(),Q1=Bd[0].toUpperCase()+Bd.slice(1);Ii(K1,"on"+Q1)}Ii(yy,"onAnimationEnd"),Ii(vy,"onAnimationIteration"),Ii(wy,"onAnimationStart"),Ii("dblclick","onDoubleClick"),Ii("focusin","onFocus"),Ii("focusout","onBlur"),Ii(_y,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y1=new Set("cancel close invalid load scroll toggle".split(" ").concat(ml));function Ty(i,o,l){var d=i.type||"unknown-event";i.currentTarget=l,Fu(d,o,void 0,i),i.currentTarget=null}function Iy(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var d=i[l],g=d.event;d=d.listeners;e:{var w=void 0;if(o)for(var T=d.length-1;0<=T;T--){var b=d[T],L=b.instance,G=b.currentTarget;if(b=b.listener,L!==w&&g.isPropagationStopped())break e;Ty(g,b,G),w=L}else for(T=0;T<d.length;T++){if(b=d[T],L=b.instance,G=b.currentTarget,b=b.listener,L!==w&&g.isPropagationStopped())break e;Ty(g,b,G),w=L}}}if(Wn)throw i=Za,Wn=!1,Za=null,i}function nt(i,o){var l=o[Qd];l===void 0&&(l=o[Qd]=new Set);var d=i+"__bubble";l.has(d)||(Sy(o,i,2,!1),l.add(d))}function zd(i,o,l){var d=0;o&&(d|=4),Sy(l,i,d,o)}var cc="_reactListening"+Math.random().toString(36).slice(2);function gl(i){if(!i[cc]){i[cc]=!0,r.forEach(function(l){l!=="selectionchange"&&(Y1.has(l)||zd(l,!1,i),zd(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[cc]||(o[cc]=!0,zd("selectionchange",!1,o))}}function Sy(i,o,l,d){switch(ol(o)){case 1:var g=st;break;case 4:g=Nd;break;default:g=sl}l=g.bind(null,o,l,i),g=void 0,!Eo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),d?g!==void 0?i.addEventListener(o,l,{capture:!0,passive:g}):i.addEventListener(o,l,!0):g!==void 0?i.addEventListener(o,l,{passive:g}):i.addEventListener(o,l,!1)}function $d(i,o,l,d,g){var w=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var T=d.tag;if(T===3||T===4){var b=d.stateNode.containerInfo;if(b===g||b.nodeType===8&&b.parentNode===g)break;if(T===4)for(T=d.return;T!==null;){var L=T.tag;if((L===3||L===4)&&(L=T.stateNode.containerInfo,L===g||L.nodeType===8&&L.parentNode===g))return;T=T.return}for(;b!==null;){if(T=bs(b),T===null)return;if(L=T.tag,L===5||L===6){d=w=T;continue e}b=b.parentNode}}d=d.return}Ja(function(){var G=w,Z=wo(l),te=[];e:{var J=xy.get(i);if(J!==void 0){var ue=Do,de=i;switch(i){case"keypress":if(No(l)===0)break e;case"keydown":case"keyup":ue=v;break;case"focusin":de="focus",ue=Mo;break;case"focusout":de="blur",ue=Mo;break;case"beforeblur":case"afterblur":ue=Mo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=Vo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=ec;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=Q;break;case yy:case vy:case wy:ue=$r;break;case _y:ue=Ke;break;case"scroll":ue=Dd;break;case"wheel":ue=Fe;break;case"copy":case"cut":case"paste":ue=rc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=S}var pe=(o&4)!==0,pt=!pe&&i==="scroll",q=pe?J!==null?J+"Capture":null:J;pe=[];for(var F=G,W;F!==null;){W=F;var ie=W.stateNode;if(W.tag===5&&ie!==null&&(W=ie,q!==null&&(ie=ft(F,q),ie!=null&&pe.push(yl(F,ie,W)))),pt)break;F=F.return}0<pe.length&&(J=new ue(J,de,null,l,Z),te.push({event:J,listeners:pe}))}}if((o&7)===0){e:{if(J=i==="mouseover"||i==="pointerover",ue=i==="mouseout"||i==="pointerout",J&&l!==ys&&(de=l.relatedTarget||l.fromElement)&&(bs(de)||de[qr]))break e;if((ue||J)&&(J=Z.window===Z?Z:(J=Z.ownerDocument)?J.defaultView||J.parentWindow:window,ue?(de=l.relatedTarget||l.toElement,ue=G,de=de?bs(de):null,de!==null&&(pt=Hn(de),de!==pt||de.tag!==5&&de.tag!==6)&&(de=null)):(ue=null,de=G),ue!==de)){if(pe=Vo,ie="onMouseLeave",q="onMouseEnter",F="mouse",(i==="pointerout"||i==="pointerover")&&(pe=S,ie="onPointerLeave",q="onPointerEnter",F="pointer"),pt=ue==null?J:Wo(ue),W=de==null?J:Wo(de),J=new pe(ie,F+"leave",ue,l,Z),J.target=pt,J.relatedTarget=W,ie=null,bs(Z)===G&&(pe=new pe(q,F+"enter",de,l,Z),pe.target=W,pe.relatedTarget=pt,ie=pe),pt=ie,ue&&de)t:{for(pe=ue,q=de,F=0,W=pe;W;W=$o(W))F++;for(W=0,ie=q;ie;ie=$o(ie))W++;for(;0<F-W;)pe=$o(pe),F--;for(;0<W-F;)q=$o(q),W--;for(;F--;){if(pe===q||q!==null&&pe===q.alternate)break t;pe=$o(pe),q=$o(q)}pe=null}else pe=null;ue!==null&&Py(te,J,ue,pe,!1),de!==null&&pt!==null&&Py(te,pt,de,pe,!0)}}e:{if(J=G?Wo(G):window,ue=J.nodeName&&J.nodeName.toLowerCase(),ue==="select"||ue==="input"&&J.type==="file")var ge=U1;else if(sy(J))if(ay)ge=q1;else{ge=z1;var we=B1}else(ue=J.nodeName)&&ue.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(ge=$1);if(ge&&(ge=ge(i,G))){oy(te,ge,l,Z);break e}we&&we(i,J,G),i==="focusout"&&(we=J._wrapperState)&&we.controlled&&J.type==="number"&&go(J,"number",J.value)}switch(we=G?Wo(G):window,i){case"focusin":(sy(we)||we.contentEditable==="true")&&(Bo=we,Md=G,pl=null);break;case"focusout":pl=Md=Bo=null;break;case"mousedown":Od=!0;break;case"contextmenu":case"mouseup":case"dragend":Od=!1,my(te,l,Z);break;case"selectionchange":if(G1)break;case"keydown":case"keyup":my(te,l,Z)}var _e;if(vt)e:{switch(i){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Uo?ry(i,l)&&(Te="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Te="onCompositionStart");Te&&(Cs&&l.locale!=="ko"&&(Uo||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Uo&&(_e=al()):(_n=Z,Ro="value"in _n?_n.value:_n.textContent,Uo=!0)),we=hc(G,Te),0<we.length&&(Te=new cl(Te,i,null,l,Z),te.push({event:Te,listeners:we}),_e?Te.data=_e:(_e=iy(l),_e!==null&&(Te.data=_e)))),(_e=xn?L1(i,l):M1(i,l))&&(G=hc(G,"onBeforeInput"),0<G.length&&(Z=new cl("onBeforeInput","beforeinput",null,l,Z),te.push({event:Z,listeners:G}),Z.data=_e))}Iy(te,o)})}function yl(i,o,l){return{instance:i,listener:o,currentTarget:l}}function hc(i,o){for(var l=o+"Capture",d=[];i!==null;){var g=i,w=g.stateNode;g.tag===5&&w!==null&&(g=w,w=ft(i,l),w!=null&&d.unshift(yl(i,w,g)),w=ft(i,o),w!=null&&d.push(yl(i,w,g))),i=i.return}return d}function $o(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Py(i,o,l,d,g){for(var w=o._reactName,T=[];l!==null&&l!==d;){var b=l,L=b.alternate,G=b.stateNode;if(L!==null&&L===d)break;b.tag===5&&G!==null&&(b=G,g?(L=ft(l,w),L!=null&&T.unshift(yl(l,L,b))):g||(L=ft(l,w),L!=null&&T.push(yl(l,L,b)))),l=l.return}T.length!==0&&i.push({event:o,listeners:T})}var X1=/\r\n?/g,J1=/\u0000|\uFFFD/g;function Ay(i){return(typeof i=="string"?i:""+i).replace(X1,`
`).replace(J1,"")}function dc(i,o,l){if(o=Ay(o),Ay(i)!==o&&l)throw Error(t(425))}function fc(){}var qd=null,Wd=null;function Hd(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Gd=typeof setTimeout=="function"?setTimeout:void 0,Z1=typeof clearTimeout=="function"?clearTimeout:void 0,ky=typeof Promise=="function"?Promise:void 0,eS=typeof queueMicrotask=="function"?queueMicrotask:typeof ky<"u"?function(i){return ky.resolve(null).then(i).catch(tS)}:Gd;function tS(i){setTimeout(function(){throw i})}function Kd(i,o){var l=o,d=0;do{var g=l.nextSibling;if(i.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(d===0){i.removeChild(g),Xn(o);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=g}while(l);Xn(o)}function Si(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Cy(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}var qo=Math.random().toString(36).slice(2),wr="__reactFiber$"+qo,vl="__reactProps$"+qo,qr="__reactContainer$"+qo,Qd="__reactEvents$"+qo,nS="__reactListeners$"+qo,rS="__reactHandles$"+qo;function bs(i){var o=i[wr];if(o)return o;for(var l=i.parentNode;l;){if(o=l[qr]||l[wr]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=Cy(i);i!==null;){if(l=i[wr])return l;i=Cy(i)}return o}i=l,l=i.parentNode}return null}function wl(i){return i=i[wr]||i[qr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Wo(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function pc(i){return i[vl]||null}var Yd=[],Ho=-1;function Pi(i){return{current:i}}function rt(i){0>Ho||(i.current=Yd[Ho],Yd[Ho]=null,Ho--)}function Je(i,o){Ho++,Yd[Ho]=i.current,i.current=o}var Ai={},qt=Pi(Ai),un=Pi(!1),Rs=Ai;function Go(i,o){var l=i.type.contextTypes;if(!l)return Ai;var d=i.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var g={},w;for(w in l)g[w]=o[w];return d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=g),g}function cn(i){return i=i.childContextTypes,i!=null}function mc(){rt(un),rt(qt)}function by(i,o,l){if(qt.current!==Ai)throw Error(t(168));Je(qt,o),Je(un,l)}function Ry(i,o,l){var d=i.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var g in d)if(!(g in o))throw Error(t(108,Oe(i)||"Unknown",g));return ae({},l,d)}function gc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Ai,Rs=qt.current,Je(qt,i),Je(un,un.current),!0}function Ny(i,o,l){var d=i.stateNode;if(!d)throw Error(t(169));l?(i=Ry(i,o,Rs),d.__reactInternalMemoizedMergedChildContext=i,rt(un),rt(qt),Je(qt,i)):rt(un),Je(un,l)}var Wr=null,yc=!1,Xd=!1;function Dy(i){Wr===null?Wr=[i]:Wr.push(i)}function iS(i){yc=!0,Dy(i)}function ki(){if(!Xd&&Wr!==null){Xd=!0;var i=0,o=Ve;try{var l=Wr;for(Ve=1;i<l.length;i++){var d=l[i];do d=d(!0);while(d!==null)}Wr=null,yc=!1}catch(g){throw Wr!==null&&(Wr=Wr.slice(i+1)),Po(Es,ki),g}finally{Ve=o,Xd=!1}}return null}var Ko=[],Qo=0,vc=null,wc=0,Nn=[],Dn=0,Ns=null,Hr=1,Gr="";function Ds(i,o){Ko[Qo++]=wc,Ko[Qo++]=vc,vc=i,wc=o}function jy(i,o,l){Nn[Dn++]=Hr,Nn[Dn++]=Gr,Nn[Dn++]=Ns,Ns=i;var d=Hr;i=Gr;var g=32-Zt(d)-1;d&=~(1<<g),l+=1;var w=32-Zt(o)+g;if(30<w){var T=g-g%5;w=(d&(1<<T)-1).toString(32),d>>=T,g-=T,Hr=1<<32-Zt(o)+g|l<<g|d,Gr=w+i}else Hr=1<<w|l<<g|d,Gr=i}function Jd(i){i.return!==null&&(Ds(i,1),jy(i,1,0))}function Zd(i){for(;i===vc;)vc=Ko[--Qo],Ko[Qo]=null,wc=Ko[--Qo],Ko[Qo]=null;for(;i===Ns;)Ns=Nn[--Dn],Nn[Dn]=null,Gr=Nn[--Dn],Nn[Dn]=null,Hr=Nn[--Dn],Nn[Dn]=null}var En=null,Tn=null,ot=!1,er=null;function Vy(i,o){var l=Mn(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=i,o=i.deletions,o===null?(i.deletions=[l],i.flags|=16):o.push(l)}function Ly(i,o){switch(i.tag){case 5:var l=i.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,En=i,Tn=Si(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,En=i,Tn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=Ns!==null?{id:Hr,overflow:Gr}:null,i.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=Mn(18,null,null,0),l.stateNode=o,l.return=i,i.child=l,En=i,Tn=null,!0):!1;default:return!1}}function ef(i){return(i.mode&1)!==0&&(i.flags&128)===0}function tf(i){if(ot){var o=Tn;if(o){var l=o;if(!Ly(i,o)){if(ef(i))throw Error(t(418));o=Si(l.nextSibling);var d=En;o&&Ly(i,o)?Vy(d,l):(i.flags=i.flags&-4097|2,ot=!1,En=i)}}else{if(ef(i))throw Error(t(418));i.flags=i.flags&-4097|2,ot=!1,En=i}}}function My(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;En=i}function _c(i){if(i!==En)return!1;if(!ot)return My(i),ot=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Hd(i.type,i.memoizedProps)),o&&(o=Tn)){if(ef(i))throw Oy(),Error(t(418));for(;o;)Vy(i,o),o=Si(o.nextSibling)}if(My(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(o===0){Tn=Si(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}i=i.nextSibling}Tn=null}}else Tn=En?Si(i.stateNode.nextSibling):null;return!0}function Oy(){for(var i=Tn;i;)i=Si(i.nextSibling)}function Yo(){Tn=En=null,ot=!1}function nf(i){er===null?er=[i]:er.push(i)}var sS=K.ReactCurrentBatchConfig;function _l(i,o,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,i));var g=d,w=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===w?o.ref:(o=function(T){var b=g.refs;T===null?delete b[w]:b[w]=T},o._stringRef=w,o)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function xc(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Fy(i){var o=i._init;return o(i._payload)}function Uy(i){function o(q,F){if(i){var W=q.deletions;W===null?(q.deletions=[F],q.flags|=16):W.push(F)}}function l(q,F){if(!i)return null;for(;F!==null;)o(q,F),F=F.sibling;return null}function d(q,F){for(q=new Map;F!==null;)F.key!==null?q.set(F.key,F):q.set(F.index,F),F=F.sibling;return q}function g(q,F){return q=Li(q,F),q.index=0,q.sibling=null,q}function w(q,F,W){return q.index=W,i?(W=q.alternate,W!==null?(W=W.index,W<F?(q.flags|=2,F):W):(q.flags|=2,F)):(q.flags|=1048576,F)}function T(q){return i&&q.alternate===null&&(q.flags|=2),q}function b(q,F,W,ie){return F===null||F.tag!==6?(F=Kf(W,q.mode,ie),F.return=q,F):(F=g(F,W),F.return=q,F)}function L(q,F,W,ie){var ge=W.type;return ge===N?Z(q,F,W.props.children,ie,W.key):F!==null&&(F.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===De&&Fy(ge)===F.type)?(ie=g(F,W.props),ie.ref=_l(q,F,W),ie.return=q,ie):(ie=Wc(W.type,W.key,W.props,null,q.mode,ie),ie.ref=_l(q,F,W),ie.return=q,ie)}function G(q,F,W,ie){return F===null||F.tag!==4||F.stateNode.containerInfo!==W.containerInfo||F.stateNode.implementation!==W.implementation?(F=Qf(W,q.mode,ie),F.return=q,F):(F=g(F,W.children||[]),F.return=q,F)}function Z(q,F,W,ie,ge){return F===null||F.tag!==7?(F=Bs(W,q.mode,ie,ge),F.return=q,F):(F=g(F,W),F.return=q,F)}function te(q,F,W){if(typeof F=="string"&&F!==""||typeof F=="number")return F=Kf(""+F,q.mode,W),F.return=q,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case re:return W=Wc(F.type,F.key,F.props,null,q.mode,W),W.ref=_l(q,null,F),W.return=q,W;case ne:return F=Qf(F,q.mode,W),F.return=q,F;case De:var ie=F._init;return te(q,ie(F._payload),W)}if(Vr(F)||fe(F))return F=Bs(F,q.mode,W,null),F.return=q,F;xc(q,F)}return null}function J(q,F,W,ie){var ge=F!==null?F.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return ge!==null?null:b(q,F,""+W,ie);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case re:return W.key===ge?L(q,F,W,ie):null;case ne:return W.key===ge?G(q,F,W,ie):null;case De:return ge=W._init,J(q,F,ge(W._payload),ie)}if(Vr(W)||fe(W))return ge!==null?null:Z(q,F,W,ie,null);xc(q,W)}return null}function ue(q,F,W,ie,ge){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return q=q.get(W)||null,b(F,q,""+ie,ge);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case re:return q=q.get(ie.key===null?W:ie.key)||null,L(F,q,ie,ge);case ne:return q=q.get(ie.key===null?W:ie.key)||null,G(F,q,ie,ge);case De:var we=ie._init;return ue(q,F,W,we(ie._payload),ge)}if(Vr(ie)||fe(ie))return q=q.get(W)||null,Z(F,q,ie,ge,null);xc(F,ie)}return null}function de(q,F,W,ie){for(var ge=null,we=null,_e=F,Te=F=0,Dt=null;_e!==null&&Te<W.length;Te++){_e.index>Te?(Dt=_e,_e=null):Dt=_e.sibling;var $e=J(q,_e,W[Te],ie);if($e===null){_e===null&&(_e=Dt);break}i&&_e&&$e.alternate===null&&o(q,_e),F=w($e,F,Te),we===null?ge=$e:we.sibling=$e,we=$e,_e=Dt}if(Te===W.length)return l(q,_e),ot&&Ds(q,Te),ge;if(_e===null){for(;Te<W.length;Te++)_e=te(q,W[Te],ie),_e!==null&&(F=w(_e,F,Te),we===null?ge=_e:we.sibling=_e,we=_e);return ot&&Ds(q,Te),ge}for(_e=d(q,_e);Te<W.length;Te++)Dt=ue(_e,q,Te,W[Te],ie),Dt!==null&&(i&&Dt.alternate!==null&&_e.delete(Dt.key===null?Te:Dt.key),F=w(Dt,F,Te),we===null?ge=Dt:we.sibling=Dt,we=Dt);return i&&_e.forEach(function(Mi){return o(q,Mi)}),ot&&Ds(q,Te),ge}function pe(q,F,W,ie){var ge=fe(W);if(typeof ge!="function")throw Error(t(150));if(W=ge.call(W),W==null)throw Error(t(151));for(var we=ge=null,_e=F,Te=F=0,Dt=null,$e=W.next();_e!==null&&!$e.done;Te++,$e=W.next()){_e.index>Te?(Dt=_e,_e=null):Dt=_e.sibling;var Mi=J(q,_e,$e.value,ie);if(Mi===null){_e===null&&(_e=Dt);break}i&&_e&&Mi.alternate===null&&o(q,_e),F=w(Mi,F,Te),we===null?ge=Mi:we.sibling=Mi,we=Mi,_e=Dt}if($e.done)return l(q,_e),ot&&Ds(q,Te),ge;if(_e===null){for(;!$e.done;Te++,$e=W.next())$e=te(q,$e.value,ie),$e!==null&&(F=w($e,F,Te),we===null?ge=$e:we.sibling=$e,we=$e);return ot&&Ds(q,Te),ge}for(_e=d(q,_e);!$e.done;Te++,$e=W.next())$e=ue(_e,q,Te,$e.value,ie),$e!==null&&(i&&$e.alternate!==null&&_e.delete($e.key===null?Te:$e.key),F=w($e,F,Te),we===null?ge=$e:we.sibling=$e,we=$e);return i&&_e.forEach(function(OS){return o(q,OS)}),ot&&Ds(q,Te),ge}function pt(q,F,W,ie){if(typeof W=="object"&&W!==null&&W.type===N&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case re:e:{for(var ge=W.key,we=F;we!==null;){if(we.key===ge){if(ge=W.type,ge===N){if(we.tag===7){l(q,we.sibling),F=g(we,W.props.children),F.return=q,q=F;break e}}else if(we.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===De&&Fy(ge)===we.type){l(q,we.sibling),F=g(we,W.props),F.ref=_l(q,we,W),F.return=q,q=F;break e}l(q,we);break}else o(q,we);we=we.sibling}W.type===N?(F=Bs(W.props.children,q.mode,ie,W.key),F.return=q,q=F):(ie=Wc(W.type,W.key,W.props,null,q.mode,ie),ie.ref=_l(q,F,W),ie.return=q,q=ie)}return T(q);case ne:e:{for(we=W.key;F!==null;){if(F.key===we)if(F.tag===4&&F.stateNode.containerInfo===W.containerInfo&&F.stateNode.implementation===W.implementation){l(q,F.sibling),F=g(F,W.children||[]),F.return=q,q=F;break e}else{l(q,F);break}else o(q,F);F=F.sibling}F=Qf(W,q.mode,ie),F.return=q,q=F}return T(q);case De:return we=W._init,pt(q,F,we(W._payload),ie)}if(Vr(W))return de(q,F,W,ie);if(fe(W))return pe(q,F,W,ie);xc(q,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,F!==null&&F.tag===6?(l(q,F.sibling),F=g(F,W),F.return=q,q=F):(l(q,F),F=Kf(W,q.mode,ie),F.return=q,q=F),T(q)):l(q,F)}return pt}var Xo=Uy(!0),By=Uy(!1),Ec=Pi(null),Tc=null,Jo=null,rf=null;function sf(){rf=Jo=Tc=null}function of(i){var o=Ec.current;rt(Ec),i._currentValue=o}function af(i,o,l){for(;i!==null;){var d=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),i===l)break;i=i.return}}function Zo(i,o){Tc=i,rf=Jo=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(hn=!0),i.firstContext=null)}function jn(i){var o=i._currentValue;if(rf!==i)if(i={context:i,memoizedValue:o,next:null},Jo===null){if(Tc===null)throw Error(t(308));Jo=i,Tc.dependencies={lanes:0,firstContext:i}}else Jo=Jo.next=i;return o}var js=null;function lf(i){js===null?js=[i]:js.push(i)}function zy(i,o,l,d){var g=o.interleaved;return g===null?(l.next=l,lf(o)):(l.next=g.next,g.next=l),o.interleaved=l,Kr(i,d)}function Kr(i,o){i.lanes|=o;var l=i.alternate;for(l!==null&&(l.lanes|=o),l=i,i=i.return;i!==null;)i.childLanes|=o,l=i.alternate,l!==null&&(l.childLanes|=o),l=i,i=i.return;return l.tag===3?l.stateNode:null}var Ci=!1;function uf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $y(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Qr(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function bi(i,o,l){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(ze&2)!==0){var g=d.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),d.pending=o,Kr(i,l)}return g=d.interleaved,g===null?(o.next=o,lf(d)):(o.next=g.next,g.next=o),d.interleaved=o,Kr(i,l)}function Ic(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var d=o.lanes;d&=i.pendingLanes,l|=d,o.lanes=l,wi(i,l)}}function qy(i,o){var l=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var g=null,w=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};w===null?g=w=T:w=w.next=T,l=l.next}while(l!==null);w===null?g=w=o:w=w.next=o}else g=w=o;l={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:w,shared:d.shared,effects:d.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}function Sc(i,o,l,d){var g=i.updateQueue;Ci=!1;var w=g.firstBaseUpdate,T=g.lastBaseUpdate,b=g.shared.pending;if(b!==null){g.shared.pending=null;var L=b,G=L.next;L.next=null,T===null?w=G:T.next=G,T=L;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,b=Z.lastBaseUpdate,b!==T&&(b===null?Z.firstBaseUpdate=G:b.next=G,Z.lastBaseUpdate=L))}if(w!==null){var te=g.baseState;T=0,Z=G=L=null,b=w;do{var J=b.lane,ue=b.eventTime;if((d&J)===J){Z!==null&&(Z=Z.next={eventTime:ue,lane:0,tag:b.tag,payload:b.payload,callback:b.callback,next:null});e:{var de=i,pe=b;switch(J=o,ue=l,pe.tag){case 1:if(de=pe.payload,typeof de=="function"){te=de.call(ue,te,J);break e}te=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=pe.payload,J=typeof de=="function"?de.call(ue,te,J):de,J==null)break e;te=ae({},te,J);break e;case 2:Ci=!0}}b.callback!==null&&b.lane!==0&&(i.flags|=64,J=g.effects,J===null?g.effects=[b]:J.push(b))}else ue={eventTime:ue,lane:J,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Z===null?(G=Z=ue,L=te):Z=Z.next=ue,T|=J;if(b=b.next,b===null){if(b=g.shared.pending,b===null)break;J=b,b=J.next,J.next=null,g.lastBaseUpdate=J,g.shared.pending=null}}while(!0);if(Z===null&&(L=te),g.baseState=L,g.firstBaseUpdate=G,g.lastBaseUpdate=Z,o=g.shared.interleaved,o!==null){g=o;do T|=g.lane,g=g.next;while(g!==o)}else w===null&&(g.shared.lanes=0);Ms|=T,i.lanes=T,i.memoizedState=te}}function Wy(i,o,l){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var d=i[o],g=d.callback;if(g!==null){if(d.callback=null,d=l,typeof g!="function")throw Error(t(191,g));g.call(d)}}}var xl={},_r=Pi(xl),El=Pi(xl),Tl=Pi(xl);function Vs(i){if(i===xl)throw Error(t(174));return i}function cf(i,o){switch(Je(Tl,o),Je(El,i),Je(_r,xl),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:It(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=It(o,i)}rt(_r),Je(_r,o)}function ea(){rt(_r),rt(El),rt(Tl)}function Hy(i){Vs(Tl.current);var o=Vs(_r.current),l=It(o,i.type);o!==l&&(Je(El,i),Je(_r,l))}function hf(i){El.current===i&&(rt(_r),rt(El))}var lt=Pi(0);function Pc(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var df=[];function ff(){for(var i=0;i<df.length;i++)df[i]._workInProgressVersionPrimary=null;df.length=0}var Ac=K.ReactCurrentDispatcher,pf=K.ReactCurrentBatchConfig,Ls=0,ut=null,Pt=null,Rt=null,kc=!1,Il=!1,Sl=0,oS=0;function Wt(){throw Error(t(321))}function mf(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!Zn(i[l],o[l]))return!1;return!0}function gf(i,o,l,d,g,w){if(Ls=w,ut=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Ac.current=i===null||i.memoizedState===null?cS:hS,i=l(d,g),Il){w=0;do{if(Il=!1,Sl=0,25<=w)throw Error(t(301));w+=1,Rt=Pt=null,o.updateQueue=null,Ac.current=dS,i=l(d,g)}while(Il)}if(Ac.current=Rc,o=Pt!==null&&Pt.next!==null,Ls=0,Rt=Pt=ut=null,kc=!1,o)throw Error(t(300));return i}function yf(){var i=Sl!==0;return Sl=0,i}function xr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?ut.memoizedState=Rt=i:Rt=Rt.next=i,Rt}function Vn(){if(Pt===null){var i=ut.alternate;i=i!==null?i.memoizedState:null}else i=Pt.next;var o=Rt===null?ut.memoizedState:Rt.next;if(o!==null)Rt=o,Pt=i;else{if(i===null)throw Error(t(310));Pt=i,i={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},Rt===null?ut.memoizedState=Rt=i:Rt=Rt.next=i}return Rt}function Pl(i,o){return typeof o=="function"?o(i):o}function vf(i){var o=Vn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var d=Pt,g=d.baseQueue,w=l.pending;if(w!==null){if(g!==null){var T=g.next;g.next=w.next,w.next=T}d.baseQueue=g=w,l.pending=null}if(g!==null){w=g.next,d=d.baseState;var b=T=null,L=null,G=w;do{var Z=G.lane;if((Ls&Z)===Z)L!==null&&(L=L.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),d=G.hasEagerState?G.eagerState:i(d,G.action);else{var te={lane:Z,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};L===null?(b=L=te,T=d):L=L.next=te,ut.lanes|=Z,Ms|=Z}G=G.next}while(G!==null&&G!==w);L===null?T=d:L.next=b,Zn(d,o.memoizedState)||(hn=!0),o.memoizedState=d,o.baseState=T,o.baseQueue=L,l.lastRenderedState=d}if(i=l.interleaved,i!==null){g=i;do w=g.lane,ut.lanes|=w,Ms|=w,g=g.next;while(g!==i)}else g===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function wf(i){var o=Vn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var d=l.dispatch,g=l.pending,w=o.memoizedState;if(g!==null){l.pending=null;var T=g=g.next;do w=i(w,T.action),T=T.next;while(T!==g);Zn(w,o.memoizedState)||(hn=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),l.lastRenderedState=w}return[w,d]}function Gy(){}function Ky(i,o){var l=ut,d=Vn(),g=o(),w=!Zn(d.memoizedState,g);if(w&&(d.memoizedState=g,hn=!0),d=d.queue,_f(Xy.bind(null,l,d,i),[i]),d.getSnapshot!==o||w||Rt!==null&&Rt.memoizedState.tag&1){if(l.flags|=2048,Al(9,Yy.bind(null,l,d,g,o),void 0,null),Nt===null)throw Error(t(349));(Ls&30)!==0||Qy(l,o,g)}return g}function Qy(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=ut.updateQueue,o===null?(o={lastEffect:null,stores:null},ut.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function Yy(i,o,l,d){o.value=l,o.getSnapshot=d,Jy(o)&&Zy(i)}function Xy(i,o,l){return l(function(){Jy(o)&&Zy(i)})}function Jy(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!Zn(i,l)}catch{return!0}}function Zy(i){var o=Kr(i,1);o!==null&&ir(o,i,1,-1)}function ev(i){var o=xr();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pl,lastRenderedState:i},o.queue=i,i=i.dispatch=uS.bind(null,ut,i),[o.memoizedState,i]}function Al(i,o,l,d){return i={tag:i,create:o,destroy:l,deps:d,next:null},o=ut.updateQueue,o===null?(o={lastEffect:null,stores:null},ut.updateQueue=o,o.lastEffect=i.next=i):(l=o.lastEffect,l===null?o.lastEffect=i.next=i:(d=l.next,l.next=i,i.next=d,o.lastEffect=i)),i}function tv(){return Vn().memoizedState}function Cc(i,o,l,d){var g=xr();ut.flags|=i,g.memoizedState=Al(1|o,l,void 0,d===void 0?null:d)}function bc(i,o,l,d){var g=Vn();d=d===void 0?null:d;var w=void 0;if(Pt!==null){var T=Pt.memoizedState;if(w=T.destroy,d!==null&&mf(d,T.deps)){g.memoizedState=Al(o,l,w,d);return}}ut.flags|=i,g.memoizedState=Al(1|o,l,w,d)}function nv(i,o){return Cc(8390656,8,i,o)}function _f(i,o){return bc(2048,8,i,o)}function rv(i,o){return bc(4,2,i,o)}function iv(i,o){return bc(4,4,i,o)}function sv(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function ov(i,o,l){return l=l!=null?l.concat([i]):null,bc(4,4,sv.bind(null,o,i),l)}function xf(){}function av(i,o){var l=Vn();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&mf(o,d[1])?d[0]:(l.memoizedState=[i,o],i)}function lv(i,o){var l=Vn();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&mf(o,d[1])?d[0]:(i=i(),l.memoizedState=[i,o],i)}function uv(i,o,l){return(Ls&21)===0?(i.baseState&&(i.baseState=!1,hn=!0),i.memoizedState=l):(Zn(l,o)||(l=Ss(),ut.lanes|=l,Ms|=l,i.baseState=!0),o)}function aS(i,o){var l=Ve;Ve=l!==0&&4>l?l:4,i(!0);var d=pf.transition;pf.transition={};try{i(!1),o()}finally{Ve=l,pf.transition=d}}function cv(){return Vn().memoizedState}function lS(i,o,l){var d=ji(i);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},hv(i))dv(o,l);else if(l=zy(i,o,l,d),l!==null){var g=nn();ir(l,i,d,g),fv(l,o,d)}}function uS(i,o,l){var d=ji(i),g={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(hv(i))dv(o,g);else{var w=i.alternate;if(i.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var T=o.lastRenderedState,b=w(T,l);if(g.hasEagerState=!0,g.eagerState=b,Zn(b,T)){var L=o.interleaved;L===null?(g.next=g,lf(o)):(g.next=L.next,L.next=g),o.interleaved=g;return}}catch{}finally{}l=zy(i,o,g,d),l!==null&&(g=nn(),ir(l,i,d,g),fv(l,o,d))}}function hv(i){var o=i.alternate;return i===ut||o!==null&&o===ut}function dv(i,o){Il=kc=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function fv(i,o,l){if((l&4194240)!==0){var d=o.lanes;d&=i.pendingLanes,l|=d,o.lanes=l,wi(i,l)}}var Rc={readContext:jn,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},cS={readContext:jn,useCallback:function(i,o){return xr().memoizedState=[i,o===void 0?null:o],i},useContext:jn,useEffect:nv,useImperativeHandle:function(i,o,l){return l=l!=null?l.concat([i]):null,Cc(4194308,4,sv.bind(null,o,i),l)},useLayoutEffect:function(i,o){return Cc(4194308,4,i,o)},useInsertionEffect:function(i,o){return Cc(4,2,i,o)},useMemo:function(i,o){var l=xr();return o=o===void 0?null:o,i=i(),l.memoizedState=[i,o],i},useReducer:function(i,o,l){var d=xr();return o=l!==void 0?l(o):o,d.memoizedState=d.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},d.queue=i,i=i.dispatch=lS.bind(null,ut,i),[d.memoizedState,i]},useRef:function(i){var o=xr();return i={current:i},o.memoizedState=i},useState:ev,useDebugValue:xf,useDeferredValue:function(i){return xr().memoizedState=i},useTransition:function(){var i=ev(!1),o=i[0];return i=aS.bind(null,i[1]),xr().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,l){var d=ut,g=xr();if(ot){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),Nt===null)throw Error(t(349));(Ls&30)!==0||Qy(d,o,l)}g.memoizedState=l;var w={value:l,getSnapshot:o};return g.queue=w,nv(Xy.bind(null,d,w,i),[i]),d.flags|=2048,Al(9,Yy.bind(null,d,w,l,o),void 0,null),l},useId:function(){var i=xr(),o=Nt.identifierPrefix;if(ot){var l=Gr,d=Hr;l=(d&~(1<<32-Zt(d)-1)).toString(32)+l,o=":"+o+"R"+l,l=Sl++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=oS++,o=":"+o+"r"+l.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},hS={readContext:jn,useCallback:av,useContext:jn,useEffect:_f,useImperativeHandle:ov,useInsertionEffect:rv,useLayoutEffect:iv,useMemo:lv,useReducer:vf,useRef:tv,useState:function(){return vf(Pl)},useDebugValue:xf,useDeferredValue:function(i){var o=Vn();return uv(o,Pt.memoizedState,i)},useTransition:function(){var i=vf(Pl)[0],o=Vn().memoizedState;return[i,o]},useMutableSource:Gy,useSyncExternalStore:Ky,useId:cv,unstable_isNewReconciler:!1},dS={readContext:jn,useCallback:av,useContext:jn,useEffect:_f,useImperativeHandle:ov,useInsertionEffect:rv,useLayoutEffect:iv,useMemo:lv,useReducer:wf,useRef:tv,useState:function(){return wf(Pl)},useDebugValue:xf,useDeferredValue:function(i){var o=Vn();return Pt===null?o.memoizedState=i:uv(o,Pt.memoizedState,i)},useTransition:function(){var i=wf(Pl)[0],o=Vn().memoizedState;return[i,o]},useMutableSource:Gy,useSyncExternalStore:Ky,useId:cv,unstable_isNewReconciler:!1};function tr(i,o){if(i&&i.defaultProps){o=ae({},o),i=i.defaultProps;for(var l in i)o[l]===void 0&&(o[l]=i[l]);return o}return o}function Ef(i,o,l,d){o=i.memoizedState,l=l(d,o),l=l==null?o:ae({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Nc={isMounted:function(i){return(i=i._reactInternals)?Hn(i)===i:!1},enqueueSetState:function(i,o,l){i=i._reactInternals;var d=nn(),g=ji(i),w=Qr(d,g);w.payload=o,l!=null&&(w.callback=l),o=bi(i,w,g),o!==null&&(ir(o,i,g,d),Ic(o,i,g))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var d=nn(),g=ji(i),w=Qr(d,g);w.tag=1,w.payload=o,l!=null&&(w.callback=l),o=bi(i,w,g),o!==null&&(ir(o,i,g,d),Ic(o,i,g))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=nn(),d=ji(i),g=Qr(l,d);g.tag=2,o!=null&&(g.callback=o),o=bi(i,g,d),o!==null&&(ir(o,i,d,l),Ic(o,i,d))}};function pv(i,o,l,d,g,w,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,w,T):o.prototype&&o.prototype.isPureReactComponent?!fl(l,d)||!fl(g,w):!0}function mv(i,o,l){var d=!1,g=Ai,w=o.contextType;return typeof w=="object"&&w!==null?w=jn(w):(g=cn(o)?Rs:qt.current,d=o.contextTypes,w=(d=d!=null)?Go(i,g):Ai),o=new o(l,w),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Nc,i.stateNode=o,o._reactInternals=i,d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=g,i.__reactInternalMemoizedMaskedChildContext=w),o}function gv(i,o,l,d){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,d),o.state!==i&&Nc.enqueueReplaceState(o,o.state,null)}function Tf(i,o,l,d){var g=i.stateNode;g.props=l,g.state=i.memoizedState,g.refs={},uf(i);var w=o.contextType;typeof w=="object"&&w!==null?g.context=jn(w):(w=cn(o)?Rs:qt.current,g.context=Go(i,w)),g.state=i.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(Ef(i,o,w,l),g.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&Nc.enqueueReplaceState(g,g.state,null),Sc(i,l,g,d),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308)}function ta(i,o){try{var l="",d=o;do l+=ke(d),d=d.return;while(d);var g=l}catch(w){g=`
Error generating stack: `+w.message+`
`+w.stack}return{value:i,source:o,stack:g,digest:null}}function If(i,o,l){return{value:i,source:null,stack:l??null,digest:o??null}}function Sf(i,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var fS=typeof WeakMap=="function"?WeakMap:Map;function yv(i,o,l){l=Qr(-1,l),l.tag=3,l.payload={element:null};var d=o.value;return l.callback=function(){Fc||(Fc=!0,Uf=d),Sf(i,o)},l}function vv(i,o,l){l=Qr(-1,l),l.tag=3;var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var g=o.value;l.payload=function(){return d(g)},l.callback=function(){Sf(i,o)}}var w=i.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(l.callback=function(){Sf(i,o),typeof d!="function"&&(Ni===null?Ni=new Set([this]):Ni.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),l}function wv(i,o,l){var d=i.pingCache;if(d===null){d=i.pingCache=new fS;var g=new Set;d.set(o,g)}else g=d.get(o),g===void 0&&(g=new Set,d.set(o,g));g.has(l)||(g.add(l),i=AS.bind(null,i,o,l),o.then(i,i))}function _v(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function xv(i,o,l,d,g){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=Qr(-1,1),o.tag=2,bi(l,o,1))),l.lanes|=1),i):(i.flags|=65536,i.lanes=g,i)}var pS=K.ReactCurrentOwner,hn=!1;function tn(i,o,l,d){o.child=i===null?By(o,null,l,d):Xo(o,i.child,l,d)}function Ev(i,o,l,d,g){l=l.render;var w=o.ref;return Zo(o,g),d=gf(i,o,l,d,w,g),l=yf(),i!==null&&!hn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~g,Yr(i,o,g)):(ot&&l&&Jd(o),o.flags|=1,tn(i,o,d,g),o.child)}function Tv(i,o,l,d,g){if(i===null){var w=l.type;return typeof w=="function"&&!Gf(w)&&w.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=w,Iv(i,o,w,d,g)):(i=Wc(l.type,null,d,o,o.mode,g),i.ref=o.ref,i.return=o,o.child=i)}if(w=i.child,(i.lanes&g)===0){var T=w.memoizedProps;if(l=l.compare,l=l!==null?l:fl,l(T,d)&&i.ref===o.ref)return Yr(i,o,g)}return o.flags|=1,i=Li(w,d),i.ref=o.ref,i.return=o,o.child=i}function Iv(i,o,l,d,g){if(i!==null){var w=i.memoizedProps;if(fl(w,d)&&i.ref===o.ref)if(hn=!1,o.pendingProps=d=w,(i.lanes&g)!==0)(i.flags&131072)!==0&&(hn=!0);else return o.lanes=i.lanes,Yr(i,o,g)}return Pf(i,o,l,d,g)}function Sv(i,o,l){var d=o.pendingProps,g=d.children,w=i!==null?i.memoizedState:null;if(d.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(ra,In),In|=l;else{if((l&1073741824)===0)return i=w!==null?w.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Je(ra,In),In|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=w!==null?w.baseLanes:l,Je(ra,In),In|=d}else w!==null?(d=w.baseLanes|l,o.memoizedState=null):d=l,Je(ra,In),In|=d;return tn(i,o,g,l),o.child}function Pv(i,o){var l=o.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function Pf(i,o,l,d,g){var w=cn(l)?Rs:qt.current;return w=Go(o,w),Zo(o,g),l=gf(i,o,l,d,w,g),d=yf(),i!==null&&!hn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~g,Yr(i,o,g)):(ot&&d&&Jd(o),o.flags|=1,tn(i,o,l,g),o.child)}function Av(i,o,l,d,g){if(cn(l)){var w=!0;gc(o)}else w=!1;if(Zo(o,g),o.stateNode===null)jc(i,o),mv(o,l,d),Tf(o,l,d,g),d=!0;else if(i===null){var T=o.stateNode,b=o.memoizedProps;T.props=b;var L=T.context,G=l.contextType;typeof G=="object"&&G!==null?G=jn(G):(G=cn(l)?Rs:qt.current,G=Go(o,G));var Z=l.getDerivedStateFromProps,te=typeof Z=="function"||typeof T.getSnapshotBeforeUpdate=="function";te||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(b!==d||L!==G)&&gv(o,T,d,G),Ci=!1;var J=o.memoizedState;T.state=J,Sc(o,d,T,g),L=o.memoizedState,b!==d||J!==L||un.current||Ci?(typeof Z=="function"&&(Ef(o,l,Z,d),L=o.memoizedState),(b=Ci||pv(o,l,b,d,J,L,G))?(te||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=L),T.props=d,T.state=L,T.context=G,d=b):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{T=o.stateNode,$y(i,o),b=o.memoizedProps,G=o.type===o.elementType?b:tr(o.type,b),T.props=G,te=o.pendingProps,J=T.context,L=l.contextType,typeof L=="object"&&L!==null?L=jn(L):(L=cn(l)?Rs:qt.current,L=Go(o,L));var ue=l.getDerivedStateFromProps;(Z=typeof ue=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(b!==te||J!==L)&&gv(o,T,d,L),Ci=!1,J=o.memoizedState,T.state=J,Sc(o,d,T,g);var de=o.memoizedState;b!==te||J!==de||un.current||Ci?(typeof ue=="function"&&(Ef(o,l,ue,d),de=o.memoizedState),(G=Ci||pv(o,l,G,d,J,de,L)||!1)?(Z||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(d,de,L),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(d,de,L)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||b===i.memoizedProps&&J===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&J===i.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=de),T.props=d,T.state=de,T.context=L,d=G):(typeof T.componentDidUpdate!="function"||b===i.memoizedProps&&J===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&J===i.memoizedState||(o.flags|=1024),d=!1)}return Af(i,o,l,d,w,g)}function Af(i,o,l,d,g,w){Pv(i,o);var T=(o.flags&128)!==0;if(!d&&!T)return g&&Ny(o,l,!1),Yr(i,o,w);d=o.stateNode,pS.current=o;var b=T&&typeof l.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,i!==null&&T?(o.child=Xo(o,i.child,null,w),o.child=Xo(o,null,b,w)):tn(i,o,b,w),o.memoizedState=d.state,g&&Ny(o,l,!0),o.child}function kv(i){var o=i.stateNode;o.pendingContext?by(i,o.pendingContext,o.pendingContext!==o.context):o.context&&by(i,o.context,!1),cf(i,o.containerInfo)}function Cv(i,o,l,d,g){return Yo(),nf(g),o.flags|=256,tn(i,o,l,d),o.child}var kf={dehydrated:null,treeContext:null,retryLane:0};function Cf(i){return{baseLanes:i,cachePool:null,transitions:null}}function bv(i,o,l){var d=o.pendingProps,g=lt.current,w=!1,T=(o.flags&128)!==0,b;if((b=T)||(b=i!==null&&i.memoizedState===null?!1:(g&2)!==0),b?(w=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(g|=1),Je(lt,g&1),i===null)return tf(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(T=d.children,i=d.fallback,w?(d=o.mode,w=o.child,T={mode:"hidden",children:T},(d&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=T):w=Hc(T,d,0,null),i=Bs(i,d,l,null),w.return=o,i.return=o,w.sibling=i,o.child=w,o.child.memoizedState=Cf(l),o.memoizedState=kf,i):bf(o,T));if(g=i.memoizedState,g!==null&&(b=g.dehydrated,b!==null))return mS(i,o,T,d,b,g,l);if(w){w=d.fallback,T=o.mode,g=i.child,b=g.sibling;var L={mode:"hidden",children:d.children};return(T&1)===0&&o.child!==g?(d=o.child,d.childLanes=0,d.pendingProps=L,o.deletions=null):(d=Li(g,L),d.subtreeFlags=g.subtreeFlags&14680064),b!==null?w=Li(b,w):(w=Bs(w,T,l,null),w.flags|=2),w.return=o,d.return=o,d.sibling=w,o.child=d,d=w,w=o.child,T=i.child.memoizedState,T=T===null?Cf(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},w.memoizedState=T,w.childLanes=i.childLanes&~l,o.memoizedState=kf,d}return w=i.child,i=w.sibling,d=Li(w,{mode:"visible",children:d.children}),(o.mode&1)===0&&(d.lanes=l),d.return=o,d.sibling=null,i!==null&&(l=o.deletions,l===null?(o.deletions=[i],o.flags|=16):l.push(i)),o.child=d,o.memoizedState=null,d}function bf(i,o){return o=Hc({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Dc(i,o,l,d){return d!==null&&nf(d),Xo(o,i.child,null,l),i=bf(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function mS(i,o,l,d,g,w,T){if(l)return o.flags&256?(o.flags&=-257,d=If(Error(t(422))),Dc(i,o,T,d)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(w=d.fallback,g=o.mode,d=Hc({mode:"visible",children:d.children},g,0,null),w=Bs(w,g,T,null),w.flags|=2,d.return=o,w.return=o,d.sibling=w,o.child=d,(o.mode&1)!==0&&Xo(o,i.child,null,T),o.child.memoizedState=Cf(T),o.memoizedState=kf,w);if((o.mode&1)===0)return Dc(i,o,T,null);if(g.data==="$!"){if(d=g.nextSibling&&g.nextSibling.dataset,d)var b=d.dgst;return d=b,w=Error(t(419)),d=If(w,d,void 0),Dc(i,o,T,d)}if(b=(T&i.childLanes)!==0,hn||b){if(d=Nt,d!==null){switch(T&-T){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(d.suspendedLanes|T))!==0?0:g,g!==0&&g!==w.retryLane&&(w.retryLane=g,Kr(i,g),ir(d,i,g,-1))}return Hf(),d=If(Error(t(421))),Dc(i,o,T,d)}return g.data==="$?"?(o.flags|=128,o.child=i.child,o=kS.bind(null,i),g._reactRetry=o,null):(i=w.treeContext,Tn=Si(g.nextSibling),En=o,ot=!0,er=null,i!==null&&(Nn[Dn++]=Hr,Nn[Dn++]=Gr,Nn[Dn++]=Ns,Hr=i.id,Gr=i.overflow,Ns=o),o=bf(o,d.children),o.flags|=4096,o)}function Rv(i,o,l){i.lanes|=o;var d=i.alternate;d!==null&&(d.lanes|=o),af(i.return,o,l)}function Rf(i,o,l,d,g){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:g}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=d,w.tail=l,w.tailMode=g)}function Nv(i,o,l){var d=o.pendingProps,g=d.revealOrder,w=d.tail;if(tn(i,o,d.children,l),d=lt.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Rv(i,l,o);else if(i.tag===19)Rv(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}if(Je(lt,d),(o.mode&1)===0)o.memoizedState=null;else switch(g){case"forwards":for(l=o.child,g=null;l!==null;)i=l.alternate,i!==null&&Pc(i)===null&&(g=l),l=l.sibling;l=g,l===null?(g=o.child,o.child=null):(g=l.sibling,l.sibling=null),Rf(o,!1,g,l,w);break;case"backwards":for(l=null,g=o.child,o.child=null;g!==null;){if(i=g.alternate,i!==null&&Pc(i)===null){o.child=g;break}i=g.sibling,g.sibling=l,l=g,g=i}Rf(o,!0,l,null,w);break;case"together":Rf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function jc(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Yr(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),Ms|=o.lanes,(l&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,l=Li(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=Li(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function gS(i,o,l){switch(o.tag){case 3:kv(o),Yo();break;case 5:Hy(o);break;case 1:cn(o.type)&&gc(o);break;case 4:cf(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,g=o.memoizedProps.value;Je(Ec,d._currentValue),d._currentValue=g;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(Je(lt,lt.current&1),o.flags|=128,null):(l&o.child.childLanes)!==0?bv(i,o,l):(Je(lt,lt.current&1),i=Yr(i,o,l),i!==null?i.sibling:null);Je(lt,lt.current&1);break;case 19:if(d=(l&o.childLanes)!==0,(i.flags&128)!==0){if(d)return Nv(i,o,l);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Je(lt,lt.current),d)break;return null;case 22:case 23:return o.lanes=0,Sv(i,o,l)}return Yr(i,o,l)}var Dv,Nf,jv,Vv;Dv=function(i,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Nf=function(){},jv=function(i,o,l,d){var g=i.memoizedProps;if(g!==d){i=o.stateNode,Vs(_r.current);var w=null;switch(l){case"input":g=ps(i,g),d=ps(i,d),w=[];break;case"select":g=ae({},g,{value:void 0}),d=ae({},d,{value:void 0}),w=[];break;case"textarea":g=za(i,g),d=za(i,d),w=[];break;default:typeof g.onClick!="function"&&typeof d.onClick=="function"&&(i.onclick=fc)}Ka(l,d);var T;l=null;for(G in g)if(!d.hasOwnProperty(G)&&g.hasOwnProperty(G)&&g[G]!=null)if(G==="style"){var b=g[G];for(T in b)b.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(s.hasOwnProperty(G)?w||(w=[]):(w=w||[]).push(G,null));for(G in d){var L=d[G];if(b=g?.[G],d.hasOwnProperty(G)&&L!==b&&(L!=null||b!=null))if(G==="style")if(b){for(T in b)!b.hasOwnProperty(T)||L&&L.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in L)L.hasOwnProperty(T)&&b[T]!==L[T]&&(l||(l={}),l[T]=L[T])}else l||(w||(w=[]),w.push(G,l)),l=L;else G==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,b=b?b.__html:void 0,L!=null&&b!==L&&(w=w||[]).push(G,L)):G==="children"?typeof L!="string"&&typeof L!="number"||(w=w||[]).push(G,""+L):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(s.hasOwnProperty(G)?(L!=null&&G==="onScroll"&&nt("scroll",i),w||b===L||(w=[])):(w=w||[]).push(G,L))}l&&(w=w||[]).push("style",l);var G=w;(o.updateQueue=G)&&(o.flags|=4)}},Vv=function(i,o,l,d){l!==d&&(o.flags|=4)};function kl(i,o){if(!ot)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function Ht(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,d=0;if(o)for(var g=i.child;g!==null;)l|=g.lanes|g.childLanes,d|=g.subtreeFlags&14680064,d|=g.flags&14680064,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)l|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=d,i.childLanes=l,o}function yS(i,o,l){var d=o.pendingProps;switch(Zd(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(o),null;case 1:return cn(o.type)&&mc(),Ht(o),null;case 3:return d=o.stateNode,ea(),rt(un),rt(qt),ff(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(_c(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,er!==null&&($f(er),er=null))),Nf(i,o),Ht(o),null;case 5:hf(o);var g=Vs(Tl.current);if(l=o.type,i!==null&&o.stateNode!=null)jv(i,o,l,d,g),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(t(166));return Ht(o),null}if(i=Vs(_r.current),_c(o)){d=o.stateNode,l=o.type;var w=o.memoizedProps;switch(d[wr]=o,d[vl]=w,i=(o.mode&1)!==0,l){case"dialog":nt("cancel",d),nt("close",d);break;case"iframe":case"object":case"embed":nt("load",d);break;case"video":case"audio":for(g=0;g<ml.length;g++)nt(ml[g],d);break;case"source":nt("error",d);break;case"img":case"image":case"link":nt("error",d),nt("load",d);break;case"details":nt("toggle",d);break;case"input":mo(d,w),nt("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!w.multiple},nt("invalid",d);break;case"textarea":yo(d,w),nt("invalid",d)}Ka(l,w),g=null;for(var T in w)if(w.hasOwnProperty(T)){var b=w[T];T==="children"?typeof b=="string"?d.textContent!==b&&(w.suppressHydrationWarning!==!0&&dc(d.textContent,b,i),g=["children",b]):typeof b=="number"&&d.textContent!==""+b&&(w.suppressHydrationWarning!==!0&&dc(d.textContent,b,i),g=["children",""+b]):s.hasOwnProperty(T)&&b!=null&&T==="onScroll"&&nt("scroll",d)}switch(l){case"input":Vt(d),Ou(d,w,!0);break;case"textarea":Vt(d),$a(d);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(d.onclick=fc)}d=g,o.updateQueue=d,d!==null&&(o.flags|=4)}else{T=g.nodeType===9?g:g.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Tt(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=T.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof d.is=="string"?i=T.createElement(l,{is:d.is}):(i=T.createElement(l),l==="select"&&(T=i,d.multiple?T.multiple=!0:d.size&&(T.size=d.size))):i=T.createElementNS(i,l),i[wr]=o,i[vl]=d,Dv(i,o,!1,!1),o.stateNode=i;e:{switch(T=Qa(l,d),l){case"dialog":nt("cancel",i),nt("close",i),g=d;break;case"iframe":case"object":case"embed":nt("load",i),g=d;break;case"video":case"audio":for(g=0;g<ml.length;g++)nt(ml[g],i);g=d;break;case"source":nt("error",i),g=d;break;case"img":case"image":case"link":nt("error",i),nt("load",i),g=d;break;case"details":nt("toggle",i),g=d;break;case"input":mo(i,d),g=ps(i,d),nt("invalid",i);break;case"option":g=d;break;case"select":i._wrapperState={wasMultiple:!!d.multiple},g=ae({},d,{value:void 0}),nt("invalid",i);break;case"textarea":yo(i,d),g=za(i,d),nt("invalid",i);break;default:g=d}Ka(l,g),b=g;for(w in b)if(b.hasOwnProperty(w)){var L=b[w];w==="style"?Ha(i,L):w==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&qa(i,L)):w==="children"?typeof L=="string"?(l!=="textarea"||L!=="")&&pi(i,L):typeof L=="number"&&pi(i,""+L):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(s.hasOwnProperty(w)?L!=null&&w==="onScroll"&&nt("scroll",i):L!=null&&R(i,w,L,T))}switch(l){case"input":Vt(i),Ou(i,d,!1);break;case"textarea":Vt(i),$a(i);break;case"option":d.value!=null&&i.setAttribute("value",""+Be(d.value));break;case"select":i.multiple=!!d.multiple,w=d.value,w!=null?Lr(i,!!d.multiple,w,!1):d.defaultValue!=null&&Lr(i,!!d.multiple,d.defaultValue,!0);break;default:typeof g.onClick=="function"&&(i.onclick=fc)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Ht(o),null;case 6:if(i&&o.stateNode!=null)Vv(i,o,i.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(t(166));if(l=Vs(Tl.current),Vs(_r.current),_c(o)){if(d=o.stateNode,l=o.memoizedProps,d[wr]=o,(w=d.nodeValue!==l)&&(i=En,i!==null))switch(i.tag){case 3:dc(d.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&dc(d.nodeValue,l,(i.mode&1)!==0)}w&&(o.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[wr]=o,o.stateNode=d}return Ht(o),null;case 13:if(rt(lt),d=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(ot&&Tn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Oy(),Yo(),o.flags|=98560,w=!1;else if(w=_c(o),d!==null&&d.dehydrated!==null){if(i===null){if(!w)throw Error(t(318));if(w=o.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(t(317));w[wr]=o}else Yo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ht(o),w=!1}else er!==null&&($f(er),er=null),w=!0;if(!w)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=l,o):(d=d!==null,d!==(i!==null&&i.memoizedState!==null)&&d&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(lt.current&1)!==0?At===0&&(At=3):Hf())),o.updateQueue!==null&&(o.flags|=4),Ht(o),null);case 4:return ea(),Nf(i,o),i===null&&gl(o.stateNode.containerInfo),Ht(o),null;case 10:return of(o.type._context),Ht(o),null;case 17:return cn(o.type)&&mc(),Ht(o),null;case 19:if(rt(lt),w=o.memoizedState,w===null)return Ht(o),null;if(d=(o.flags&128)!==0,T=w.rendering,T===null)if(d)kl(w,!1);else{if(At!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(T=Pc(i),T!==null){for(o.flags|=128,kl(w,!1),d=T.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=l,l=o.child;l!==null;)w=l,i=d,w.flags&=14680066,T=w.alternate,T===null?(w.childLanes=0,w.lanes=i,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=T.childLanes,w.lanes=T.lanes,w.child=T.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=T.memoizedProps,w.memoizedState=T.memoizedState,w.updateQueue=T.updateQueue,w.type=T.type,i=T.dependencies,w.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return Je(lt,lt.current&1|2),o.child}i=i.sibling}w.tail!==null&&Xe()>ia&&(o.flags|=128,d=!0,kl(w,!1),o.lanes=4194304)}else{if(!d)if(i=Pc(T),i!==null){if(o.flags|=128,d=!0,l=i.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),kl(w,!0),w.tail===null&&w.tailMode==="hidden"&&!T.alternate&&!ot)return Ht(o),null}else 2*Xe()-w.renderingStartTime>ia&&l!==1073741824&&(o.flags|=128,d=!0,kl(w,!1),o.lanes=4194304);w.isBackwards?(T.sibling=o.child,o.child=T):(l=w.last,l!==null?l.sibling=T:o.child=T,w.last=T)}return w.tail!==null?(o=w.tail,w.rendering=o,w.tail=o.sibling,w.renderingStartTime=Xe(),o.sibling=null,l=lt.current,Je(lt,d?l&1|2:l&1),o):(Ht(o),null);case 22:case 23:return Wf(),d=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==d&&(o.flags|=8192),d&&(o.mode&1)!==0?(In&1073741824)!==0&&(Ht(o),o.subtreeFlags&6&&(o.flags|=8192)):Ht(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function vS(i,o){switch(Zd(o),o.tag){case 1:return cn(o.type)&&mc(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return ea(),rt(un),rt(qt),ff(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return hf(o),null;case 13:if(rt(lt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Yo()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return rt(lt),null;case 4:return ea(),null;case 10:return of(o.type._context),null;case 22:case 23:return Wf(),null;case 24:return null;default:return null}}var Vc=!1,Gt=!1,wS=typeof WeakSet=="function"?WeakSet:Set,he=null;function na(i,o){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){dt(i,o,d)}else l.current=null}function Df(i,o,l){try{l()}catch(d){dt(i,o,d)}}var Lv=!1;function _S(i,o){if(qd=Ei,i=py(),Ld(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var g=d.anchorOffset,w=d.focusNode;d=d.focusOffset;try{l.nodeType,w.nodeType}catch{l=null;break e}var T=0,b=-1,L=-1,G=0,Z=0,te=i,J=null;t:for(;;){for(var ue;te!==l||g!==0&&te.nodeType!==3||(b=T+g),te!==w||d!==0&&te.nodeType!==3||(L=T+d),te.nodeType===3&&(T+=te.nodeValue.length),(ue=te.firstChild)!==null;)J=te,te=ue;for(;;){if(te===i)break t;if(J===l&&++G===g&&(b=T),J===w&&++Z===d&&(L=T),(ue=te.nextSibling)!==null)break;te=J,J=te.parentNode}te=ue}l=b===-1||L===-1?null:{start:b,end:L}}else l=null}l=l||{start:0,end:0}}else l=null;for(Wd={focusedElem:i,selectionRange:l},Ei=!1,he=o;he!==null;)if(o=he,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,he=i;else for(;he!==null;){o=he;try{var de=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var pe=de.memoizedProps,pt=de.memoizedState,q=o.stateNode,F=q.getSnapshotBeforeUpdate(o.elementType===o.type?pe:tr(o.type,pe),pt);q.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var W=o.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ie){dt(o,o.return,ie)}if(i=o.sibling,i!==null){i.return=o.return,he=i;break}he=o.return}return de=Lv,Lv=!1,de}function Cl(i,o,l){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var g=d=d.next;do{if((g.tag&i)===i){var w=g.destroy;g.destroy=void 0,w!==void 0&&Df(o,l,w)}g=g.next}while(g!==d)}}function Lc(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&i)===i){var d=l.create;l.destroy=d()}l=l.next}while(l!==o)}}function jf(i){var o=i.ref;if(o!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof o=="function"?o(i):o.current=i}}function Mv(i){var o=i.alternate;o!==null&&(i.alternate=null,Mv(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[wr],delete o[vl],delete o[Qd],delete o[nS],delete o[rS])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Ov(i){return i.tag===5||i.tag===3||i.tag===4}function Fv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Ov(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Vf(i,o,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(i,o):l.insertBefore(i,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(i,l)):(o=l,o.appendChild(i)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=fc));else if(d!==4&&(i=i.child,i!==null))for(Vf(i,o,l),i=i.sibling;i!==null;)Vf(i,o,l),i=i.sibling}function Lf(i,o,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(d!==4&&(i=i.child,i!==null))for(Lf(i,o,l),i=i.sibling;i!==null;)Lf(i,o,l),i=i.sibling}var Ot=null,nr=!1;function Ri(i,o,l){for(l=l.child;l!==null;)Uv(i,o,l),l=l.sibling}function Uv(i,o,l){if(vn&&typeof vn.onCommitFiberUnmount=="function")try{vn.onCommitFiberUnmount(Ts,l)}catch{}switch(l.tag){case 5:Gt||na(l,o);case 6:var d=Ot,g=nr;Ot=null,Ri(i,o,l),Ot=d,nr=g,Ot!==null&&(nr?(i=Ot,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):Ot.removeChild(l.stateNode));break;case 18:Ot!==null&&(nr?(i=Ot,l=l.stateNode,i.nodeType===8?Kd(i.parentNode,l):i.nodeType===1&&Kd(i,l),Xn(i)):Kd(Ot,l.stateNode));break;case 4:d=Ot,g=nr,Ot=l.stateNode.containerInfo,nr=!0,Ri(i,o,l),Ot=d,nr=g;break;case 0:case 11:case 14:case 15:if(!Gt&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){g=d=d.next;do{var w=g,T=w.destroy;w=w.tag,T!==void 0&&((w&2)!==0||(w&4)!==0)&&Df(l,o,T),g=g.next}while(g!==d)}Ri(i,o,l);break;case 1:if(!Gt&&(na(l,o),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(b){dt(l,o,b)}Ri(i,o,l);break;case 21:Ri(i,o,l);break;case 22:l.mode&1?(Gt=(d=Gt)||l.memoizedState!==null,Ri(i,o,l),Gt=d):Ri(i,o,l);break;default:Ri(i,o,l)}}function Bv(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new wS),o.forEach(function(d){var g=CS.bind(null,i,d);l.has(d)||(l.add(d),d.then(g,g))})}}function rr(i,o){var l=o.deletions;if(l!==null)for(var d=0;d<l.length;d++){var g=l[d];try{var w=i,T=o,b=T;e:for(;b!==null;){switch(b.tag){case 5:Ot=b.stateNode,nr=!1;break e;case 3:Ot=b.stateNode.containerInfo,nr=!0;break e;case 4:Ot=b.stateNode.containerInfo,nr=!0;break e}b=b.return}if(Ot===null)throw Error(t(160));Uv(w,T,g),Ot=null,nr=!1;var L=g.alternate;L!==null&&(L.return=null),g.return=null}catch(G){dt(g,o,G)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)zv(o,i),o=o.sibling}function zv(i,o){var l=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(rr(o,i),Er(i),d&4){try{Cl(3,i,i.return),Lc(3,i)}catch(pe){dt(i,i.return,pe)}try{Cl(5,i,i.return)}catch(pe){dt(i,i.return,pe)}}break;case 1:rr(o,i),Er(i),d&512&&l!==null&&na(l,l.return);break;case 5:if(rr(o,i),Er(i),d&512&&l!==null&&na(l,l.return),i.flags&32){var g=i.stateNode;try{pi(g,"")}catch(pe){dt(i,i.return,pe)}}if(d&4&&(g=i.stateNode,g!=null)){var w=i.memoizedProps,T=l!==null?l.memoizedProps:w,b=i.type,L=i.updateQueue;if(i.updateQueue=null,L!==null)try{b==="input"&&w.type==="radio"&&w.name!=null&&Ua(g,w),Qa(b,T);var G=Qa(b,w);for(T=0;T<L.length;T+=2){var Z=L[T],te=L[T+1];Z==="style"?Ha(g,te):Z==="dangerouslySetInnerHTML"?qa(g,te):Z==="children"?pi(g,te):R(g,Z,te,G)}switch(b){case"input":Ba(g,w);break;case"textarea":vo(g,w);break;case"select":var J=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!w.multiple;var ue=w.value;ue!=null?Lr(g,!!w.multiple,ue,!1):J!==!!w.multiple&&(w.defaultValue!=null?Lr(g,!!w.multiple,w.defaultValue,!0):Lr(g,!!w.multiple,w.multiple?[]:"",!1))}g[vl]=w}catch(pe){dt(i,i.return,pe)}}break;case 6:if(rr(o,i),Er(i),d&4){if(i.stateNode===null)throw Error(t(162));g=i.stateNode,w=i.memoizedProps;try{g.nodeValue=w}catch(pe){dt(i,i.return,pe)}}break;case 3:if(rr(o,i),Er(i),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Xn(o.containerInfo)}catch(pe){dt(i,i.return,pe)}break;case 4:rr(o,i),Er(i);break;case 13:rr(o,i),Er(i),g=i.child,g.flags&8192&&(w=g.memoizedState!==null,g.stateNode.isHidden=w,!w||g.alternate!==null&&g.alternate.memoizedState!==null||(Ff=Xe())),d&4&&Bv(i);break;case 22:if(Z=l!==null&&l.memoizedState!==null,i.mode&1?(Gt=(G=Gt)||Z,rr(o,i),Gt=G):rr(o,i),Er(i),d&8192){if(G=i.memoizedState!==null,(i.stateNode.isHidden=G)&&!Z&&(i.mode&1)!==0)for(he=i,Z=i.child;Z!==null;){for(te=he=Z;he!==null;){switch(J=he,ue=J.child,J.tag){case 0:case 11:case 14:case 15:Cl(4,J,J.return);break;case 1:na(J,J.return);var de=J.stateNode;if(typeof de.componentWillUnmount=="function"){d=J,l=J.return;try{o=d,de.props=o.memoizedProps,de.state=o.memoizedState,de.componentWillUnmount()}catch(pe){dt(d,l,pe)}}break;case 5:na(J,J.return);break;case 22:if(J.memoizedState!==null){Wv(te);continue}}ue!==null?(ue.return=J,he=ue):Wv(te)}Z=Z.sibling}e:for(Z=null,te=i;;){if(te.tag===5){if(Z===null){Z=te;try{g=te.stateNode,G?(w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(b=te.stateNode,L=te.memoizedProps.style,T=L!=null&&L.hasOwnProperty("display")?L.display:null,b.style.display=Wa("display",T))}catch(pe){dt(i,i.return,pe)}}}else if(te.tag===6){if(Z===null)try{te.stateNode.nodeValue=G?"":te.memoizedProps}catch(pe){dt(i,i.return,pe)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===i)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===i)break e;for(;te.sibling===null;){if(te.return===null||te.return===i)break e;Z===te&&(Z=null),te=te.return}Z===te&&(Z=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:rr(o,i),Er(i),d&4&&Bv(i);break;case 21:break;default:rr(o,i),Er(i)}}function Er(i){var o=i.flags;if(o&2){try{e:{for(var l=i.return;l!==null;){if(Ov(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var g=d.stateNode;d.flags&32&&(pi(g,""),d.flags&=-33);var w=Fv(i);Lf(i,w,g);break;case 3:case 4:var T=d.stateNode.containerInfo,b=Fv(i);Vf(i,b,T);break;default:throw Error(t(161))}}catch(L){dt(i,i.return,L)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function xS(i,o,l){he=i,$v(i)}function $v(i,o,l){for(var d=(i.mode&1)!==0;he!==null;){var g=he,w=g.child;if(g.tag===22&&d){var T=g.memoizedState!==null||Vc;if(!T){var b=g.alternate,L=b!==null&&b.memoizedState!==null||Gt;b=Vc;var G=Gt;if(Vc=T,(Gt=L)&&!G)for(he=g;he!==null;)T=he,L=T.child,T.tag===22&&T.memoizedState!==null?Hv(g):L!==null?(L.return=T,he=L):Hv(g);for(;w!==null;)he=w,$v(w),w=w.sibling;he=g,Vc=b,Gt=G}qv(i)}else(g.subtreeFlags&8772)!==0&&w!==null?(w.return=g,he=w):qv(i)}}function qv(i){for(;he!==null;){var o=he;if((o.flags&8772)!==0){var l=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Gt||Lc(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!Gt)if(l===null)d.componentDidMount();else{var g=o.elementType===o.type?l.memoizedProps:tr(o.type,l.memoizedProps);d.componentDidUpdate(g,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var w=o.updateQueue;w!==null&&Wy(o,w,d);break;case 3:var T=o.updateQueue;if(T!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}Wy(o,T,l)}break;case 5:var b=o.stateNode;if(l===null&&o.flags&4){l=b;var L=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&l.focus();break;case"img":L.src&&(l.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var G=o.alternate;if(G!==null){var Z=G.memoizedState;if(Z!==null){var te=Z.dehydrated;te!==null&&Xn(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Gt||o.flags&512&&jf(o)}catch(J){dt(o,o.return,J)}}if(o===i){he=null;break}if(l=o.sibling,l!==null){l.return=o.return,he=l;break}he=o.return}}function Wv(i){for(;he!==null;){var o=he;if(o===i){he=null;break}var l=o.sibling;if(l!==null){l.return=o.return,he=l;break}he=o.return}}function Hv(i){for(;he!==null;){var o=he;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{Lc(4,o)}catch(L){dt(o,l,L)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var g=o.return;try{d.componentDidMount()}catch(L){dt(o,g,L)}}var w=o.return;try{jf(o)}catch(L){dt(o,w,L)}break;case 5:var T=o.return;try{jf(o)}catch(L){dt(o,T,L)}}}catch(L){dt(o,o.return,L)}if(o===i){he=null;break}var b=o.sibling;if(b!==null){b.return=o.return,he=b;break}he=o.return}}var ES=Math.ceil,Mc=K.ReactCurrentDispatcher,Mf=K.ReactCurrentOwner,Ln=K.ReactCurrentBatchConfig,ze=0,Nt=null,wt=null,Ft=0,In=0,ra=Pi(0),At=0,bl=null,Ms=0,Oc=0,Of=0,Rl=null,dn=null,Ff=0,ia=1/0,Xr=null,Fc=!1,Uf=null,Ni=null,Uc=!1,Di=null,Bc=0,Nl=0,Bf=null,zc=-1,$c=0;function nn(){return(ze&6)!==0?Xe():zc!==-1?zc:zc=Xe()}function ji(i){return(i.mode&1)===0?1:(ze&2)!==0&&Ft!==0?Ft&-Ft:sS.transition!==null?($c===0&&($c=Ss()),$c):(i=Ve,i!==0||(i=window.event,i=i===void 0?16:ol(i.type)),i)}function ir(i,o,l,d){if(50<Nl)throw Nl=0,Bf=null,Error(t(185));vi(i,l,d),((ze&2)===0||i!==Nt)&&(i===Nt&&((ze&2)===0&&(Oc|=l),At===4&&Vi(i,Ft)),fn(i,d),l===1&&ze===0&&(o.mode&1)===0&&(ia=Xe()+500,yc&&ki()))}function fn(i,o){var l=i.callbackNode;Fr(i,o);var d=Is(i,i===Nt?Ft:0);if(d===0)l!==null&&tl(l),i.callbackNode=null,i.callbackPriority=0;else if(o=d&-d,i.callbackPriority!==o){if(l!=null&&tl(l),o===1)i.tag===0?iS(Kv.bind(null,i)):Dy(Kv.bind(null,i)),eS(function(){(ze&6)===0&&ki()}),l=null;else{switch(_i(d)){case 1:l=Es;break;case 4:l=mi;break;case 16:l=Cn;break;case 536870912:l=$u;break;default:l=Cn}l=n0(l,Gv.bind(null,i))}i.callbackPriority=o,i.callbackNode=l}}function Gv(i,o){if(zc=-1,$c=0,(ze&6)!==0)throw Error(t(327));var l=i.callbackNode;if(sa()&&i.callbackNode!==l)return null;var d=Is(i,i===Nt?Ft:0);if(d===0)return null;if((d&30)!==0||(d&i.expiredLanes)!==0||o)o=qc(i,d);else{o=d;var g=ze;ze|=2;var w=Yv();(Nt!==i||Ft!==o)&&(Xr=null,ia=Xe()+500,Fs(i,o));do try{SS();break}catch(b){Qv(i,b)}while(!0);sf(),Mc.current=w,ze=g,wt!==null?o=0:(Nt=null,Ft=0,o=At)}if(o!==0){if(o===2&&(g=wn(i),g!==0&&(d=g,o=zf(i,g))),o===1)throw l=bl,Fs(i,0),Vi(i,d),fn(i,Xe()),l;if(o===6)Vi(i,d);else{if(g=i.current.alternate,(d&30)===0&&!TS(g)&&(o=qc(i,d),o===2&&(w=wn(i),w!==0&&(d=w,o=zf(i,w))),o===1))throw l=bl,Fs(i,0),Vi(i,d),fn(i,Xe()),l;switch(i.finishedWork=g,i.finishedLanes=d,o){case 0:case 1:throw Error(t(345));case 2:Us(i,dn,Xr);break;case 3:if(Vi(i,d),(d&130023424)===d&&(o=Ff+500-Xe(),10<o)){if(Is(i,0)!==0)break;if(g=i.suspendedLanes,(g&d)!==d){nn(),i.pingedLanes|=i.suspendedLanes&g;break}i.timeoutHandle=Gd(Us.bind(null,i,dn,Xr),o);break}Us(i,dn,Xr);break;case 4:if(Vi(i,d),(d&4194240)===d)break;for(o=i.eventTimes,g=-1;0<d;){var T=31-Zt(d);w=1<<T,T=o[T],T>g&&(g=T),d&=~w}if(d=g,d=Xe()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*ES(d/1960))-d,10<d){i.timeoutHandle=Gd(Us.bind(null,i,dn,Xr),d);break}Us(i,dn,Xr);break;case 5:Us(i,dn,Xr);break;default:throw Error(t(329))}}}return fn(i,Xe()),i.callbackNode===l?Gv.bind(null,i):null}function zf(i,o){var l=Rl;return i.current.memoizedState.isDehydrated&&(Fs(i,o).flags|=256),i=qc(i,o),i!==2&&(o=dn,dn=l,o!==null&&$f(o)),i}function $f(i){dn===null?dn=i:dn.push.apply(dn,i)}function TS(i){for(var o=i;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var g=l[d],w=g.getSnapshot;g=g.value;try{if(!Zn(w(),g))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Vi(i,o){for(o&=~Of,o&=~Oc,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var l=31-Zt(o),d=1<<l;i[l]=-1,o&=~d}}function Kv(i){if((ze&6)!==0)throw Error(t(327));sa();var o=Is(i,0);if((o&1)===0)return fn(i,Xe()),null;var l=qc(i,o);if(i.tag!==0&&l===2){var d=wn(i);d!==0&&(o=d,l=zf(i,d))}if(l===1)throw l=bl,Fs(i,0),Vi(i,o),fn(i,Xe()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Us(i,dn,Xr),fn(i,Xe()),null}function qf(i,o){var l=ze;ze|=1;try{return i(o)}finally{ze=l,ze===0&&(ia=Xe()+500,yc&&ki())}}function Os(i){Di!==null&&Di.tag===0&&(ze&6)===0&&sa();var o=ze;ze|=1;var l=Ln.transition,d=Ve;try{if(Ln.transition=null,Ve=1,i)return i()}finally{Ve=d,Ln.transition=l,ze=o,(ze&6)===0&&ki()}}function Wf(){In=ra.current,rt(ra)}function Fs(i,o){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,Z1(l)),wt!==null)for(l=wt.return;l!==null;){var d=l;switch(Zd(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&mc();break;case 3:ea(),rt(un),rt(qt),ff();break;case 5:hf(d);break;case 4:ea();break;case 13:rt(lt);break;case 19:rt(lt);break;case 10:of(d.type._context);break;case 22:case 23:Wf()}l=l.return}if(Nt=i,wt=i=Li(i.current,null),Ft=In=o,At=0,bl=null,Of=Oc=Ms=0,dn=Rl=null,js!==null){for(o=0;o<js.length;o++)if(l=js[o],d=l.interleaved,d!==null){l.interleaved=null;var g=d.next,w=l.pending;if(w!==null){var T=w.next;w.next=g,d.next=T}l.pending=d}js=null}return i}function Qv(i,o){do{var l=wt;try{if(sf(),Ac.current=Rc,kc){for(var d=ut.memoizedState;d!==null;){var g=d.queue;g!==null&&(g.pending=null),d=d.next}kc=!1}if(Ls=0,Rt=Pt=ut=null,Il=!1,Sl=0,Mf.current=null,l===null||l.return===null){At=1,bl=o,wt=null;break}e:{var w=i,T=l.return,b=l,L=o;if(o=Ft,b.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var G=L,Z=b,te=Z.tag;if((Z.mode&1)===0&&(te===0||te===11||te===15)){var J=Z.alternate;J?(Z.updateQueue=J.updateQueue,Z.memoizedState=J.memoizedState,Z.lanes=J.lanes):(Z.updateQueue=null,Z.memoizedState=null)}var ue=_v(T);if(ue!==null){ue.flags&=-257,xv(ue,T,b,w,o),ue.mode&1&&wv(w,G,o),o=ue,L=G;var de=o.updateQueue;if(de===null){var pe=new Set;pe.add(L),o.updateQueue=pe}else de.add(L);break e}else{if((o&1)===0){wv(w,G,o),Hf();break e}L=Error(t(426))}}else if(ot&&b.mode&1){var pt=_v(T);if(pt!==null){(pt.flags&65536)===0&&(pt.flags|=256),xv(pt,T,b,w,o),nf(ta(L,b));break e}}w=L=ta(L,b),At!==4&&(At=2),Rl===null?Rl=[w]:Rl.push(w),w=T;do{switch(w.tag){case 3:w.flags|=65536,o&=-o,w.lanes|=o;var q=yv(w,L,o);qy(w,q);break e;case 1:b=L;var F=w.type,W=w.stateNode;if((w.flags&128)===0&&(typeof F.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(Ni===null||!Ni.has(W)))){w.flags|=65536,o&=-o,w.lanes|=o;var ie=vv(w,b,o);qy(w,ie);break e}}w=w.return}while(w!==null)}Jv(l)}catch(ge){o=ge,wt===l&&l!==null&&(wt=l=l.return);continue}break}while(!0)}function Yv(){var i=Mc.current;return Mc.current=Rc,i===null?Rc:i}function Hf(){(At===0||At===3||At===2)&&(At=4),Nt===null||(Ms&268435455)===0&&(Oc&268435455)===0||Vi(Nt,Ft)}function qc(i,o){var l=ze;ze|=2;var d=Yv();(Nt!==i||Ft!==o)&&(Xr=null,Fs(i,o));do try{IS();break}catch(g){Qv(i,g)}while(!0);if(sf(),ze=l,Mc.current=d,wt!==null)throw Error(t(261));return Nt=null,Ft=0,At}function IS(){for(;wt!==null;)Xv(wt)}function SS(){for(;wt!==null&&!Bu();)Xv(wt)}function Xv(i){var o=t0(i.alternate,i,In);i.memoizedProps=i.pendingProps,o===null?Jv(i):wt=o,Mf.current=null}function Jv(i){var o=i;do{var l=o.alternate;if(i=o.return,(o.flags&32768)===0){if(l=yS(l,o,In),l!==null){wt=l;return}}else{if(l=vS(l,o),l!==null){l.flags&=32767,wt=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{At=6,wt=null;return}}if(o=o.sibling,o!==null){wt=o;return}wt=o=i}while(o!==null);At===0&&(At=5)}function Us(i,o,l){var d=Ve,g=Ln.transition;try{Ln.transition=null,Ve=1,PS(i,o,l,d)}finally{Ln.transition=g,Ve=d}return null}function PS(i,o,l,d){do sa();while(Di!==null);if((ze&6)!==0)throw Error(t(327));l=i.finishedWork;var g=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var w=l.lanes|l.childLanes;if(Ye(i,w),i===Nt&&(wt=Nt=null,Ft=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Uc||(Uc=!0,n0(Cn,function(){return sa(),null})),w=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||w){w=Ln.transition,Ln.transition=null;var T=Ve;Ve=1;var b=ze;ze|=4,Mf.current=null,_S(i,l),zv(l,i),H1(Wd),Ei=!!qd,Wd=qd=null,i.current=l,xS(l),kd(),ze=b,Ve=T,Ln.transition=w}else i.current=l;if(Uc&&(Uc=!1,Di=i,Bc=g),w=i.pendingLanes,w===0&&(Ni=null),qu(l.stateNode),fn(i,Xe()),o!==null)for(d=i.onRecoverableError,l=0;l<o.length;l++)g=o[l],d(g.value,{componentStack:g.stack,digest:g.digest});if(Fc)throw Fc=!1,i=Uf,Uf=null,i;return(Bc&1)!==0&&i.tag!==0&&sa(),w=i.pendingLanes,(w&1)!==0?i===Bf?Nl++:(Nl=0,Bf=i):Nl=0,ki(),null}function sa(){if(Di!==null){var i=_i(Bc),o=Ln.transition,l=Ve;try{if(Ln.transition=null,Ve=16>i?16:i,Di===null)var d=!1;else{if(i=Di,Di=null,Bc=0,(ze&6)!==0)throw Error(t(331));var g=ze;for(ze|=4,he=i.current;he!==null;){var w=he,T=w.child;if((he.flags&16)!==0){var b=w.deletions;if(b!==null){for(var L=0;L<b.length;L++){var G=b[L];for(he=G;he!==null;){var Z=he;switch(Z.tag){case 0:case 11:case 15:Cl(8,Z,w)}var te=Z.child;if(te!==null)te.return=Z,he=te;else for(;he!==null;){Z=he;var J=Z.sibling,ue=Z.return;if(Mv(Z),Z===G){he=null;break}if(J!==null){J.return=ue,he=J;break}he=ue}}}var de=w.alternate;if(de!==null){var pe=de.child;if(pe!==null){de.child=null;do{var pt=pe.sibling;pe.sibling=null,pe=pt}while(pe!==null)}}he=w}}if((w.subtreeFlags&2064)!==0&&T!==null)T.return=w,he=T;else e:for(;he!==null;){if(w=he,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:Cl(9,w,w.return)}var q=w.sibling;if(q!==null){q.return=w.return,he=q;break e}he=w.return}}var F=i.current;for(he=F;he!==null;){T=he;var W=T.child;if((T.subtreeFlags&2064)!==0&&W!==null)W.return=T,he=W;else e:for(T=F;he!==null;){if(b=he,(b.flags&2048)!==0)try{switch(b.tag){case 0:case 11:case 15:Lc(9,b)}}catch(ge){dt(b,b.return,ge)}if(b===T){he=null;break e}var ie=b.sibling;if(ie!==null){ie.return=b.return,he=ie;break e}he=b.return}}if(ze=g,ki(),vn&&typeof vn.onPostCommitFiberRoot=="function")try{vn.onPostCommitFiberRoot(Ts,i)}catch{}d=!0}return d}finally{Ve=l,Ln.transition=o}}return!1}function Zv(i,o,l){o=ta(l,o),o=yv(i,o,1),i=bi(i,o,1),o=nn(),i!==null&&(vi(i,1,o),fn(i,o))}function dt(i,o,l){if(i.tag===3)Zv(i,i,l);else for(;o!==null;){if(o.tag===3){Zv(o,i,l);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ni===null||!Ni.has(d))){i=ta(l,i),i=vv(o,i,1),o=bi(o,i,1),i=nn(),o!==null&&(vi(o,1,i),fn(o,i));break}}o=o.return}}function AS(i,o,l){var d=i.pingCache;d!==null&&d.delete(o),o=nn(),i.pingedLanes|=i.suspendedLanes&l,Nt===i&&(Ft&l)===l&&(At===4||At===3&&(Ft&130023424)===Ft&&500>Xe()-Ff?Fs(i,0):Of|=l),fn(i,o)}function e0(i,o){o===0&&((i.mode&1)===0?o=1:(o=ko,ko<<=1,(ko&130023424)===0&&(ko=4194304)));var l=nn();i=Kr(i,o),i!==null&&(vi(i,o,l),fn(i,l))}function kS(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),e0(i,l)}function CS(i,o){var l=0;switch(i.tag){case 13:var d=i.stateNode,g=i.memoizedState;g!==null&&(l=g.retryLane);break;case 19:d=i.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(o),e0(i,l)}var t0;t0=function(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps||un.current)hn=!0;else{if((i.lanes&l)===0&&(o.flags&128)===0)return hn=!1,gS(i,o,l);hn=(i.flags&131072)!==0}else hn=!1,ot&&(o.flags&1048576)!==0&&jy(o,wc,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;jc(i,o),i=o.pendingProps;var g=Go(o,qt.current);Zo(o,l),g=gf(null,o,d,i,g,l);var w=yf();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,cn(d)?(w=!0,gc(o)):w=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,uf(o),g.updater=Nc,o.stateNode=g,g._reactInternals=o,Tf(o,d,i,l),o=Af(null,o,d,!0,w,l)):(o.tag=0,ot&&w&&Jd(o),tn(null,o,g,l),o=o.child),o;case 16:d=o.elementType;e:{switch(jc(i,o),i=o.pendingProps,g=d._init,d=g(d._payload),o.type=d,g=o.tag=RS(d),i=tr(d,i),g){case 0:o=Pf(null,o,d,i,l);break e;case 1:o=Av(null,o,d,i,l);break e;case 11:o=Ev(null,o,d,i,l);break e;case 14:o=Tv(null,o,d,tr(d.type,i),l);break e}throw Error(t(306,d,""))}return o;case 0:return d=o.type,g=o.pendingProps,g=o.elementType===d?g:tr(d,g),Pf(i,o,d,g,l);case 1:return d=o.type,g=o.pendingProps,g=o.elementType===d?g:tr(d,g),Av(i,o,d,g,l);case 3:e:{if(kv(o),i===null)throw Error(t(387));d=o.pendingProps,w=o.memoizedState,g=w.element,$y(i,o),Sc(o,d,null,l);var T=o.memoizedState;if(d=T.element,w.isDehydrated)if(w={element:d,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){g=ta(Error(t(423)),o),o=Cv(i,o,d,l,g);break e}else if(d!==g){g=ta(Error(t(424)),o),o=Cv(i,o,d,l,g);break e}else for(Tn=Si(o.stateNode.containerInfo.firstChild),En=o,ot=!0,er=null,l=By(o,null,d,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Yo(),d===g){o=Yr(i,o,l);break e}tn(i,o,d,l)}o=o.child}return o;case 5:return Hy(o),i===null&&tf(o),d=o.type,g=o.pendingProps,w=i!==null?i.memoizedProps:null,T=g.children,Hd(d,g)?T=null:w!==null&&Hd(d,w)&&(o.flags|=32),Pv(i,o),tn(i,o,T,l),o.child;case 6:return i===null&&tf(o),null;case 13:return bv(i,o,l);case 4:return cf(o,o.stateNode.containerInfo),d=o.pendingProps,i===null?o.child=Xo(o,null,d,l):tn(i,o,d,l),o.child;case 11:return d=o.type,g=o.pendingProps,g=o.elementType===d?g:tr(d,g),Ev(i,o,d,g,l);case 7:return tn(i,o,o.pendingProps,l),o.child;case 8:return tn(i,o,o.pendingProps.children,l),o.child;case 12:return tn(i,o,o.pendingProps.children,l),o.child;case 10:e:{if(d=o.type._context,g=o.pendingProps,w=o.memoizedProps,T=g.value,Je(Ec,d._currentValue),d._currentValue=T,w!==null)if(Zn(w.value,T)){if(w.children===g.children&&!un.current){o=Yr(i,o,l);break e}}else for(w=o.child,w!==null&&(w.return=o);w!==null;){var b=w.dependencies;if(b!==null){T=w.child;for(var L=b.firstContext;L!==null;){if(L.context===d){if(w.tag===1){L=Qr(-1,l&-l),L.tag=2;var G=w.updateQueue;if(G!==null){G=G.shared;var Z=G.pending;Z===null?L.next=L:(L.next=Z.next,Z.next=L),G.pending=L}}w.lanes|=l,L=w.alternate,L!==null&&(L.lanes|=l),af(w.return,l,o),b.lanes|=l;break}L=L.next}}else if(w.tag===10)T=w.type===o.type?null:w.child;else if(w.tag===18){if(T=w.return,T===null)throw Error(t(341));T.lanes|=l,b=T.alternate,b!==null&&(b.lanes|=l),af(T,l,o),T=w.sibling}else T=w.child;if(T!==null)T.return=w;else for(T=w;T!==null;){if(T===o){T=null;break}if(w=T.sibling,w!==null){w.return=T.return,T=w;break}T=T.return}w=T}tn(i,o,g.children,l),o=o.child}return o;case 9:return g=o.type,d=o.pendingProps.children,Zo(o,l),g=jn(g),d=d(g),o.flags|=1,tn(i,o,d,l),o.child;case 14:return d=o.type,g=tr(d,o.pendingProps),g=tr(d.type,g),Tv(i,o,d,g,l);case 15:return Iv(i,o,o.type,o.pendingProps,l);case 17:return d=o.type,g=o.pendingProps,g=o.elementType===d?g:tr(d,g),jc(i,o),o.tag=1,cn(d)?(i=!0,gc(o)):i=!1,Zo(o,l),mv(o,d,g),Tf(o,d,g,l),Af(null,o,d,!0,i,l);case 19:return Nv(i,o,l);case 22:return Sv(i,o,l)}throw Error(t(156,o.tag))};function n0(i,o){return Po(i,o)}function bS(i,o,l,d){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(i,o,l,d){return new bS(i,o,l,d)}function Gf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function RS(i){if(typeof i=="function")return Gf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===z)return 11;if(i===tt)return 14}return 2}function Li(i,o){var l=i.alternate;return l===null?(l=Mn(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function Wc(i,o,l,d,g,w){var T=2;if(d=i,typeof i=="function")Gf(i)&&(T=1);else if(typeof i=="string")T=5;else e:switch(i){case N:return Bs(l.children,g,w,o);case A:T=8,g|=8;break;case C:return i=Mn(12,l,o,g|2),i.elementType=C,i.lanes=w,i;case k:return i=Mn(13,l,o,g),i.elementType=k,i.lanes=w,i;case ce:return i=Mn(19,l,o,g),i.elementType=ce,i.lanes=w,i;case Ce:return Hc(l,g,w,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case V:T=10;break e;case U:T=9;break e;case z:T=11;break e;case tt:T=14;break e;case De:T=16,d=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=Mn(T,l,o,g),o.elementType=i,o.type=d,o.lanes=w,o}function Bs(i,o,l,d){return i=Mn(7,i,d,o),i.lanes=l,i}function Hc(i,o,l,d){return i=Mn(22,i,d,o),i.elementType=Ce,i.lanes=l,i.stateNode={isHidden:!1},i}function Kf(i,o,l){return i=Mn(6,i,null,o),i.lanes=l,i}function Qf(i,o,l){return o=Mn(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function NS(i,o,l,d,g){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yi(0),this.expirationTimes=yi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yi(0),this.identifierPrefix=d,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Yf(i,o,l,d,g,w,T,b,L){return i=new NS(i,o,l,b,L),o===1?(o=1,w===!0&&(o|=8)):o=0,w=Mn(3,null,null,o),i.current=w,w.stateNode=i,w.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},uf(w),i}function DS(i,o,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ne,key:d==null?null:""+d,children:i,containerInfo:o,implementation:l}}function r0(i){if(!i)return Ai;i=i._reactInternals;e:{if(Hn(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(cn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(cn(l))return Ry(i,l,o)}return o}function i0(i,o,l,d,g,w,T,b,L){return i=Yf(l,d,!0,i,g,w,T,b,L),i.context=r0(null),l=i.current,d=nn(),g=ji(l),w=Qr(d,g),w.callback=o??null,bi(l,w,g),i.current.lanes=g,vi(i,g,d),fn(i,d),i}function Gc(i,o,l,d){var g=o.current,w=nn(),T=ji(g);return l=r0(l),o.context===null?o.context=l:o.pendingContext=l,o=Qr(w,T),o.payload={element:i},d=d===void 0?null:d,d!==null&&(o.callback=d),i=bi(g,o,T),i!==null&&(ir(i,g,T,w),Ic(i,g,T)),T}function Kc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function s0(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function Xf(i,o){s0(i,o),(i=i.alternate)&&s0(i,o)}function jS(){return null}var o0=typeof reportError=="function"?reportError:function(i){console.error(i)};function Jf(i){this._internalRoot=i}Qc.prototype.render=Jf.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));Gc(i,o,null,null)},Qc.prototype.unmount=Jf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Os(function(){Gc(null,i,null,null)}),o[qr]=null}};function Qc(i){this._internalRoot=i}Qc.prototype.unstable_scheduleHydration=function(i){if(i){var o=Qu();i={blockedOn:null,target:i,priority:o};for(var l=0;l<mr.length&&o!==0&&o<mr[l].priority;l++);mr.splice(l,0,i),l===0&&Ju(i)}};function Zf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Yc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function a0(){}function VS(i,o,l,d,g){if(g){if(typeof d=="function"){var w=d;d=function(){var G=Kc(T);w.call(G)}}var T=i0(o,d,i,0,null,!1,!1,"",a0);return i._reactRootContainer=T,i[qr]=T.current,gl(i.nodeType===8?i.parentNode:i),Os(),T}for(;g=i.lastChild;)i.removeChild(g);if(typeof d=="function"){var b=d;d=function(){var G=Kc(L);b.call(G)}}var L=Yf(i,0,!1,null,null,!1,!1,"",a0);return i._reactRootContainer=L,i[qr]=L.current,gl(i.nodeType===8?i.parentNode:i),Os(function(){Gc(o,L,l,d)}),L}function Xc(i,o,l,d,g){var w=l._reactRootContainer;if(w){var T=w;if(typeof g=="function"){var b=g;g=function(){var L=Kc(T);b.call(L)}}Gc(o,T,i,g)}else T=VS(l,o,i,g,d);return Kc(T)}Gu=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var l=gi(o.pendingLanes);l!==0&&(wi(o,l|1),fn(o,Xe()),(ze&6)===0&&(ia=Xe()+500,ki()))}break;case 13:Os(function(){var d=Kr(i,1);if(d!==null){var g=nn();ir(d,i,1,g)}}),Xf(i,1)}},Co=function(i){if(i.tag===13){var o=Kr(i,134217728);if(o!==null){var l=nn();ir(o,i,134217728,l)}Xf(i,134217728)}},Ku=function(i){if(i.tag===13){var o=ji(i),l=Kr(i,o);if(l!==null){var d=nn();ir(l,i,o,d)}Xf(i,o)}},Qu=function(){return Ve},Yu=function(i,o){var l=Ve;try{return Ve=i,o()}finally{Ve=l}},_o=function(i,o,l){switch(o){case"input":if(Ba(i,l),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var d=l[o];if(d!==i&&d.form===i.form){var g=pc(d);if(!g)throw Error(t(90));fs(d),Ba(d,g)}}}break;case"textarea":vo(i,l);break;case"select":o=l.value,o!=null&&Lr(i,!!l.multiple,o,!1)}},vs=qf,Xa=Os;var LS={usingClientEntryPoint:!1,Events:[wl,Wo,pc,fr,Ya,qf]},Dl={findFiberByHostInstance:bs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MS={bundleType:Dl.bundleType,version:Dl.version,rendererPackageName:Dl.rendererPackageName,rendererConfig:Dl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:K.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=el(i),i===null?null:i.stateNode},findFiberByHostInstance:Dl.findFiberByHostInstance||jS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jc.isDisabled&&Jc.supportsFiber)try{Ts=Jc.inject(MS),vn=Jc}catch{}}return pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LS,pn.createPortal=function(i,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zf(o))throw Error(t(200));return DS(i,o,null,l)},pn.createRoot=function(i,o){if(!Zf(i))throw Error(t(299));var l=!1,d="",g=o0;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=Yf(i,1,!1,null,null,l,!1,d,g),i[qr]=o.current,gl(i.nodeType===8?i.parentNode:i),new Jf(o)},pn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=el(o),i=i===null?null:i.stateNode,i},pn.flushSync=function(i){return Os(i)},pn.hydrate=function(i,o,l){if(!Yc(o))throw Error(t(200));return Xc(null,i,o,!0,l)},pn.hydrateRoot=function(i,o,l){if(!Zf(i))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,g=!1,w="",T=o0;if(l!=null&&(l.unstable_strictMode===!0&&(g=!0),l.identifierPrefix!==void 0&&(w=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),o=i0(o,null,i,1,l??null,g,!1,w,T),i[qr]=o.current,gl(i),d)for(i=0;i<d.length;i++)l=d[i],g=l._getVersion,g=g(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,g]:o.mutableSourceEagerHydrationData.push(l,g);return new Qc(o)},pn.render=function(i,o,l){if(!Yc(o))throw Error(t(200));return Xc(null,i,o,!1,l)},pn.unmountComponentAtNode=function(i){if(!Yc(i))throw Error(t(40));return i._reactRootContainer?(Os(function(){Xc(null,null,i,!1,function(){i._reactRootContainer=null,i[qr]=null})}),!0):!1},pn.unstable_batchedUpdates=qf,pn.unstable_renderSubtreeIntoContainer=function(i,o,l,d){if(!Yc(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Xc(i,o,l,!1,d)},pn.version="18.3.1-next-f1338f8080-20240426",pn}var m0;function sx(){if(m0)return np.exports;m0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),np.exports=GS(),np.exports}var g0;function KS(){if(g0)return Zc;g0=1;var n=sx();return Zc.createRoot=n.createRoot,Zc.hydrateRoot=n.hydrateRoot,Zc}var QS=KS();sx();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nu(){return nu=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},nu.apply(this,arguments)}var Hi;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Hi||(Hi={}));const y0="popstate";function YS(n){n===void 0&&(n={});function e(r,s){let{pathname:a,search:u,hash:h}=r.location;return Vp("",{pathname:a,search:u,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:xh(s)}return JS(e,t,null,n)}function yt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ox(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function XS(){return Math.random().toString(36).substr(2,8)}function v0(n,e){return{usr:n.state,key:n.key,idx:e}}function Vp(n,e,t,r){return t===void 0&&(t=null),nu({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Ra(e):e,{state:t,key:e&&e.key||r||XS()})}function xh(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ra(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function JS(n,e,t,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,u=s.history,h=Hi.Pop,f=null,p=y();p==null&&(p=0,u.replaceState(nu({},u.state,{idx:p}),""));function y(){return(u.state||{idx:null}).idx}function _(){h=Hi.Pop;let P=y(),H=P==null?null:P-p;p=P,f&&f({action:h,location:j.location,delta:H})}function E(P,H){h=Hi.Push;let B=Vp(j.location,P,H);p=y()+1;let R=v0(B,p),K=j.createHref(B);try{u.pushState(R,"",K)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;s.location.assign(K)}a&&f&&f({action:h,location:j.location,delta:1})}function I(P,H){h=Hi.Replace;let B=Vp(j.location,P,H);p=y();let R=v0(B,p),K=j.createHref(B);u.replaceState(R,"",K),a&&f&&f({action:h,location:j.location,delta:0})}function D(P){let H=s.location.origin!=="null"?s.location.origin:s.location.href,B=typeof P=="string"?P:xh(P);return B=B.replace(/ $/,"%20"),yt(H,"No window.location.(origin|href) available to create URL for href: "+B),new URL(B,H)}let j={get action(){return h},get location(){return n(s,u)},listen(P){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(y0,_),f=P,()=>{s.removeEventListener(y0,_),f=null}},createHref(P){return e(s,P)},createURL:D,encodeLocation(P){let H=D(P);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:E,replace:I,go(P){return u.go(P)}};return j}var w0;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(w0||(w0={}));function ZS(n,e,t){return t===void 0&&(t="/"),eP(n,e,t)}function eP(n,e,t,r){let s=typeof e=="string"?Ra(e):e,a=Cm(s.pathname||"/",t);if(a==null)return null;let u=ax(n);tP(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let p=fP(a);h=cP(u[f],p)}return h}function ax(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let s=(a,u,h)=>{let f={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(yt(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let p=Ki([r,f.relativePath]),y=t.concat(f);a.children&&a.children.length>0&&(yt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),ax(a.children,e,y,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:lP(p,a.index),routesMeta:y})};return n.forEach((a,u)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))s(a,u);else for(let f of lx(a.path))s(a,u,f)}),e}function lx(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let u=lx(r.join("/")),h=[];return h.push(...u.map(f=>f===""?a:[a,f].join("/"))),s&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function tP(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:uP(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const nP=/^:[\w-]+$/,rP=3,iP=2,sP=1,oP=10,aP=-2,_0=n=>n==="*";function lP(n,e){let t=n.split("/"),r=t.length;return t.some(_0)&&(r+=aP),e&&(r+=iP),t.filter(s=>!_0(s)).reduce((s,a)=>s+(nP.test(a)?rP:a===""?sP:oP),r)}function uP(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function cP(n,e,t){let{routesMeta:r}=n,s={},a="/",u=[];for(let h=0;h<r.length;++h){let f=r[h],p=h===r.length-1,y=a==="/"?e:e.slice(a.length)||"/",_=hP({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},y),E=f.route;if(!_)return null;Object.assign(s,_.params),u.push({params:s,pathname:Ki([a,_.pathname]),pathnameBase:yP(Ki([a,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(a=Ki([a,_.pathnameBase]))}return u}function hP(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=dP(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],u=a.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:r.reduce((p,y,_)=>{let{paramName:E,isOptional:I}=y;if(E==="*"){let j=h[_]||"";u=a.slice(0,a.length-j.length).replace(/(.)\/+$/,"$1")}const D=h[_];return I&&!D?p[E]=void 0:p[E]=(D||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:n}}function dP(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),ox(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function fP(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ox(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Cm(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function pP(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?Ra(n):n;return{pathname:t?t.startsWith("/")?t:mP(t,e):e,search:vP(r),hash:wP(s)}}function mP(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function sp(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function gP(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function bm(n,e){let t=gP(n);return e?t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function Rm(n,e,t,r){r===void 0&&(r=!1);let s;typeof n=="string"?s=Ra(n):(s=nu({},n),yt(!s.pathname||!s.pathname.includes("?"),sp("?","pathname","search",s)),yt(!s.pathname||!s.pathname.includes("#"),sp("#","pathname","hash",s)),yt(!s.search||!s.search.includes("#"),sp("#","search","hash",s)));let a=n===""||s.pathname==="",u=a?"/":s.pathname,h;if(u==null)h=t;else{let _=e.length-1;if(!r&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),_-=1;s.pathname=E.join("/")}h=_>=0?e[_]:"/"}let f=pP(s,h),p=u&&u!=="/"&&u.endsWith("/"),y=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||y)&&(f.pathname+="/"),f}const Ki=n=>n.join("/").replace(/\/\/+/g,"/"),yP=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),vP=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,wP=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function _P(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const ux=["post","put","patch","delete"];new Set(ux);const xP=["get",...ux];new Set(xP);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ru(){return ru=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ru.apply(this,arguments)}const Nm=M.createContext(null),EP=M.createContext(null),as=M.createContext(null),Gh=M.createContext(null),ci=M.createContext({outlet:null,matches:[],isDataRoute:!1}),cx=M.createContext(null);function TP(n,e){let{relative:t}=e===void 0?{}:e;Na()||yt(!1);let{basename:r,navigator:s}=M.useContext(as),{hash:a,pathname:u,search:h}=fx(n,{relative:t}),f=u;return r!=="/"&&(f=u==="/"?r:Ki([r,u])),s.createHref({pathname:f,search:h,hash:a})}function Na(){return M.useContext(Gh)!=null}function Da(){return Na()||yt(!1),M.useContext(Gh).location}function hx(n){M.useContext(as).static||M.useLayoutEffect(n)}function hi(){let{isDataRoute:n}=M.useContext(ci);return n?LP():IP()}function IP(){Na()||yt(!1);let n=M.useContext(Nm),{basename:e,future:t,navigator:r}=M.useContext(as),{matches:s}=M.useContext(ci),{pathname:a}=Da(),u=JSON.stringify(bm(s,t.v7_relativeSplatPath)),h=M.useRef(!1);return hx(()=>{h.current=!0}),M.useCallback(function(p,y){if(y===void 0&&(y={}),!h.current)return;if(typeof p=="number"){r.go(p);return}let _=Rm(p,JSON.parse(u),a,y.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Ki([e,_.pathname])),(y.replace?r.replace:r.push)(_,y.state,y)},[e,r,u,a,n])}function dx(){let{matches:n}=M.useContext(ci),e=n[n.length-1];return e?e.params:{}}function fx(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=M.useContext(as),{matches:s}=M.useContext(ci),{pathname:a}=Da(),u=JSON.stringify(bm(s,r.v7_relativeSplatPath));return M.useMemo(()=>Rm(n,JSON.parse(u),a,t==="path"),[n,u,a,t])}function SP(n,e){return PP(n,e)}function PP(n,e,t,r){Na()||yt(!1);let{navigator:s}=M.useContext(as),{matches:a}=M.useContext(ci),u=a[a.length-1],h=u?u.params:{};u&&u.pathname;let f=u?u.pathnameBase:"/";u&&u.route;let p=Da(),y;if(e){var _;let P=typeof e=="string"?Ra(e):e;f==="/"||(_=P.pathname)!=null&&_.startsWith(f)||yt(!1),y=P}else y=p;let E=y.pathname||"/",I=E;if(f!=="/"){let P=f.replace(/^\//,"").split("/");I="/"+E.replace(/^\//,"").split("/").slice(P.length).join("/")}let D=ZS(n,{pathname:I}),j=RP(D&&D.map(P=>Object.assign({},P,{params:Object.assign({},h,P.params),pathname:Ki([f,s.encodeLocation?s.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?f:Ki([f,s.encodeLocation?s.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),a,t,r);return e&&j?M.createElement(Gh.Provider,{value:{location:ru({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Hi.Pop}},j):j}function AP(){let n=VP(),e=_P(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),t?M.createElement("pre",{style:s},t):null,null)}const kP=M.createElement(AP,null);class CP extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?M.createElement(ci.Provider,{value:this.props.routeContext},M.createElement(cx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function bP(n){let{routeContext:e,match:t,children:r}=n,s=M.useContext(Nm);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),M.createElement(ci.Provider,{value:e},r)}function RP(n,e,t,r){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let u=n,h=(s=t)==null?void 0:s.errors;if(h!=null){let y=u.findIndex(_=>_.route.id&&h?.[_.route.id]!==void 0);y>=0||yt(!1),u=u.slice(0,Math.min(u.length,y+1))}let f=!1,p=-1;if(t&&r&&r.v7_partialHydration)for(let y=0;y<u.length;y++){let _=u[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=y),_.route.id){let{loaderData:E,errors:I}=t,D=_.route.loader&&E[_.route.id]===void 0&&(!I||I[_.route.id]===void 0);if(_.route.lazy||D){f=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((y,_,E)=>{let I,D=!1,j=null,P=null;t&&(I=h&&_.route.id?h[_.route.id]:void 0,j=_.route.errorElement||kP,f&&(p<0&&E===0?(MP("route-fallback"),D=!0,P=null):p===E&&(D=!0,P=_.route.hydrateFallbackElement||null)));let H=e.concat(u.slice(0,E+1)),B=()=>{let R;return I?R=j:D?R=P:_.route.Component?R=M.createElement(_.route.Component,null):_.route.element?R=_.route.element:R=y,M.createElement(bP,{match:_,routeContext:{outlet:y,matches:H,isDataRoute:t!=null},children:R})};return t&&(_.route.ErrorBoundary||_.route.errorElement||E===0)?M.createElement(CP,{location:t.location,revalidation:t.revalidation,component:j,error:I,children:B(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):B()},null)}var px=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(px||{}),mx=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(mx||{});function NP(n){let e=M.useContext(Nm);return e||yt(!1),e}function DP(n){let e=M.useContext(EP);return e||yt(!1),e}function jP(n){let e=M.useContext(ci);return e||yt(!1),e}function gx(n){let e=jP(),t=e.matches[e.matches.length-1];return t.route.id||yt(!1),t.route.id}function VP(){var n;let e=M.useContext(cx),t=DP(),r=gx();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function LP(){let{router:n}=NP(px.UseNavigateStable),e=gx(mx.UseNavigateStable),t=M.useRef(!1);return hx(()=>{t.current=!0}),M.useCallback(function(s,a){a===void 0&&(a={}),t.current&&(typeof s=="number"?n.navigate(s):n.navigate(s,ru({fromRouteId:e},a)))},[n,e])}const x0={};function MP(n,e,t){x0[n]||(x0[n]=!0)}function OP(n,e){n?.v7_startTransition,n?.v7_relativeSplatPath}function yx(n){let{to:e,replace:t,state:r,relative:s}=n;Na()||yt(!1);let{future:a,static:u}=M.useContext(as),{matches:h}=M.useContext(ci),{pathname:f}=Da(),p=hi(),y=Rm(e,bm(h,a.v7_relativeSplatPath),f,s==="path"),_=JSON.stringify(y);return M.useEffect(()=>p(JSON.parse(_),{replace:t,state:r,relative:s}),[p,_,s,t,r]),null}function Tr(n){yt(!1)}function FP(n){let{basename:e="/",children:t=null,location:r,navigationType:s=Hi.Pop,navigator:a,static:u=!1,future:h}=n;Na()&&yt(!1);let f=e.replace(/^\/*/,"/"),p=M.useMemo(()=>({basename:f,navigator:a,static:u,future:ru({v7_relativeSplatPath:!1},h)}),[f,h,a,u]);typeof r=="string"&&(r=Ra(r));let{pathname:y="/",search:_="",hash:E="",state:I=null,key:D="default"}=r,j=M.useMemo(()=>{let P=Cm(y,f);return P==null?null:{location:{pathname:P,search:_,hash:E,state:I,key:D},navigationType:s}},[f,y,_,E,I,D,s]);return j==null?null:M.createElement(as.Provider,{value:p},M.createElement(Gh.Provider,{children:t,value:j}))}function UP(n){let{children:e,location:t}=n;return SP(Lp(e),t)}new Promise(()=>{});function Lp(n,e){e===void 0&&(e=[]);let t=[];return M.Children.forEach(n,(r,s)=>{if(!M.isValidElement(r))return;let a=[...e,s];if(r.type===M.Fragment){t.push.apply(t,Lp(r.props.children,a));return}r.type!==Tr&&yt(!1),!r.props.index||!r.props.children||yt(!1);let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Lp(r.props.children,a)),t.push(u)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mp(){return Mp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Mp.apply(this,arguments)}function BP(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,a;for(a=0;a<r.length;a++)s=r[a],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}function zP(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function $P(n,e){return n.button===0&&(!e||e==="_self")&&!zP(n)}function Op(n){return n===void 0&&(n=""),new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(s=>[t,s]):[[t,r]])},[]))}function qP(n,e){let t=Op(n);return e&&e.forEach((r,s)=>{t.has(s)||e.getAll(s).forEach(a=>{t.append(s,a)})}),t}const WP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],HP="6";try{window.__reactRouterVersion=HP}catch{}const GP="startTransition",E0=qS[GP];function KP(n){let{basename:e,children:t,future:r,window:s}=n,a=M.useRef();a.current==null&&(a.current=YS({window:s,v5Compat:!0}));let u=a.current,[h,f]=M.useState({action:u.action,location:u.location}),{v7_startTransition:p}=r||{},y=M.useCallback(_=>{p&&E0?E0(()=>f(_)):f(_)},[f,p]);return M.useLayoutEffect(()=>u.listen(y),[u,y]),M.useEffect(()=>OP(r),[r]),M.createElement(FP,{basename:e,children:t,location:h.location,navigationType:h.action,navigator:u,future:r})}const QP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",YP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,He=M.forwardRef(function(e,t){let{onClick:r,relative:s,reloadDocument:a,replace:u,state:h,target:f,to:p,preventScrollReset:y,viewTransition:_}=e,E=BP(e,WP),{basename:I}=M.useContext(as),D,j=!1;if(typeof p=="string"&&YP.test(p)&&(D=p,QP))try{let R=new URL(window.location.href),K=p.startsWith("//")?new URL(R.protocol+p):new URL(p),re=Cm(K.pathname,I);K.origin===R.origin&&re!=null?p=re+K.search+K.hash:j=!0}catch{}let P=TP(p,{relative:s}),H=XP(p,{replace:u,state:h,target:f,preventScrollReset:y,relative:s,viewTransition:_});function B(R){r&&r(R),R.defaultPrevented||H(R)}return M.createElement("a",Mp({},E,{href:D||P,onClick:j||a?r:B,ref:t,target:f}))});var T0;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(T0||(T0={}));var I0;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(I0||(I0={}));function XP(n,e){let{target:t,replace:r,state:s,preventScrollReset:a,relative:u,viewTransition:h}=e===void 0?{}:e,f=hi(),p=Da(),y=fx(n,{relative:u});return M.useCallback(_=>{if($P(_,t)){_.preventDefault();let E=r!==void 0?r:xh(p)===xh(y);f(n,{replace:E,state:s,preventScrollReset:a,relative:u,viewTransition:h})}},[p,f,y,r,s,t,n,a,u,h])}function JP(n){let e=M.useRef(Op(n)),t=M.useRef(!1),r=Da(),s=M.useMemo(()=>qP(r.search,t.current?null:e.current),[r.search]),a=hi(),u=M.useCallback((h,f)=>{const p=Op(typeof h=="function"?h(s):h);t.current=!0,a("?"+p,f)},[a,s]);return[s,u]}var S0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},ZP=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],u=n[t++],h=n[t++],f=((s&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},wx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],u=s+1<n.length,h=u?n[s+1]:0,f=s+2<n.length,p=f?n[s+2]:0,y=a>>2,_=(a&3)<<4|h>>4;let E=(h&15)<<2|p>>6,I=p&63;f||(I=64,u||(E=64)),r.push(t[y],t[_],t[E],t[I])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(vx(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):ZP(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],h=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const _=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||h==null||p==null||_==null)throw new eA;const E=a<<2|h>>4;if(r.push(E),p!==64){const I=h<<4&240|p>>2;if(r.push(I),_!==64){const D=p<<6&192|_;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class eA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tA=function(n){const e=vx(n);return wx.encodeByteArray(e,!0)},Eh=function(n){return tA(n).replace(/\./g,"")},_x=function(n){try{return wx.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA=()=>nA().__FIREBASE_DEFAULTS__,iA=()=>{if(typeof process>"u"||typeof S0>"u")return;const n=S0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},sA=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&_x(n[1]);return e&&JSON.parse(e)},Kh=()=>{try{return rA()||iA()||sA()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},xx=n=>{var e,t;return(t=(e=Kh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},oA=n=>{const e=xx(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Ex=()=>{var n;return(n=Kh())===null||n===void 0?void 0:n.config},Tx=n=>{var e;return(e=Kh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Eh(JSON.stringify(t)),Eh(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function cA(){var n;const e=(n=Kh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ix(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function dA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fA(){const n=Jt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function pA(){return!cA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Sx(){try{return typeof indexedDB=="object"}catch{return!1}}function Px(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}function mA(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA="FirebaseError";class hr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=gA,Object.setPrototypeOf(this,hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ao.prototype.create)}}class ao{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?yA(a,r):"Error",h=`${this.serviceName}: ${u} (${s}).`;return new hr(s,h,r)}}function yA(n,e){return n.replace(vA,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const vA=/\{\$([^}]+)}/g;function wA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function iu(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],u=e[s];if(P0(a)&&P0(u)){if(!iu(a,u))return!1}else if(a!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function P0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ol(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Fl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function _A(n,e){const t=new xA(n,e);return t.subscribe.bind(t)}class xA{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");EA(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=op),s.error===void 0&&(s.error=op),s.complete===void 0&&(s.complete=op);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function EA(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function op(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA=1e3,IA=2,SA=14400*1e3,PA=.5;function A0(n,e=TA,t=IA){const r=e*Math.pow(t,n),s=Math.round(PA*r*(Math.random()-.5)*2);return Math.min(SA,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(n){return n&&n._delegate?n._delegate:n}class lr{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new aA;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),s=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CA(e))try{this.getOrInitializeService({instanceIdentifier:$s})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=$s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$s){return this.instances.has(e)}getOptions(e=$s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&u.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const u=this.instances.get(s);return u&&e(u,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:kA(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$s){return this.component?this.component.multipleInstances?e:$s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kA(n){return n===$s?void 0:n}function CA(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new AA(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Le||(Le={}));const RA={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},NA=Le.INFO,DA={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},jA=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=DA[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qh{constructor(e){this.name=e,this._logLevel=NA,this._logHandler=jA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const VA=(n,e)=>e.some(t=>n instanceof t);let k0,C0;function LA(){return k0||(k0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MA(){return C0||(C0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ax=new WeakMap,Fp=new WeakMap,kx=new WeakMap,ap=new WeakMap,Dm=new WeakMap;function OA(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Qi(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&Ax.set(t,n)}).catch(()=>{}),Dm.set(e,n),e}function FA(n){if(Fp.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});Fp.set(n,e)}let Up={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Fp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||kx.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Qi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function UA(n){Up=n(Up)}function BA(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(lp(this),e,...t);return kx.set(r,e.sort?e.sort():[e]),Qi(r)}:MA().includes(n)?function(...e){return n.apply(lp(this),e),Qi(Ax.get(this))}:function(...e){return Qi(n.apply(lp(this),e))}}function zA(n){return typeof n=="function"?BA(n):(n instanceof IDBTransaction&&FA(n),VA(n,LA())?new Proxy(n,Up):n)}function Qi(n){if(n instanceof IDBRequest)return OA(n);if(ap.has(n))return ap.get(n);const e=zA(n);return e!==n&&(ap.set(n,e),Dm.set(e,n)),e}const lp=n=>Dm.get(n);function Cx(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const u=indexedDB.open(n,e),h=Qi(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Qi(u.result),f.oldVersion,f.newVersion,Qi(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const $A=["get","getKey","getAll","getAllKeys","count"],qA=["put","add","delete","clear"],up=new Map;function b0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(up.get(e))return up.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=qA.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||$A.includes(t)))return;const a=async function(u,...h){const f=this.transaction(u,s?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[t](...h),s&&f.done]))[0]};return up.set(e,a),a}UA(n=>({...n,get:(e,t,r)=>b0(e,t)||n.get(e,t,r),has:(e,t)=>!!b0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(HA(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function HA(n){const e=n.getComponent();return e?.type==="VERSION"}const Bp="@firebase/app",R0="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si=new Qh("@firebase/app"),GA="@firebase/app-compat",KA="@firebase/analytics-compat",QA="@firebase/analytics",YA="@firebase/app-check-compat",XA="@firebase/app-check",JA="@firebase/auth",ZA="@firebase/auth-compat",ek="@firebase/database",tk="@firebase/data-connect",nk="@firebase/database-compat",rk="@firebase/functions",ik="@firebase/functions-compat",sk="@firebase/installations",ok="@firebase/installations-compat",ak="@firebase/messaging",lk="@firebase/messaging-compat",uk="@firebase/performance",ck="@firebase/performance-compat",hk="@firebase/remote-config",dk="@firebase/remote-config-compat",fk="@firebase/storage",pk="@firebase/storage-compat",mk="@firebase/firestore",gk="@firebase/vertexai-preview",yk="@firebase/firestore-compat",vk="firebase",wk="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp="[DEFAULT]",_k={[Bp]:"fire-core",[GA]:"fire-core-compat",[QA]:"fire-analytics",[KA]:"fire-analytics-compat",[XA]:"fire-app-check",[YA]:"fire-app-check-compat",[JA]:"fire-auth",[ZA]:"fire-auth-compat",[ek]:"fire-rtdb",[tk]:"fire-data-connect",[nk]:"fire-rtdb-compat",[rk]:"fire-fn",[ik]:"fire-fn-compat",[sk]:"fire-iid",[ok]:"fire-iid-compat",[ak]:"fire-fcm",[lk]:"fire-fcm-compat",[uk]:"fire-perf",[ck]:"fire-perf-compat",[hk]:"fire-rc",[dk]:"fire-rc-compat",[fk]:"fire-gcs",[pk]:"fire-gcs-compat",[mk]:"fire-fst",[yk]:"fire-fst-compat",[gk]:"fire-vertex","fire-js":"fire-js",[vk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th=new Map,xk=new Map,$p=new Map;function N0(n,e){try{n.container.addComponent(e)}catch(t){si.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Nr(n){const e=n.name;if($p.has(e))return si.debug(`There were multiple attempts to register component ${e}.`),!1;$p.set(e,n);for(const t of Th.values())N0(t,n);for(const t of xk.values())N0(t,n);return!0}function lo(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function or(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yi=new ao("app","Firebase",Ek);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new lr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja=wk;function bx(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:zp,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Yi.create("bad-app-name",{appName:String(s)});if(t||(t=Ex()),!t)throw Yi.create("no-options");const a=Th.get(s);if(a){if(iu(t,a.options)&&iu(r,a.config))return a;throw Yi.create("duplicate-app",{appName:s})}const u=new bA(s);for(const f of $p.values())u.addComponent(f);const h=new Tk(t,r,u);return Th.set(s,h),h}function jm(n=zp){const e=Th.get(n);if(!e&&n===zp&&Ex())return bx();if(!e)throw Yi.create("no-app",{appName:n});return e}function Un(n,e,t){var r;let s=(r=_k[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const h=[`Unable to register library "${s}" with version "${e}":`];a&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),si.warn(h.join(" "));return}Nr(new lr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik="firebase-heartbeat-database",Sk=1,su="firebase-heartbeat-store";let cp=null;function Rx(){return cp||(cp=Cx(Ik,Sk,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(su)}catch(t){console.warn(t)}}}}).catch(n=>{throw Yi.create("idb-open",{originalErrorMessage:n.message})})),cp}async function Pk(n){try{const t=(await Rx()).transaction(su),r=await t.objectStore(su).get(Nx(n));return await t.done,r}catch(e){if(e instanceof hr)si.warn(e.message);else{const t=Yi.create("idb-get",{originalErrorMessage:e?.message});si.warn(t.message)}}}async function D0(n,e){try{const r=(await Rx()).transaction(su,"readwrite");await r.objectStore(su).put(e,Nx(n)),await r.done}catch(t){if(t instanceof hr)si.warn(t.message);else{const r=Yi.create("idb-set",{originalErrorMessage:t?.message});si.warn(r.message)}}}function Nx(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak=1024,kk=720*60*60*1e3;class Ck{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Rk(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=j0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const h=new Date(u.date).valueOf();return Date.now()-h<=kk}),this._storage.overwrite(this._heartbeatsCache))}catch(r){si.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=j0(),{heartbeatsToSend:r,unsentEntries:s}=bk(this._heartbeatsCache.heartbeats),a=Eh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return si.warn(t),""}}}function j0(){return new Date().toISOString().substring(0,10)}function bk(n,e=Ak){const t=[];let r=n.slice();for(const s of n){const a=t.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),V0(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),V0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class Rk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Sx()?Px().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Pk(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return D0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return D0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function V0(n){return Eh(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(n){Nr(new lr("platform-logger",e=>new WA(e),"PRIVATE")),Nr(new lr("heartbeat",e=>new Ck(e),"PRIVATE")),Un(Bp,R0,n),Un(Bp,R0,"esm2017"),Un("fire-js","")}Nk("");function Vm(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function Dx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Dk=Dx,jx=new ao("auth","Firebase",Dx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih=new Qh("@firebase/auth");function jk(n,...e){Ih.logLevel<=Le.WARN&&Ih.warn(`Auth (${ja}): ${n}`,...e)}function ch(n,...e){Ih.logLevel<=Le.ERROR&&Ih.error(`Auth (${ja}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(n,...e){throw Lm(n,...e)}function Ir(n,...e){return Lm(n,...e)}function Vx(n,e,t){const r=Object.assign(Object.assign({},Dk()),{[e]:t});return new ao("auth","Firebase",r).create(e,{appName:n.name})}function Sr(n){return Vx(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lm(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return jx.create(n,...e)}function Ee(n,e,...t){if(!n)throw Lm(e,...t)}function Jr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ch(e),new Error(e)}function oi(n,e){n||Jr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Vk(){return L0()==="http:"||L0()==="https:"}function L0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Vk()||Ix()||"connection"in navigator)?navigator.onLine:!0}function Mk(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,t){this.shortDelay=e,this.longDelay=t,oi(t>e,"Short delay should be less than long delay!"),this.isMobile=uA()||dA()}get(){return Lk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(n,e){oi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk=new _u(3e4,6e4);function ls(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function jr(n,e,t,r,s={}){return Mx(n,s,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const h=wu(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:f},a);return hA()||(p.referrerPolicy="no-referrer"),Lx.fetch()(Ox(n,n.config.apiHost,t,h),p)})}async function Mx(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Ok),e);try{const s=new Bk(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw eh(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const h=a.ok?u.errorMessage:u.error.message,[f,p]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw eh(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw eh(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw eh(n,"user-disabled",u);const y=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Vx(n,y,p);ur(n,y)}}catch(s){if(s instanceof hr)throw s;ur(n,"network-request-failed",{message:String(s)})}}async function xu(n,e,t,r,s={}){const a=await jr(n,e,t,r,s);return"mfaPendingCredential"in a&&ur(n,"multi-factor-auth-required",{_serverResponse:a}),a}function Ox(n,e,t,r){const s=`${e}${t}?${r}`;return n.config.emulator?Mm(n.config,s):`${n.config.apiScheme}://${s}`}function Uk(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Bk{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ir(this.auth,"network-request-failed")),Fk.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function eh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=Ir(n,e,r);return s.customData._tokenResponse=t,s}function M0(n){return n!==void 0&&n.enterprise!==void 0}class zk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Uk(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function $k(n,e){return jr(n,"GET","/v2/recaptchaConfig",ls(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qk(n,e){return jr(n,"POST","/v1/accounts:delete",e)}async function Fx(n,e){return jr(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Wk(n,e=!1){const t=et(n),r=await t.getIdToken(e),s=Om(r);Ee(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,u=a?.sign_in_provider;return{claims:s,token:r,authTime:Wl(hp(s.auth_time)),issuedAtTime:Wl(hp(s.iat)),expirationTime:Wl(hp(s.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function hp(n){return Number(n)*1e3}function Om(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return ch("JWT malformed, contained fewer than 3 sections"),null;try{const s=_x(t);return s?JSON.parse(s):(ch("Failed to decode base64 JWT payload"),null)}catch(s){return ch("Caught error parsing JWT payload as JSON",s?.toString()),null}}function O0(n){const e=Om(n);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zs(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof hr&&Hk(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Hk({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wl(this.lastLoginAt),this.creationTime=Wl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sh(n){var e;const t=n.auth,r=await n.getIdToken(),s=await Zs(n,Fx(t,{idToken:r}));Ee(s?.users.length,t,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?Ux(a.providerUserInfo):[],h=Qk(n.providerData,u),f=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!h?.length,y=f?p:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new Wp(a.createdAt,a.lastLoginAt),isAnonymous:y};Object.assign(n,_)}async function Kk(n){const e=et(n);await Sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Qk(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Ux(n){return n.map(e=>{var{providerId:t}=e,r=Vm(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yk(n,e){const t=await Mx(n,{},async()=>{const r=wu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,u=Ox(n,s,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",Lx.fetch()(u,{method:"POST",headers:h,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Xk(n,e){return jr(n,"POST","/v2/accounts:revokeToken",ls(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):O0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=O0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await Yk(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,u=new ga;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(Ee(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),a&&(Ee(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ga,this.toJSON())}_performRefresh(){return Jr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(n,e){Ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Zr{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,a=Vm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Wp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Zs(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Wk(this,e)}reload(){return Kk(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Zr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Sh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(or(this.auth.app))return Promise.reject(Sr(this.auth));const e=await this.getIdToken();return await Zs(this,qk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,a,u,h,f,p,y;const _=(r=t.displayName)!==null&&r!==void 0?r:void 0,E=(s=t.email)!==null&&s!==void 0?s:void 0,I=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,D=(u=t.photoURL)!==null&&u!==void 0?u:void 0,j=(h=t.tenantId)!==null&&h!==void 0?h:void 0,P=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,H=(p=t.createdAt)!==null&&p!==void 0?p:void 0,B=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:R,emailVerified:K,isAnonymous:re,providerData:ne,stsTokenManager:N}=t;Ee(R&&N,e,"internal-error");const A=ga.fromJSON(this.name,N);Ee(typeof R=="string",e,"internal-error"),Oi(_,e.name),Oi(E,e.name),Ee(typeof K=="boolean",e,"internal-error"),Ee(typeof re=="boolean",e,"internal-error"),Oi(I,e.name),Oi(D,e.name),Oi(j,e.name),Oi(P,e.name),Oi(H,e.name),Oi(B,e.name);const C=new Zr({uid:R,auth:e,email:E,emailVerified:K,displayName:_,isAnonymous:re,photoURL:D,phoneNumber:I,tenantId:j,stsTokenManager:A,createdAt:H,lastLoginAt:B});return ne&&Array.isArray(ne)&&(C.providerData=ne.map(V=>Object.assign({},V))),P&&(C._redirectEventId=P),C}static async _fromIdTokenResponse(e,t,r=!1){const s=new ga;s.updateFromServerResponse(t);const a=new Zr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Sh(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Ee(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?Ux(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!a?.length,h=new ga;h.updateFromIdToken(r);const f=new Zr({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Wp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0=new Map;function ei(n){oi(n instanceof Function,"Expected a class definition");let e=F0.get(n);return e?(oi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,F0.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Bx.type="NONE";const U0=Bx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(n,e,t){return`firebase:${n}:${e}:${t}`}class ya{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=hh(this.userKey,s.apiKey,a),this.fullPersistenceKey=hh("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Zr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new ya(ei(U0),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||ei(U0);const u=hh(r,e.config.apiKey,e.name);let h=null;for(const p of t)try{const y=await p._get(u);if(y){const _=Zr._fromJSON(e,y);p!==a&&(h=_),a=p;break}}catch{}const f=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new ya(a,e,r):(a=f[0],h&&await a._set(u,h.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(u)}catch{}})),new ya(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Wx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Gx(e))return"Blackberry";if(Kx(e))return"Webos";if($x(e))return"Safari";if((e.includes("chrome/")||qx(e))&&!e.includes("edge/"))return"Chrome";if(Hx(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function zx(n=Jt()){return/firefox\//i.test(n)}function $x(n=Jt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qx(n=Jt()){return/crios\//i.test(n)}function Wx(n=Jt()){return/iemobile/i.test(n)}function Hx(n=Jt()){return/android/i.test(n)}function Gx(n=Jt()){return/blackberry/i.test(n)}function Kx(n=Jt()){return/webos/i.test(n)}function Fm(n=Jt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Jk(n=Jt()){var e;return Fm(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Zk(){return fA()&&document.documentMode===10}function Qx(n=Jt()){return Fm(n)||Hx(n)||Kx(n)||Gx(n)||/windows phone/i.test(n)||Wx(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(n,e=[]){let t;switch(n){case"Browser":t=B0(Jt());break;case"Worker":t=`${B0(Jt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ja}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,h)=>{try{const f=e(a);u(f)}catch(f){h(f)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tC(n,e={}){return jr(n,"GET","/v2/passwordPolicy",ls(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC=6;class rC{constructor(e){var t,r,s,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:nC,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,a,u,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new z0(this),this.idTokenSubscription=new z0(this),this.beforeStateQueue=new eC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ei(t)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await ya.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Fx(this,{idToken:e}),r=await Zr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(or(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=s?._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===h)&&f?.user&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Sh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Mk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(or(this.app))return Promise.reject(Sr(this));const t=e?et(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return or(this.app)?Promise.reject(Sr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return or(this.app)?Promise.reject(Sr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ei(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tC(this),t=new rC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ao("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await Xk(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ei(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await ya.create(this,[ei(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(h,this,"internal-error"),h.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Yx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&jk(`Error while retrieving App Check token: ${t.error}`),t?.token}}function uo(n){return et(n)}class z0{constructor(e){this.auth=e,this.observer=null,this.addObserver=_A(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sC(n){Yh=n}function Xx(n){return Yh.loadJS(n)}function oC(){return Yh.recaptchaEnterpriseScript}function aC(){return Yh.gapiScript}function lC(n){return`__${n}${Math.floor(Math.random()*1e6)}`}const uC="recaptcha-enterprise",cC="NO_RECAPTCHA";class hC{constructor(e){this.type=uC,this.auth=uo(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,h)=>{$k(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new zk(f);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,u(p.siteKey)}}).catch(f=>{h(f)})})}function s(a,u,h){const f=window.grecaptcha;M0(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(p=>{u(p)}).catch(()=>{u(cC)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{r(this.auth).then(h=>{if(!t&&M0(window.grecaptcha))s(h,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=oC();f.length!==0&&(f+=h),Xx(f).then(()=>{s(h,a,u)}).catch(p=>{u(p)})}}).catch(h=>{u(h)})})}}async function $0(n,e,t,r=!1){const s=new hC(n);let a;try{a=await s.verify(t)}catch{a=await s.verify(t,!0)}const u=Object.assign({},e);return r?Object.assign(u,{captchaResp:a}):Object.assign(u,{captchaResponse:a}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Hp(n,e,t,r){var s;if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await $0(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await $0(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(n,e){const t=lo(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(iu(a,e??{}))return s;ur(s,"already-initialized")}return t.initialize({options:e})}function fC(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ei);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function pC(n,e,t){const r=uo(n);Ee(r._canInitEmulator,r,"emulator-config-failed"),Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=Jx(e),{host:u,port:h}=mC(e),f=h===null?"":`:${h}`;r.config.emulator={url:`${a}//${u}${f}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})}),gC()}function Jx(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function mC(n){const e=Jx(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:q0(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:q0(u)}}}function q0(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function gC(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Jr("not implemented")}_getIdTokenResponse(e){return Jr("not implemented")}_linkToIdToken(e,t){return Jr("not implemented")}_getReauthenticationResolver(e){return Jr("not implemented")}}async function yC(n,e){return jr(n,"POST","/v1/accounts:update",e)}async function vC(n,e){return jr(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wC(n,e){return xu(n,"POST","/v1/accounts:signInWithPassword",ls(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _C(n,e){return xu(n,"POST","/v1/accounts:signInWithEmailLink",ls(n,e))}async function xC(n,e){return xu(n,"POST","/v1/accounts:signInWithEmailLink",ls(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou extends Um{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new ou(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new ou(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hp(e,t,"signInWithPassword",wC);case"emailLink":return _C(e,{email:this._email,oobCode:this._password});default:ur(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hp(e,r,"signUpPassword",vC);case"emailLink":return xC(e,{idToken:t,email:this._email,oobCode:this._password});default:ur(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function va(n,e){return xu(n,"POST","/v1/accounts:signInWithIdp",ls(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="http://localhost";class eo extends Um{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new eo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ur("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,a=Vm(t,["providerId","signInMethod"]);if(!r||!s)return null;const u=new eo(r,s);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return va(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,va(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,va(e,t)}buildRequest(){const e={requestUri:EC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=wu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function IC(n){const e=Ol(Fl(n)).link,t=e?Ol(Fl(e)).deep_link_id:null,r=Ol(Fl(n)).deep_link_id;return(r?Ol(Fl(r)).link:null)||r||t||e||n}class Bm{constructor(e){var t,r,s,a,u,h;const f=Ol(Fl(e)),p=(t=f.apiKey)!==null&&t!==void 0?t:null,y=(r=f.oobCode)!==null&&r!==void 0?r:null,_=TC((s=f.mode)!==null&&s!==void 0?s:null);Ee(p&&y&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=y,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=f.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=IC(e);try{return new Bm(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(){this.providerId=ts.PROVIDER_ID}static credential(e,t){return ou._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Bm.parseLink(t);return Ee(r,"argument-error"),ou._fromEmailAndCode(e,r.code,r.tenantId)}}ts.PROVIDER_ID="password";ts.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ts.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends Zx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends Eu{constructor(){super("facebook.com")}static credential(e){return eo._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bi.credential(e.oauthAccessToken)}catch{return null}}}Bi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends Eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return eo._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return zi.credential(t,r)}catch{return null}}}zi.GOOGLE_SIGN_IN_METHOD="google.com";zi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends Eu{constructor(){super("github.com")}static credential(e){return eo._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $i.credential(e.oauthAccessToken)}catch{return null}}}$i.GITHUB_SIGN_IN_METHOD="github.com";$i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends Eu{constructor(){super("twitter.com")}static credential(e,t){return eo._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return qi.credential(t,r)}catch{return null}}}qi.TWITTER_SIGN_IN_METHOD="twitter.com";qi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SC(n,e){return xu(n,"POST","/v1/accounts:signUp",ls(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await Zr._fromIdTokenResponse(e,r,s),u=W0(r);return new to({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=W0(r);return new to({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function W0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph extends hr{constructor(e,t,r,s){var a;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Ph.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new Ph(e,t,r,s)}}function eE(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Ph._fromErrorAndOperation(n,a,e,r):a})}async function PC(n,e,t=!1){const r=await Zs(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return to._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tE(n,e,t=!1){const{auth:r}=n;if(or(r.app))return Promise.reject(Sr(r));const s="reauthenticate";try{const a=await Zs(n,eE(r,s,e,n),t);Ee(a.idToken,r,"internal-error");const u=Om(a.idToken);Ee(u,r,"internal-error");const{sub:h}=u;return Ee(n.uid===h,r,"user-mismatch"),to._forOperation(n,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&ur(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nE(n,e,t=!1){if(or(n.app))return Promise.reject(Sr(n));const r="signIn",s=await eE(n,r,e),a=await to._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}async function AC(n,e){return nE(uo(n),e)}async function H0(n,e){return tE(et(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rE(n){const e=uo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function kC(n,e,t){if(or(n.app))return Promise.reject(Sr(n));const r=uo(n),u=await Hp(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",SC).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&rE(n),f}),h=await to._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function CC(n,e,t){return or(n.app)?Promise.reject(Sr(n)):AC(et(n),ts.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&rE(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bC(n,e){return jr(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gp(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=et(n),a={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await Zs(r,bC(r.auth,a));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const h=r.providerData.find(({providerId:f})=>f==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function RC(n,e){const t=et(n);return or(t.auth.app)?Promise.reject(Sr(t.auth)):iE(t,e,null)}function NC(n,e){return iE(et(n),null,e)}async function iE(n,e,t){const{auth:r}=n,a={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(a.email=e),t&&(a.password=t);const u=await Zs(n,yC(r,a));await n._updateTokensIfNecessary(u,!0)}function DC(n,e,t,r){return et(n).onIdTokenChanged(e,t,r)}function jC(n,e,t){return et(n).beforeAuthStateChanged(e,t)}function VC(n,e,t,r){return et(n).onAuthStateChanged(e,t,r)}function LC(n){return et(n).signOut()}const Ah="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ah,"1"),this.storage.removeItem(Ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=1e3,OC=10;class oE extends sE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Qx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);Zk()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,OC):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},MC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}oE.type="LOCAL";const FC=oE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE extends sE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}aE.type="SESSION";const lE=aE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Xh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,u=this.handlersMap[s];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const h=Array.from(u).map(async p=>p(t.origin,a)),f=await UC(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((h,f)=>{const p=zm("",20);s.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(_){const E=_;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(y),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(E.data.response);break;default:clearTimeout(y),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(){return window}function zC(n){Pr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(){return typeof Pr().WorkerGlobalScope<"u"&&typeof Pr().importScripts=="function"}async function $C(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qC(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function WC(){return uE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="firebaseLocalStorageDb",HC=1,kh="firebaseLocalStorage",hE="fbase_key";class Tu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Jh(n,e){return n.transaction([kh],e?"readwrite":"readonly").objectStore(kh)}function GC(){const n=indexedDB.deleteDatabase(cE);return new Tu(n).toPromise()}function Kp(){const n=indexedDB.open(cE,HC);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(kh,{keyPath:hE})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(kh)?e(r):(r.close(),await GC(),e(await Kp()))})})}async function G0(n,e,t){const r=Jh(n,!0).put({[hE]:e,value:t});return new Tu(r).toPromise()}async function KC(n,e){const t=Jh(n,!1).get(e),r=await new Tu(t).toPromise();return r===void 0?null:r.value}function K0(n,e){const t=Jh(n,!0).delete(e);return new Tu(t).toPromise()}const QC=800,YC=3;class dE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>YC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xh._getInstance(WC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await $C(),!this.activeServiceWorker)return;this.sender=new BC(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||qC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Kp();return await G0(e,Ah,"1"),await K0(e,Ah),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>G0(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>KC(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>K0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Jh(s,!1).getAll();return new Tu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dE.type="LOCAL";const XC=dE;new _u(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(n,e){return e?ei(e):(Ee(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m extends Um{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return va(e,this._buildIdpRequest())}_linkToIdToken(e,t){return va(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return va(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ZC(n){return nE(n.auth,new $m(n),n.bypassAuthState)}function eb(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),tE(t,new $m(n),n.bypassAuthState)}async function tb(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),PC(t,new $m(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZC;case"linkViaPopup":case"linkViaRedirect":return tb;case"reauthViaPopup":case"reauthViaRedirect":return eb;default:ur(this.auth,"internal-error")}}resolve(e){oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb=new _u(2e3,1e4);class ua extends fE{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,ua.currentPopupAction&&ua.currentPopupAction.cancel(),ua.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){oi(this.filter.length===1,"Popup operations only handle one event");const e=zm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ir(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ir(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ua.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ir(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nb.get())};e()}}ua.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb="pendingRedirect",dh=new Map;class ib extends fE{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=dh.get(this.auth._key());if(!e){try{const r=await sb(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}dh.set(this.auth._key(),e)}return this.bypassAuthState||dh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sb(n,e){const t=lb(e),r=ab(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function ob(n,e){dh.set(n._key(),e)}function ab(n){return ei(n._redirectPersistence)}function lb(n){return hh(rb,n.config.apiKey,n.name)}async function ub(n,e,t=!1){if(or(n.app))return Promise.reject(Sr(n));const r=uo(n),s=JC(r,e),u=await new ib(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb=600*1e3;class hb{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!db(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!pE(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ir(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cb&&this.cachedEventUids.clear(),this.cachedEventUids.has(Q0(e))}saveEventToCache(e){this.cachedEventUids.add(Q0(e)),this.lastProcessedEventTime=Date.now()}}function Q0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function pE({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function db(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pE(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fb(n,e={}){return jr(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mb=/^https?/;async function gb(n){if(n.config.emulator)return;const{authorizedDomains:e}=await fb(n);for(const t of e)try{if(yb(t))return}catch{}ur(n,"unauthorized-domain")}function yb(n){const e=qp(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!mb.test(t))return!1;if(pb.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=new _u(3e4,6e4);function Y0(){const n=Pr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function wb(n){return new Promise((e,t)=>{var r,s,a;function u(){Y0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Y0(),t(Ir(n,"network-request-failed"))},timeout:vb.get()})}if(!((s=(r=Pr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=Pr().gapi)===null||a===void 0)&&a.load)u();else{const h=lC("iframefcb");return Pr()[h]=()=>{gapi.load?u():t(Ir(n,"network-request-failed"))},Xx(`${aC()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw fh=null,e})}let fh=null;function _b(n){return fh=fh||wb(n),fh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb=new _u(5e3,15e3),Eb="__/auth/iframe",Tb="emulator/auth/iframe",Ib={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Sb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pb(n){const e=n.config;Ee(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Mm(e,Tb):`https://${n.config.authDomain}/${Eb}`,r={apiKey:e.apiKey,appName:n.name,v:ja},s=Sb.get(n.config.apiHost);s&&(r.eid=s);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${wu(r).slice(1)}`}async function Ab(n){const e=await _b(n),t=Pr().gapi;return Ee(t,n,"internal-error"),e.open({where:document.body,url:Pb(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ib,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const u=Ir(n,"network-request-failed"),h=Pr().setTimeout(()=>{a(u)},xb.get());function f(){Pr().clearTimeout(h),s(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Cb=500,bb=600,Rb="_blank",Nb="http://localhost";class X0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Db(n,e,t,r=Cb,s=bb){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f=Object.assign(Object.assign({},kb),{width:r.toString(),height:s.toString(),top:a,left:u}),p=Jt().toLowerCase();t&&(h=qx(p)?Rb:t),zx(p)&&(e=e||Nb,f.scrollbars="yes");const y=Object.entries(f).reduce((E,[I,D])=>`${E}${I}=${D},`,"");if(Jk(p)&&h!=="_self")return jb(e||"",h),new X0(null);const _=window.open(e||"",h,y);Ee(_,n,"popup-blocked");try{_.focus()}catch{}return new X0(_)}function jb(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="__/auth/handler",Lb="emulator/auth/handler",Mb=encodeURIComponent("fac");async function J0(n,e,t,r,s,a){Ee(n.config.authDomain,n,"auth-domain-config-required"),Ee(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ja,eventId:s};if(e instanceof Zx){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",wA(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))u[y]=_}if(e instanceof Eu){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const f=await n._getAppCheckToken(),p=f?`#${Mb}=${encodeURIComponent(f)}`:"";return`${Ob(n)}?${wu(h).slice(1)}${p}`}function Ob({config:n}){return n.emulator?Mm(n,Lb):`https://${n.authDomain}/${Vb}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp="webStorageSupport";class Fb{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lE,this._completeRedirectFn=ub,this._overrideRedirectResult=ob}async _openPopup(e,t,r,s){var a;oi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await J0(e,t,r,qp(),s);return Db(e,u,zm())}async _openRedirect(e,t,r,s){await this._originValidation(e);const a=await J0(e,t,r,qp(),s);return zC(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(oi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await Ab(e),r=new hb(e);return t.register("authEvent",s=>(Ee(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(dp,{type:dp},s=>{var a;const u=(a=s?.[0])===null||a===void 0?void 0:a[dp];u!==void 0&&t(!!u),ur(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=gb(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Qx()||$x()||Fm()}}const Ub=Fb;var Z0="@firebase/auth",ew="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $b(n){Nr(new lr("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Ee(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Yx(n)},p=new iC(r,s,a,f);return fC(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Nr(new lr("auth-internal",e=>{const t=uo(e.getProvider("auth").getImmediate());return(r=>new Bb(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Un(Z0,ew,zb(n)),Un(Z0,ew,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb=300,Wb=Tx("authIdTokenMaxAge")||qb;let tw=null;const Hb=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Wb)return;const s=t?.token;tw!==s&&(tw=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Gb(n=jm()){const e=lo(n,"auth");if(e.isInitialized())return e.getImmediate();const t=dC(n,{popupRedirectResolver:Ub,persistence:[XC,FC,lE]}),r=Tx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=Hb(a.toString());jC(t,u,()=>u(t.currentUser)),DC(t,h=>u(h))}}const s=xx("auth");return s&&pC(t,`http://${s}`),t}function Kb(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}sC({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const a=Ir("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",Kb().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$b("Browser");var nw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xs,mE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,A){function C(){}C.prototype=A.prototype,N.D=A.prototype,N.prototype=new C,N.prototype.constructor=N,N.C=function(V,U,z){for(var k=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)k[ce-2]=arguments[ce];return A.prototype[U].apply(V,k)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(N,A,C){C||(C=0);var V=Array(16);if(typeof A=="string")for(var U=0;16>U;++U)V[U]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(U=0;16>U;++U)V[U]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=N.g[0],C=N.g[1],U=N.g[2];var z=N.g[3],k=A+(z^C&(U^z))+V[0]+3614090360&4294967295;A=C+(k<<7&4294967295|k>>>25),k=z+(U^A&(C^U))+V[1]+3905402710&4294967295,z=A+(k<<12&4294967295|k>>>20),k=U+(C^z&(A^C))+V[2]+606105819&4294967295,U=z+(k<<17&4294967295|k>>>15),k=C+(A^U&(z^A))+V[3]+3250441966&4294967295,C=U+(k<<22&4294967295|k>>>10),k=A+(z^C&(U^z))+V[4]+4118548399&4294967295,A=C+(k<<7&4294967295|k>>>25),k=z+(U^A&(C^U))+V[5]+1200080426&4294967295,z=A+(k<<12&4294967295|k>>>20),k=U+(C^z&(A^C))+V[6]+2821735955&4294967295,U=z+(k<<17&4294967295|k>>>15),k=C+(A^U&(z^A))+V[7]+4249261313&4294967295,C=U+(k<<22&4294967295|k>>>10),k=A+(z^C&(U^z))+V[8]+1770035416&4294967295,A=C+(k<<7&4294967295|k>>>25),k=z+(U^A&(C^U))+V[9]+2336552879&4294967295,z=A+(k<<12&4294967295|k>>>20),k=U+(C^z&(A^C))+V[10]+4294925233&4294967295,U=z+(k<<17&4294967295|k>>>15),k=C+(A^U&(z^A))+V[11]+2304563134&4294967295,C=U+(k<<22&4294967295|k>>>10),k=A+(z^C&(U^z))+V[12]+1804603682&4294967295,A=C+(k<<7&4294967295|k>>>25),k=z+(U^A&(C^U))+V[13]+4254626195&4294967295,z=A+(k<<12&4294967295|k>>>20),k=U+(C^z&(A^C))+V[14]+2792965006&4294967295,U=z+(k<<17&4294967295|k>>>15),k=C+(A^U&(z^A))+V[15]+1236535329&4294967295,C=U+(k<<22&4294967295|k>>>10),k=A+(U^z&(C^U))+V[1]+4129170786&4294967295,A=C+(k<<5&4294967295|k>>>27),k=z+(C^U&(A^C))+V[6]+3225465664&4294967295,z=A+(k<<9&4294967295|k>>>23),k=U+(A^C&(z^A))+V[11]+643717713&4294967295,U=z+(k<<14&4294967295|k>>>18),k=C+(z^A&(U^z))+V[0]+3921069994&4294967295,C=U+(k<<20&4294967295|k>>>12),k=A+(U^z&(C^U))+V[5]+3593408605&4294967295,A=C+(k<<5&4294967295|k>>>27),k=z+(C^U&(A^C))+V[10]+38016083&4294967295,z=A+(k<<9&4294967295|k>>>23),k=U+(A^C&(z^A))+V[15]+3634488961&4294967295,U=z+(k<<14&4294967295|k>>>18),k=C+(z^A&(U^z))+V[4]+3889429448&4294967295,C=U+(k<<20&4294967295|k>>>12),k=A+(U^z&(C^U))+V[9]+568446438&4294967295,A=C+(k<<5&4294967295|k>>>27),k=z+(C^U&(A^C))+V[14]+3275163606&4294967295,z=A+(k<<9&4294967295|k>>>23),k=U+(A^C&(z^A))+V[3]+4107603335&4294967295,U=z+(k<<14&4294967295|k>>>18),k=C+(z^A&(U^z))+V[8]+1163531501&4294967295,C=U+(k<<20&4294967295|k>>>12),k=A+(U^z&(C^U))+V[13]+2850285829&4294967295,A=C+(k<<5&4294967295|k>>>27),k=z+(C^U&(A^C))+V[2]+4243563512&4294967295,z=A+(k<<9&4294967295|k>>>23),k=U+(A^C&(z^A))+V[7]+1735328473&4294967295,U=z+(k<<14&4294967295|k>>>18),k=C+(z^A&(U^z))+V[12]+2368359562&4294967295,C=U+(k<<20&4294967295|k>>>12),k=A+(C^U^z)+V[5]+4294588738&4294967295,A=C+(k<<4&4294967295|k>>>28),k=z+(A^C^U)+V[8]+2272392833&4294967295,z=A+(k<<11&4294967295|k>>>21),k=U+(z^A^C)+V[11]+1839030562&4294967295,U=z+(k<<16&4294967295|k>>>16),k=C+(U^z^A)+V[14]+4259657740&4294967295,C=U+(k<<23&4294967295|k>>>9),k=A+(C^U^z)+V[1]+2763975236&4294967295,A=C+(k<<4&4294967295|k>>>28),k=z+(A^C^U)+V[4]+1272893353&4294967295,z=A+(k<<11&4294967295|k>>>21),k=U+(z^A^C)+V[7]+4139469664&4294967295,U=z+(k<<16&4294967295|k>>>16),k=C+(U^z^A)+V[10]+3200236656&4294967295,C=U+(k<<23&4294967295|k>>>9),k=A+(C^U^z)+V[13]+681279174&4294967295,A=C+(k<<4&4294967295|k>>>28),k=z+(A^C^U)+V[0]+3936430074&4294967295,z=A+(k<<11&4294967295|k>>>21),k=U+(z^A^C)+V[3]+3572445317&4294967295,U=z+(k<<16&4294967295|k>>>16),k=C+(U^z^A)+V[6]+76029189&4294967295,C=U+(k<<23&4294967295|k>>>9),k=A+(C^U^z)+V[9]+3654602809&4294967295,A=C+(k<<4&4294967295|k>>>28),k=z+(A^C^U)+V[12]+3873151461&4294967295,z=A+(k<<11&4294967295|k>>>21),k=U+(z^A^C)+V[15]+530742520&4294967295,U=z+(k<<16&4294967295|k>>>16),k=C+(U^z^A)+V[2]+3299628645&4294967295,C=U+(k<<23&4294967295|k>>>9),k=A+(U^(C|~z))+V[0]+4096336452&4294967295,A=C+(k<<6&4294967295|k>>>26),k=z+(C^(A|~U))+V[7]+1126891415&4294967295,z=A+(k<<10&4294967295|k>>>22),k=U+(A^(z|~C))+V[14]+2878612391&4294967295,U=z+(k<<15&4294967295|k>>>17),k=C+(z^(U|~A))+V[5]+4237533241&4294967295,C=U+(k<<21&4294967295|k>>>11),k=A+(U^(C|~z))+V[12]+1700485571&4294967295,A=C+(k<<6&4294967295|k>>>26),k=z+(C^(A|~U))+V[3]+2399980690&4294967295,z=A+(k<<10&4294967295|k>>>22),k=U+(A^(z|~C))+V[10]+4293915773&4294967295,U=z+(k<<15&4294967295|k>>>17),k=C+(z^(U|~A))+V[1]+2240044497&4294967295,C=U+(k<<21&4294967295|k>>>11),k=A+(U^(C|~z))+V[8]+1873313359&4294967295,A=C+(k<<6&4294967295|k>>>26),k=z+(C^(A|~U))+V[15]+4264355552&4294967295,z=A+(k<<10&4294967295|k>>>22),k=U+(A^(z|~C))+V[6]+2734768916&4294967295,U=z+(k<<15&4294967295|k>>>17),k=C+(z^(U|~A))+V[13]+1309151649&4294967295,C=U+(k<<21&4294967295|k>>>11),k=A+(U^(C|~z))+V[4]+4149444226&4294967295,A=C+(k<<6&4294967295|k>>>26),k=z+(C^(A|~U))+V[11]+3174756917&4294967295,z=A+(k<<10&4294967295|k>>>22),k=U+(A^(z|~C))+V[2]+718787259&4294967295,U=z+(k<<15&4294967295|k>>>17),k=C+(z^(U|~A))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(U+(k<<21&4294967295|k>>>11))&4294967295,N.g[2]=N.g[2]+U&4294967295,N.g[3]=N.g[3]+z&4294967295}r.prototype.u=function(N,A){A===void 0&&(A=N.length);for(var C=A-this.blockSize,V=this.B,U=this.h,z=0;z<A;){if(U==0)for(;z<=C;)s(this,N,z),z+=this.blockSize;if(typeof N=="string"){for(;z<A;)if(V[U++]=N.charCodeAt(z++),U==this.blockSize){s(this,V),U=0;break}}else for(;z<A;)if(V[U++]=N[z++],U==this.blockSize){s(this,V),U=0;break}}this.h=U,this.o+=A},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;var C=8*this.o;for(A=N.length-8;A<N.length;++A)N[A]=C&255,C/=256;for(this.u(N),N=Array(16),A=C=0;4>A;++A)for(var V=0;32>V;V+=8)N[C++]=this.g[A]>>>V&255;return N};function a(N,A){var C=h;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=A(N)}function u(N,A){this.h=A;for(var C=[],V=!0,U=N.length-1;0<=U;U--){var z=N[U]|0;V&&z==A||(C[U]=z,V=!1)}this.g=C}var h={};function f(N){return-128<=N&&128>N?a(N,function(A){return new u([A|0],0>A?-1:0)}):new u([N|0],0>N?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return _;if(0>N)return P(p(-N));for(var A=[],C=1,V=0;N>=C;V++)A[V]=N/C|0,C*=4294967296;return new u(A,0)}function y(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return P(y(N.substring(1),A));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=p(Math.pow(A,8)),V=_,U=0;U<N.length;U+=8){var z=Math.min(8,N.length-U),k=parseInt(N.substring(U,U+z),A);8>z?(z=p(Math.pow(A,z)),V=V.j(z).add(p(k))):(V=V.j(C),V=V.add(p(k)))}return V}var _=f(0),E=f(1),I=f(16777216);n=u.prototype,n.m=function(){if(j(this))return-P(this).m();for(var N=0,A=1,C=0;C<this.g.length;C++){var V=this.i(C);N+=(0<=V?V:4294967296+V)*A,A*=4294967296}return N},n.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(D(this))return"0";if(j(this))return"-"+P(this).toString(N);for(var A=p(Math.pow(N,6)),C=this,V="";;){var U=K(C,A).g;C=H(C,U.j(A));var z=((0<C.g.length?C.g[0]:C.h)>>>0).toString(N);if(C=U,D(C))return z+V;for(;6>z.length;)z="0"+z;V=z+V}},n.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function D(N){if(N.h!=0)return!1;for(var A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function j(N){return N.h==-1}n.l=function(N){return N=H(this,N),j(N)?-1:D(N)?0:1};function P(N){for(var A=N.g.length,C=[],V=0;V<A;V++)C[V]=~N.g[V];return new u(C,~N.h).add(E)}n.abs=function(){return j(this)?P(this):this},n.add=function(N){for(var A=Math.max(this.g.length,N.g.length),C=[],V=0,U=0;U<=A;U++){var z=V+(this.i(U)&65535)+(N.i(U)&65535),k=(z>>>16)+(this.i(U)>>>16)+(N.i(U)>>>16);V=k>>>16,z&=65535,k&=65535,C[U]=k<<16|z}return new u(C,C[C.length-1]&-2147483648?-1:0)};function H(N,A){return N.add(P(A))}n.j=function(N){if(D(this)||D(N))return _;if(j(this))return j(N)?P(this).j(P(N)):P(P(this).j(N));if(j(N))return P(this.j(P(N)));if(0>this.l(I)&&0>N.l(I))return p(this.m()*N.m());for(var A=this.g.length+N.g.length,C=[],V=0;V<2*A;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(var U=0;U<N.g.length;U++){var z=this.i(V)>>>16,k=this.i(V)&65535,ce=N.i(U)>>>16,tt=N.i(U)&65535;C[2*V+2*U]+=k*tt,B(C,2*V+2*U),C[2*V+2*U+1]+=z*tt,B(C,2*V+2*U+1),C[2*V+2*U+1]+=k*ce,B(C,2*V+2*U+1),C[2*V+2*U+2]+=z*ce,B(C,2*V+2*U+2)}for(V=0;V<A;V++)C[V]=C[2*V+1]<<16|C[2*V];for(V=A;V<2*A;V++)C[V]=0;return new u(C,0)};function B(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function R(N,A){this.g=N,this.h=A}function K(N,A){if(D(A))throw Error("division by zero");if(D(N))return new R(_,_);if(j(N))return A=K(P(N),A),new R(P(A.g),P(A.h));if(j(A))return A=K(N,P(A)),new R(P(A.g),A.h);if(30<N.g.length){if(j(N)||j(A))throw Error("slowDivide_ only works with positive integers.");for(var C=E,V=A;0>=V.l(N);)C=re(C),V=re(V);var U=ne(C,1),z=ne(V,1);for(V=ne(V,2),C=ne(C,2);!D(V);){var k=z.add(V);0>=k.l(N)&&(U=U.add(C),z=k),V=ne(V,1),C=ne(C,1)}return A=H(N,U.j(A)),new R(U,A)}for(U=_;0<=N.l(A);){for(C=Math.max(1,Math.floor(N.m()/A.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),z=p(C),k=z.j(A);j(k)||0<k.l(N);)C-=V,z=p(C),k=z.j(A);D(z)&&(z=E),U=U.add(z),N=H(N,k)}return new R(U,N)}n.A=function(N){return K(this,N).h},n.and=function(N){for(var A=Math.max(this.g.length,N.g.length),C=[],V=0;V<A;V++)C[V]=this.i(V)&N.i(V);return new u(C,this.h&N.h)},n.or=function(N){for(var A=Math.max(this.g.length,N.g.length),C=[],V=0;V<A;V++)C[V]=this.i(V)|N.i(V);return new u(C,this.h|N.h)},n.xor=function(N){for(var A=Math.max(this.g.length,N.g.length),C=[],V=0;V<A;V++)C[V]=this.i(V)^N.i(V);return new u(C,this.h^N.h)};function re(N){for(var A=N.g.length+1,C=[],V=0;V<A;V++)C[V]=N.i(V)<<1|N.i(V-1)>>>31;return new u(C,N.h)}function ne(N,A){var C=A>>5;A%=32;for(var V=N.g.length-C,U=[],z=0;z<V;z++)U[z]=0<A?N.i(z+C)>>>A|N.i(z+C+1)<<32-A:N.i(z+C);return new u(U,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,mE=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,Xs=u}).apply(typeof nw<"u"?nw:typeof self<"u"?self:typeof window<"u"?window:{});var th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gE,Ul,yE,ph,Qp,vE,wE,_E;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,v,x){return c==Array.prototype||c==Object.prototype||(c[v]=x.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof th=="object"&&th];for(var v=0;v<c.length;++v){var x=c[v];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=t(this);function s(c,v){if(v)e:{var x=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var $=c[S];if(!($ in x))break e;x=x[$]}c=c[c.length-1],S=x[c],v=v(S),v!=S&&v!=null&&e(x,c,{configurable:!0,writable:!0,value:v})}}function a(c,v){c instanceof String&&(c+="");var x=0,S=!1,$={next:function(){if(!S&&x<c.length){var Q=x++;return{value:v(Q,c[Q]),done:!1}}return S=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}s("Array.prototype.values",function(c){return c||function(){return a(this,function(v,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(c){var v=typeof c;return v=v!="object"?v:c?Array.isArray(c)?"array":v:"null",v=="array"||v=="object"&&typeof c.length=="number"}function p(c){var v=typeof c;return v=="object"&&c!=null||v=="function"}function y(c,v,x){return c.call.apply(c.bind,arguments)}function _(c,v,x){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,S),c.apply(v,$)}}return function(){return c.apply(v,arguments)}}function E(c,v,x){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,E.apply(null,arguments)}function I(c,v){var x=Array.prototype.slice.call(arguments,1);return function(){var S=x.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function D(c,v){function x(){}x.prototype=v.prototype,c.aa=v.prototype,c.prototype=new x,c.prototype.constructor=c,c.Qb=function(S,$,Q){for(var oe=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)oe[Ke-2]=arguments[Ke];return v.prototype[$].apply(S,oe)}}function j(c){const v=c.length;if(0<v){const x=Array(v);for(let S=0;S<v;S++)x[S]=c[S];return x}return[]}function P(c,v){for(let x=1;x<arguments.length;x++){const S=arguments[x];if(f(S)){const $=c.length||0,Q=S.length||0;c.length=$+Q;for(let oe=0;oe<Q;oe++)c[$+oe]=S[oe]}else c.push(S)}}class H{constructor(v,x){this.i=v,this.j=x,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function B(c){return/^[\s\xa0]*$/.test(c)}function R(){var c=h.navigator;return c&&(c=c.userAgent)?c:""}function K(c){return K[" "](c),c}K[" "]=function(){};var re=R().indexOf("Gecko")!=-1&&!(R().toLowerCase().indexOf("webkit")!=-1&&R().indexOf("Edge")==-1)&&!(R().indexOf("Trident")!=-1||R().indexOf("MSIE")!=-1)&&R().indexOf("Edge")==-1;function ne(c,v,x){for(const S in c)v.call(x,c[S],S,c)}function N(c,v){for(const x in c)v.call(void 0,c[x],x,c)}function A(c){const v={};for(const x in c)v[x]=c[x];return v}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,v){let x,S;for(let $=1;$<arguments.length;$++){S=arguments[$];for(x in S)c[x]=S[x];for(let Q=0;Q<C.length;Q++)x=C[Q],Object.prototype.hasOwnProperty.call(S,x)&&(c[x]=S[x])}}function U(c){var v=1;c=c.split(":");const x=[];for(;0<v&&c.length;)x.push(c.shift()),v--;return c.length&&x.push(c.join(":")),x}function z(c){h.setTimeout(()=>{throw c},0)}function k(){var c=fe;let v=null;return c.g&&(v=c.g,c.g=c.g.next,c.g||(c.h=null),v.next=null),v}class ce{constructor(){this.h=this.g=null}add(v,x){const S=tt.get();S.set(v,x),this.h?this.h.next=S:this.g=S,this.h=S}}var tt=new H(()=>new De,c=>c.reset());class De{constructor(){this.next=this.g=this.h=null}set(v,x){this.h=v,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let Ce,se=!1,fe=new ce,ae=()=>{const c=h.Promise.resolve(void 0);Ce=()=>{c.then(O)}};var O=()=>{for(var c;c=k();){try{c.h.call(c.g)}catch(x){z(x)}var v=tt;v.j(c),100>v.h&&(v.h++,c.next=v.g,v.g=c)}se=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(c,v){this.type=c,this.g=this.target=v,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var Ae=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,v=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const x=()=>{};h.addEventListener("test",x,v),h.removeEventListener("test",x,v)}catch{}return c}();function ke(c,v){if(ye.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var x=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=v,v=c.relatedTarget){if(re){e:{try{K(v.nodeName);var $=!0;break e}catch{}$=!1}$||(v=null)}}else x=="mouseover"?v=c.fromElement:x=="mouseout"&&(v=c.toElement);this.relatedTarget=v,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:be[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ke.aa.h.call(this)}}D(ke,ye);var be={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),Be=0;function We(c,v,x,S,$){this.listener=c,this.proxy=null,this.src=v,this.type=x,this.capture=!!S,this.ha=$,this.key=++Be,this.da=this.fa=!1}function at(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Vt(c){this.src=c,this.g={},this.h=0}Vt.prototype.add=function(c,v,x,S,$){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var oe=fi(c,v,S,$);return-1<oe?(v=c[oe],x||(v.fa=!1)):(v=new We(v,this.src,Q,!!S,$),v.fa=x,c.push(v)),v};function fs(c,v){var x=v.type;if(x in c.g){var S=c.g[x],$=Array.prototype.indexOf.call(S,v,void 0),Q;(Q=0<=$)&&Array.prototype.splice.call(S,$,1),Q&&(at(v),c.g[x].length==0&&(delete c.g[x],c.h--))}}function fi(c,v,x,S){for(var $=0;$<c.length;++$){var Q=c[$];if(!Q.da&&Q.listener==v&&Q.capture==!!x&&Q.ha==S)return $}return-1}var ps="closure_lm_"+(1e6*Math.random()|0),mo={};function Ua(c,v,x,S,$){if(Array.isArray(v)){for(var Q=0;Q<v.length;Q++)Ua(c,v[Q],x,S,$);return null}return x=$a(x),c&&c[Oe]?c.K(v,x,p(S)?!!S.capture:!1,$):Ba(c,v,x,!1,S,$)}function Ba(c,v,x,S,$,Q){if(!v)throw Error("Invalid event type");var oe=p($)?!!$.capture:!!$,Ke=yo(c);if(Ke||(c[ps]=Ke=new Vt(c)),x=Ke.add(v,x,S,oe,Q),x.proxy)return x;if(S=Ou(),x.proxy=S,S.src=c,S.listener=x,c.addEventListener)Ae||($=oe),$===void 0&&($=!1),c.addEventListener(v.toString(),S,$);else if(c.attachEvent)c.attachEvent(Lr(v.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Ou(){function c(x){return v.call(c.src,c.listener,x)}const v=za;return c}function go(c,v,x,S,$){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)go(c,v[Q],x,S,$);else S=p(S)?!!S.capture:!!S,x=$a(x),c&&c[Oe]?(c=c.i,v=String(v).toString(),v in c.g&&(Q=c.g[v],x=fi(Q,x,S,$),-1<x&&(at(Q[x]),Array.prototype.splice.call(Q,x,1),Q.length==0&&(delete c.g[v],c.h--)))):c&&(c=yo(c))&&(v=c.g[v.toString()],c=-1,v&&(c=fi(v,x,S,$)),(x=-1<c?v[c]:null)&&Vr(x))}function Vr(c){if(typeof c!="number"&&c&&!c.da){var v=c.src;if(v&&v[Oe])fs(v.i,c);else{var x=c.type,S=c.proxy;v.removeEventListener?v.removeEventListener(x,S,c.capture):v.detachEvent?v.detachEvent(Lr(x),S):v.addListener&&v.removeListener&&v.removeListener(S),(x=yo(v))?(fs(x,c),x.h==0&&(x.src=null,v[ps]=null)):at(c)}}}function Lr(c){return c in mo?mo[c]:mo[c]="on"+c}function za(c,v){if(c.da)c=!0;else{v=new ke(v,this);var x=c.listener,S=c.ha||c.src;c.fa&&Vr(c),c=x.call(S,v)}return c}function yo(c){return c=c[ps],c instanceof Vt?c:null}var vo="__closure_events_fn_"+(1e9*Math.random()>>>0);function $a(c){return typeof c=="function"?c:(c[vo]||(c[vo]=function(v){return c.handleEvent(v)}),c[vo])}function Tt(){Y.call(this),this.i=new Vt(this),this.M=this,this.F=null}D(Tt,Y),Tt.prototype[Oe]=!0,Tt.prototype.removeEventListener=function(c,v,x,S){go(this,c,v,x,S)};function It(c,v){var x,S=c.F;if(S)for(x=[];S;S=S.F)x.push(S);if(c=c.M,S=v.type||v,typeof v=="string")v=new ye(v,c);else if(v instanceof ye)v.target=v.target||c;else{var $=v;v=new ye(S,c),V(v,$)}if($=!0,x)for(var Q=x.length-1;0<=Q;Q--){var oe=v.g=x[Q];$=Mr(oe,S,!0,v)&&$}if(oe=v.g=c,$=Mr(oe,S,!0,v)&&$,$=Mr(oe,S,!1,v)&&$,x)for(Q=0;Q<x.length;Q++)oe=v.g=x[Q],$=Mr(oe,S,!1,v)&&$}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var c=this.i,v;for(v in c.g){for(var x=c.g[v],S=0;S<x.length;S++)at(x[S]);delete c.g[v],c.h--}}this.F=null},Tt.prototype.K=function(c,v,x,S){return this.i.add(String(c),v,!1,x,S)},Tt.prototype.L=function(c,v,x,S){return this.i.add(String(c),v,!0,x,S)};function Mr(c,v,x,S){if(v=c.i.g[String(v)],!v)return!0;v=v.concat();for(var $=!0,Q=0;Q<v.length;++Q){var oe=v[Q];if(oe&&!oe.da&&oe.capture==x){var Ke=oe.listener,St=oe.ha||oe.src;oe.fa&&fs(c.i,oe),$=Ke.call(St,S)!==!1&&$}}return $&&!S.defaultPrevented}function qa(c,v,x){if(typeof c=="function")x&&(c=E(c,x));else if(c&&typeof c.handleEvent=="function")c=E(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:h.setTimeout(c,v||0)}function pi(c){c.g=qa(()=>{c.g=null,c.i&&(c.i=!1,pi(c))},c.l);const v=c.h;c.h=null,c.m.apply(null,v)}class ms extends Y{constructor(v,x){super(),this.m=v,this.l=x,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:pi(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gs(c){Y.call(this),this.h=c,this.g={}}D(gs,Y);var Wa=[];function Ha(c){ne(c.g,function(v,x){this.g.hasOwnProperty(x)&&Vr(v)},c),c.g={}}gs.prototype.N=function(){gs.aa.N.call(this),Ha(this)},gs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ga=h.JSON.stringify,Ka=h.JSON.parse,Qa=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function ys(){}ys.prototype.h=null;function wo(c){return c.h||(c.h=c.i())}function _o(){}var kn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function dr(){ye.call(this,"d")}D(dr,ye);function xo(){ye.call(this,"c")}D(xo,ye);var fr={},Ya=null;function vs(){return Ya=Ya||new Tt}fr.La="serverreachability";function Xa(c){ye.call(this,fr.La,c)}D(Xa,ye);function Or(c){const v=vs();It(v,new Xa(v))}fr.STAT_EVENT="statevent";function Ja(c,v){ye.call(this,fr.STAT_EVENT,c),this.stat=v}D(Ja,ye);function ft(c){const v=vs();It(v,new Ja(v,c))}fr.Ma="timingevent";function Eo(c,v){ye.call(this,fr.Ma,c),this.size=v}D(Eo,ye);function qn(c,v){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},v)}function ws(){this.g=!0}ws.prototype.xa=function(){this.g=!1};function _s(c,v,x,S,$,Q){c.info(function(){if(c.g)if(Q)for(var oe="",Ke=Q.split("&"),St=0;St<Ke.length;St++){var Fe=Ke[St].split("=");if(1<Fe.length){var bt=Fe[0];Fe=Fe[1];var vt=bt.split("_");oe=2<=vt.length&&vt[1]=="type"?oe+(bt+"="+Fe+"&"):oe+(bt+"=redacted&")}}else oe=null;else oe=Q;return"XMLHTTP REQ ("+S+") [attempt "+$+"]: "+v+`
`+x+`
`+oe})}function To(c,v,x,S,$,Q,oe){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+$+"]: "+v+`
`+x+`
`+Q+" "+oe})}function Wn(c,v,x,S){c.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ad(c,x)+(S?" "+S:"")})}function Za(c,v){c.info(function(){return"TIMEOUT: "+v})}ws.prototype.info=function(){};function Ad(c,v){if(!c.g)return v;if(!v)return null;try{var x=JSON.parse(v);if(x){for(c=0;c<x.length;c++)if(Array.isArray(x[c])){var S=x[c];if(!(2>S.length)){var $=S[1];if(Array.isArray($)&&!(1>$.length)){var Q=$[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var oe=1;oe<$.length;oe++)$[oe]=""}}}}return Ga(x)}catch{return v}}var Io={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Fu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hn;function xs(){}D(xs,ys),xs.prototype.g=function(){return new XMLHttpRequest},xs.prototype.i=function(){return{}},Hn=new xs;function Gn(c,v,x,S){this.j=c,this.i=v,this.l=x,this.R=S||1,this.U=new gs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Uu}function Uu(){this.i=null,this.g="",this.h=!1}var el={},So={};function Po(c,v,x){c.L=1,c.v=wi(wn(v)),c.m=x,c.P=!0,tl(c,null)}function tl(c,v){c.F=Date.now(),Xe(c),c.A=wn(c.v);var x=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),xi(x.i,"t",S),c.C=0,x=c.j.J,c.h=new Uu,c.g=ic(c.j,x?v:null,!c.m),0<c.O&&(c.M=new ms(E(c.Y,c,c.g),c.O)),v=c.U,x=c.g,S=c.ca;var $="readystatechange";Array.isArray($)||($&&(Wa[0]=$.toString()),$=Wa);for(var Q=0;Q<$.length;Q++){var oe=Ua(x,$[Q],S||v.handleEvent,!1,v.h||v);if(!oe)break;v.g[oe.key]=oe}v=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,v)):(c.u="GET",c.g.ea(c.A,c.u,null,v)),Or(),_s(c.i,c.u,c.A,c.l,c.R,c.m)}Gn.prototype.ca=function(c){c=c.target;const v=this.M;v&&ln(c)==3?v.j():this.Y(c)},Gn.prototype.Y=function(c){try{if(c==this.g)e:{const vt=ln(this.g);var v=this.g.Ba();const Rn=this.g.Z();if(!(3>vt)&&(vt!=3||this.g&&(this.h.h||this.g.oa()||al(this.g)))){this.J||vt!=4||v==7||(v==8||0>=Rn?Or(3):Or(2)),Es(this);var x=this.g.Z();this.X=x;t:if(Bu(this)){var S=al(this.g);c="";var $=S.length,Q=ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cn(this),mi(this);var oe="";break t}this.h.i=new h.TextDecoder}for(v=0;v<$;v++)this.h.h=!0,c+=this.h.i.decode(S[v],{stream:!(Q&&v==$-1)});S.length=0,this.h.g+=c,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=x==200,To(this.i,this.u,this.A,this.l,this.R,vt,x),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,St=this.g;if((Ke=St.g?St.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(Ke)){var Fe=Ke;break t}}Fe=null}if(x=Fe)Wn(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nl(this,x);else{this.o=!1,this.s=3,ft(12),Cn(this),mi(this);break e}}if(this.P){x=!0;let xn;for(;!this.J&&this.C<oe.length;)if(xn=kd(this,oe),xn==So){vt==4&&(this.s=4,ft(14),x=!1),Wn(this.i,this.l,null,"[Incomplete Response]");break}else if(xn==el){this.s=4,ft(15),Wn(this.i,this.l,oe,"[Invalid Chunk]"),x=!1;break}else Wn(this.i,this.l,xn,null),nl(this,xn);if(Bu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||oe.length!=0||this.h.h||(this.s=1,ft(16),x=!1),this.o=this.o&&x,!x)Wn(this.i,this.l,oe,"[Invalid Chunked Response]"),Cn(this),mi(this);else if(0<oe.length&&!this.W){this.W=!0;var bt=this.j;bt.g==this&&bt.ba&&!bt.M&&(bt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),ul(bt),bt.M=!0,ft(11))}}else Wn(this.i,this.l,oe,null),nl(this,oe);vt==4&&Cn(this),this.o&&!this.J&&(vt==4?Mo(this.j,this):(this.o=!1,Xe(this)))}else No(this.g),x==400&&0<oe.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),Cn(this),mi(this)}}}catch{}finally{}};function Bu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function kd(c,v){var x=c.C,S=v.indexOf(`
`,x);return S==-1?So:(x=Number(v.substring(x,S)),isNaN(x)?el:(S+=1,S+x>v.length?So:(v=v.slice(S,S+x),c.C=S+x,v)))}Gn.prototype.cancel=function(){this.J=!0,Cn(this)};function Xe(c){c.S=Date.now()+c.I,zu(c,c.I)}function zu(c,v){if(c.B!=null)throw Error("WatchDog timer not null");c.B=qn(E(c.ba,c),v)}function Es(c){c.B&&(h.clearTimeout(c.B),c.B=null)}Gn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Za(this.i,this.A),this.L!=2&&(Or(),ft(17)),Cn(this),this.s=2,mi(this)):zu(this,this.S-c)};function mi(c){c.j.G==0||c.J||Mo(c.j,c)}function Cn(c){Es(c);var v=c.M;v&&typeof v.ma=="function"&&v.ma(),c.M=null,Ha(c.U),c.g&&(v=c.g,c.g=null,v.abort(),v.ma())}function nl(c,v){try{var x=c.j;if(x.G!=0&&(x.g==c||Zt(x.h,c))){if(!c.K&&Zt(x.h,c)&&x.G==3){try{var S=x.Da.g.parse(v)}catch{S=null}if(Array.isArray(S)&&S.length==3){var $=S;if($[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<c.F)Lo(x),Jn(x);else break e;Vo(x),ft(18)}}else x.za=$[1],0<x.za-x.T&&37500>$[2]&&x.F&&x.v==0&&!x.C&&(x.C=qn(E(x.Za,x),6e3));if(1>=qu(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else $r(x,11)}else if((c.K||x.g==c)&&Lo(x),!B(v))for($=x.Da.g.parse(v),v=0;v<$.length;v++){let Fe=$[v];if(x.T=Fe[0],Fe=Fe[1],x.G==2)if(Fe[0]=="c"){x.K=Fe[1],x.ia=Fe[2];const bt=Fe[3];bt!=null&&(x.la=bt,x.j.info("VER="+x.la));const vt=Fe[4];vt!=null&&(x.Aa=vt,x.j.info("SVER="+x.Aa));const Rn=Fe[5];Rn!=null&&typeof Rn=="number"&&0<Rn&&(S=1.5*Rn,x.L=S,x.j.info("backChannelRequestTimeoutMs_="+S)),S=x;const xn=c.g;if(xn){const Cs=xn.g?xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Cs){var Q=S.h;Q.g||Cs.indexOf("spdy")==-1&&Cs.indexOf("quic")==-1&&Cs.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(rl(Q,Q.h),Q.h=null))}if(S.D){const Fo=xn.g?xn.g.getResponseHeader("X-HTTP-Session-Id"):null;Fo&&(S.ya=Fo,Ye(S.I,S.D,Fo))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-c.F,x.j.info("Handshake RTT: "+x.R+"ms")),S=x;var oe=c;if(S.qa=rc(S,S.J?S.ia:null,S.W),oe.K){Wu(S.h,oe);var Ke=oe,St=S.L;St&&(Ke.I=St),Ke.B&&(Es(Ke),Xe(Ke)),S.g=oe}else ks(S);0<x.i.length&&yr(x)}else Fe[0]!="stop"&&Fe[0]!="close"||$r(x,7);else x.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?$r(x,7):Mt(x):Fe[0]!="noop"&&x.l&&x.l.ta(Fe),x.v=0)}}Or(4)}catch{}}var $u=class{constructor(c,v){this.g=c,this.map=v}};function Ts(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function qu(c){return c.h?1:c.g?c.g.size:0}function Zt(c,v){return c.h?c.h==v:c.g?c.g.has(v):!1}function rl(c,v){c.g?c.g.add(v):c.h=v}function Wu(c,v){c.h&&c.h==v?c.h=null:c.g&&c.g.has(v)&&c.g.delete(v)}Ts.prototype.cancel=function(){if(this.i=Hu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Hu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let v=c.i;for(const x of c.g.values())v=v.concat(x.D);return v}return j(c.i)}function Ao(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var v=[],x=c.length,S=0;S<x;S++)v.push(c[S]);return v}v=[],x=0;for(S in c)v[x++]=c[S];return v}function ko(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var v=[];c=c.length;for(var x=0;x<c;x++)v.push(x);return v}v=[],x=0;for(const S in c)v[x++]=S;return v}}}function gi(c,v){if(c.forEach&&typeof c.forEach=="function")c.forEach(v,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,v,void 0);else for(var x=ko(c),S=Ao(c),$=S.length,Q=0;Q<$;Q++)v.call(void 0,S[Q],x&&x[Q],c)}var Is=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cd(c,v){if(c){c=c.split("&");for(var x=0;x<c.length;x++){var S=c[x].indexOf("="),$=null;if(0<=S){var Q=c[x].substring(0,S);$=c[x].substring(S+1)}else Q=c[x];v(Q,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Fr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Fr){this.h=c.h,Ss(this,c.j),this.o=c.o,this.g=c.g,yi(this,c.s),this.l=c.l;var v=c.i,x=new pr;x.i=v.i,v.g&&(x.g=new Map(v.g),x.h=v.h),vi(this,x),this.m=c.m}else c&&(v=String(c).match(Is))?(this.h=!1,Ss(this,v[1]||"",!0),this.o=Ve(v[2]||""),this.g=Ve(v[3]||"",!0),yi(this,v[4]),this.l=Ve(v[5]||"",!0),vi(this,v[6]||"",!0),this.m=Ve(v[7]||"")):(this.h=!1,this.i=new pr(null,this.h))}Fr.prototype.toString=function(){var c=[],v=this.j;v&&c.push(_i(v,Co,!0),":");var x=this.g;return(x||v=="file")&&(c.push("//"),(v=this.o)&&c.push(_i(v,Co,!0),"@"),c.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&c.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&c.push("/"),c.push(_i(x,x.charAt(0)=="/"?Qu:Ku,!0))),(x=this.i.toString())&&c.push("?",x),(x=this.m)&&c.push("#",_i(x,il)),c.join("")};function wn(c){return new Fr(c)}function Ss(c,v,x){c.j=x?Ve(v,!0):v,c.j&&(c.j=c.j.replace(/:$/,""))}function yi(c,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);c.s=v}else c.s=null}function vi(c,v,x){v instanceof pr?(c.i=v,mr(c.i,c.h)):(x||(v=_i(v,Yu)),c.i=new pr(v,c.h))}function Ye(c,v,x){c.i.set(v,x)}function wi(c){return Ye(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ve(c,v){return c?v?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function _i(c,v,x){return typeof c=="string"?(c=encodeURI(c).replace(v,Gu),x&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Gu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Co=/[#\/\?@]/g,Ku=/[#\?:]/g,Qu=/[#\?]/g,Yu=/[#\?@]/g,il=/#/g;function pr(c,v){this.h=this.g=null,this.i=c||null,this.j=!!v}function Lt(c){c.g||(c.g=new Map,c.h=0,c.i&&Cd(c.i,function(v,x){c.add(decodeURIComponent(v.replace(/\+/g," ")),x)}))}n=pr.prototype,n.add=function(c,v){Lt(this),this.i=null,c=bn(this,c);var x=this.g.get(c);return x||this.g.set(c,x=[]),x.push(v),this.h+=1,this};function Kn(c,v){Lt(c),v=bn(c,v),c.g.has(v)&&(c.i=null,c.h-=c.g.get(v).length,c.g.delete(v))}function Qn(c,v){return Lt(c),v=bn(c,v),c.g.has(v)}n.forEach=function(c,v){Lt(this),this.g.forEach(function(x,S){x.forEach(function($){c.call(v,$,S,this)},this)},this)},n.na=function(){Lt(this);const c=Array.from(this.g.values()),v=Array.from(this.g.keys()),x=[];for(let S=0;S<v.length;S++){const $=c[S];for(let Q=0;Q<$.length;Q++)x.push(v[S])}return x},n.V=function(c){Lt(this);let v=[];if(typeof c=="string")Qn(this,c)&&(v=v.concat(this.g.get(bn(this,c))));else{c=Array.from(this.g.values());for(let x=0;x<c.length;x++)v=v.concat(c[x])}return v},n.set=function(c,v){return Lt(this),this.i=null,c=bn(this,c),Qn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[v]),this.h+=1,this},n.get=function(c,v){return c?(c=this.V(c),0<c.length?String(c[0]):v):v};function xi(c,v,x){Kn(c,v),0<x.length&&(c.i=null,c.g.set(bn(c,v),j(x)),c.h+=x.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],v=Array.from(this.g.keys());for(var x=0;x<v.length;x++){var S=v[x];const Q=encodeURIComponent(String(S)),oe=this.V(S);for(S=0;S<oe.length;S++){var $=Q;oe[S]!==""&&($+="="+encodeURIComponent(String(oe[S]))),c.push($)}}return this.i=c.join("&")};function bn(c,v){return v=String(v),c.j&&(v=v.toLowerCase()),v}function mr(c,v){v&&!c.j&&(Lt(c),c.i=null,c.g.forEach(function(x,S){var $=S.toLowerCase();S!=$&&(Kn(this,S),xi(this,$,x))},c)),c.j=v}function bd(c,v){const x=new ws;if(h.Image){const S=new Image;S.onload=I(an,x,"TestLoadImage: loaded",!0,v,S),S.onerror=I(an,x,"TestLoadImage: error",!1,v,S),S.onabort=I(an,x,"TestLoadImage: abort",!1,v,S),S.ontimeout=I(an,x,"TestLoadImage: timeout",!1,v,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else v(!1)}function Xu(c,v){const x=new ws,S=new AbortController,$=setTimeout(()=>{S.abort(),an(x,"TestPingServer: timeout",!1,v)},1e4);fetch(c,{signal:S.signal}).then(Q=>{clearTimeout($),Q.ok?an(x,"TestPingServer: ok",!0,v):an(x,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout($),an(x,"TestPingServer: error",!1,v)})}function an(c,v,x,S,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),S(x)}catch{}}function Rd(){this.g=new Qa}function Ju(c,v,x){const S=x||"";try{gi(c,function($,Q){let oe=$;p($)&&(oe=Ga($)),v.push(S+Q+"="+encodeURIComponent(oe))})}catch($){throw v.push(S+"type="+encodeURIComponent("_badmap")),$}}function Ur(c){this.l=c.Ub||null,this.j=c.eb||!1}D(Ur,ys),Ur.prototype.g=function(){return new Ps(this.l,this.j)},Ur.prototype.i=function(c){return function(){return c}}({});function Ps(c,v){Tt.call(this),this.D=c,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Ps,Tt),n=Ps.prototype,n.open=function(c,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=v,this.readyState=1,Xn(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(v.body=c),(this.D||h).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yn(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Zu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var v=c.value?c.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!c.done}))&&(this.response=this.responseText+=v)}c.done?Yn(this):Xn(this),this.readyState==3&&Zu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Yn(this))},n.Qa=function(c){this.g&&(this.response=c,Yn(this))},n.ga=function(){this.g&&Yn(this)};function Yn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Xn(c)}n.setRequestHeader=function(c,v){this.u.append(c,v)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],v=this.h.entries();for(var x=v.next();!x.done;)x=x.value,c.push(x[0]+": "+x[1]),x=v.next();return c.join(`\r
`)};function Xn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ps.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Br(c){let v="";return ne(c,function(x,S){v+=S,v+=":",v+=x,v+=`\r
`}),v}function Ei(c,v,x){e:{for(S in x){var S=!1;break e}S=!0}S||(x=Br(x),typeof c=="string"?x!=null&&encodeURIComponent(String(x)):Ye(c,v,x))}function st(c){Tt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(st,Tt);var Nd=/^https?$/i,sl=["POST","PUT"];n=st.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,v,x,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);v=v?v.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hn.g(),this.v=this.o?wo(this.o):wo(Hn),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(v,String(c),!0),this.B=!1}catch(Q){As(this,Q);return}if(c=x||"",x=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var $ in S)x.set($,S[$]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Q of S.keys())x.set(Q,S.get(Q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(x.keys()).find(Q=>Q.toLowerCase()=="content-type"),$=h.FormData&&c instanceof h.FormData,!(0<=Array.prototype.indexOf.call(sl,v,void 0))||S||$||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,oe]of x)this.g.setRequestHeader(Q,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ro(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){As(this,Q)}};function As(c,v){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=v,c.m=5,bo(c),_n(c)}function bo(c){c.A||(c.A=!0,It(c,"complete"),It(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,It(this,"complete"),It(this,"abort"),_n(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_n(this,!0)),st.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ol(this):this.bb())},n.bb=function(){ol(this)};function ol(c){if(c.h&&typeof u<"u"&&(!c.v[1]||ln(c)!=4||c.Z()!=2)){if(c.u&&ln(c)==4)qa(c.Ea,0,c);else if(It(c,"readystatechange"),ln(c)==4){c.h=!1;try{const oe=c.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var x;if(!(x=v)){var S;if(S=oe===0){var $=String(c.D).match(Is)[1]||null;!$&&h.self&&h.self.location&&($=h.self.location.protocol.slice(0,-1)),S=!Nd.test($?$.toLowerCase():"")}x=S}if(x)It(c,"complete"),It(c,"success");else{c.m=6;try{var Q=2<ln(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",bo(c)}}finally{_n(c)}}}}function _n(c,v){if(c.g){Ro(c);const x=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,v||It(c,"ready");try{x.onreadystatechange=S}catch{}}}function Ro(c){c.I&&(h.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function ln(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<ln(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var v=this.g.responseText;return c&&v.indexOf(c)==0&&(v=v.substring(c.length)),Ka(v)}};function al(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function No(c){const v={};c=(c.g&&2<=ln(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(B(c[S]))continue;var x=U(c[S]);const $=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const Q=v[$]||[];v[$]=Q,Q.push(x)}N(v,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function gr(c,v,x){return x&&x.internalChannelParams&&x.internalChannelParams[c]||v}function ll(c){this.Aa=0,this.i=[],this.j=new ws,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gr("baseRetryDelayMs",5e3,c),this.cb=gr("retryDelaySeedMs",1e4,c),this.Wa=gr("forwardChannelMaxRetries",2,c),this.wa=gr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ts(c&&c.concurrentRequestLimit),this.Da=new Rd,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ll.prototype,n.la=8,n.G=1,n.connect=function(c,v,x,S){ft(0),this.W=c,this.H=v||{},x&&S!==void 0&&(this.H.OSID=x,this.H.OAID=S),this.F=this.X,this.I=rc(this,null,this.W),yr(this)};function Mt(c){if(Do(c),c.G==3){var v=c.U++,x=wn(c.I);if(Ye(x,"SID",c.K),Ye(x,"RID",v),Ye(x,"TYPE","terminate"),zr(c,x),v=new Gn(c,c.j,v),v.L=2,v.v=wi(wn(x)),x=!1,h.navigator&&h.navigator.sendBeacon)try{x=h.navigator.sendBeacon(v.v.toString(),"")}catch{}!x&&h.Image&&(new Image().src=v.v,x=!0),x||(v.g=ic(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Xe(v)}nc(c)}function Jn(c){c.g&&(ul(c),c.g.cancel(),c.g=null)}function Do(c){Jn(c),c.u&&(h.clearTimeout(c.u),c.u=null),Lo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&h.clearTimeout(c.s),c.s=null)}function yr(c){if(!vn(c.h)&&!c.s){c.s=!0;var v=c.Ga;Ce||ae(),se||(Ce(),se=!0),fe.add(v,c),c.B=0}}function Dd(c,v){return qu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=v.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=qn(E(c.Ga,c,v),tc(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const $=new Gn(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=A(Q),V(Q,this.S)):Q=this.S),this.m!==null||this.O||($.H=Q,Q=null),this.P)e:{for(var v=0,x=0;x<this.i.length;x++){t:{var S=this.i[x];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(v+=S,4096<v){v=x;break e}if(v===4096||x===this.i.length-1){v=x+1;break e}}v=1e3}else v=1e3;v=Ti(this,$,v),x=wn(this.I),Ye(x,"RID",c),Ye(x,"CVER",22),this.D&&Ye(x,"X-HTTP-Session-Id",this.D),zr(this,x),Q&&(this.O?v="headers="+encodeURIComponent(String(Br(Q)))+"&"+v:this.m&&Ei(x,this.m,Q)),rl(this.h,$),this.Ua&&Ye(x,"TYPE","init"),this.P?(Ye(x,"$req",v),Ye(x,"SID","null"),$.T=!0,Po($,x,null)):Po($,x,v),this.G=2}}else this.G==3&&(c?jo(this,c):this.i.length==0||vn(this.h)||jo(this))};function jo(c,v){var x;v?x=v.l:x=c.U++;const S=wn(c.I);Ye(S,"SID",c.K),Ye(S,"RID",x),Ye(S,"AID",c.T),zr(c,S),c.m&&c.o&&Ei(S,c.m,c.o),x=new Gn(c,c.j,x,c.B+1),c.m===null&&(x.H=c.o),v&&(c.i=v.D.concat(c.i)),v=Ti(c,x,1e3),x.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),rl(c.h,x),Po(x,S,v)}function zr(c,v){c.H&&ne(c.H,function(x,S){Ye(v,S,x)}),c.l&&gi({},function(x,S){Ye(v,S,x)})}function Ti(c,v,x){x=Math.min(c.i.length,x);var S=c.l?E(c.l.Na,c.l,c):null;e:{var $=c.i;let Q=-1;for(;;){const oe=["count="+x];Q==-1?0<x?(Q=$[0].g,oe.push("ofs="+Q)):Q=0:oe.push("ofs="+Q);let Ke=!0;for(let St=0;St<x;St++){let Fe=$[St].g;const bt=$[St].map;if(Fe-=Q,0>Fe)Q=Math.max(0,$[St].g-100),Ke=!1;else try{Ju(bt,oe,"req"+Fe+"_")}catch{S&&S(bt)}}if(Ke){S=oe.join("&");break e}}}return c=c.i.splice(0,x),v.D=c,S}function ks(c){if(!c.g&&!c.u){c.Y=1;var v=c.Fa;Ce||ae(),se||(Ce(),se=!0),fe.add(v,c),c.v=0}}function Vo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=qn(E(c.Fa,c),tc(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,ec(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=qn(E(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),Jn(this),ec(this))};function ul(c){c.A!=null&&(h.clearTimeout(c.A),c.A=null)}function ec(c){c.g=new Gn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var v=wn(c.qa);Ye(v,"RID","rpc"),Ye(v,"SID",c.K),Ye(v,"AID",c.T),Ye(v,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ye(v,"TO",c.ja),Ye(v,"TYPE","xmlhttp"),zr(c,v),c.m&&c.o&&Ei(v,c.m,c.o),c.L&&(c.g.I=c.L);var x=c.g;c=c.ia,x.L=1,x.v=wi(wn(v)),x.m=null,x.P=!0,tl(x,c)}n.Za=function(){this.C!=null&&(this.C=null,Jn(this),Vo(this),ft(19))};function Lo(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Mo(c,v){var x=null;if(c.g==v){Lo(c),ul(c),c.g=null;var S=2}else if(Zt(c.h,v))x=v.D,Wu(c.h,v),S=1;else return;if(c.G!=0){if(v.o)if(S==1){x=v.m?v.m.length:0,v=Date.now()-v.F;var $=c.B;S=vs(),It(S,new Eo(S,x)),yr(c)}else ks(c);else if($=v.s,$==3||$==0&&0<v.X||!(S==1&&Dd(c,v)||S==2&&Vo(c)))switch(x&&0<x.length&&(v=c.h,v.i=v.i.concat(x)),$){case 1:$r(c,5);break;case 4:$r(c,10);break;case 3:$r(c,6);break;default:$r(c,2)}}}function tc(c,v){let x=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(x*=2),x*v}function $r(c,v){if(c.j.info("Error code "+v),v==2){var x=E(c.fb,c),S=c.Xa;const $=!S;S=new Fr(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ss(S,"https"),wi(S),$?bd(S.toString(),x):Xu(S.toString(),x)}else ft(2);c.G=0,c.l&&c.l.sa(v),nc(c),Do(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function nc(c){if(c.G=0,c.ka=[],c.l){const v=Hu(c.h);(v.length!=0||c.i.length!=0)&&(P(c.ka,v),P(c.ka,c.i),c.h.i.length=0,j(c.i),c.i.length=0),c.l.ra()}}function rc(c,v,x){var S=x instanceof Fr?wn(x):new Fr(x);if(S.g!="")v&&(S.g=v+"."+S.g),yi(S,S.s);else{var $=h.location;S=$.protocol,v=v?v+"."+$.hostname:$.hostname,$=+$.port;var Q=new Fr(null);S&&Ss(Q,S),v&&(Q.g=v),$&&yi(Q,$),x&&(Q.l=x),S=Q}return x=c.D,v=c.ya,x&&v&&Ye(S,x,v),Ye(S,"VER",c.la),zr(c,S),S}function ic(c,v,x){if(v&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=c.Ca&&!c.pa?new st(new Ur({eb:x})):new st(c.pa),v.Ha(c.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function cl(){}n=cl.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Oo(){}Oo.prototype.g=function(c,v){return new en(c,v)};function en(c,v){Tt.call(this),this.g=new ll(v),this.l=c,this.h=v&&v.messageUrlParams||null,c=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(c?c["X-WebChannel-Content-Type"]=v.messageContentType:c={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(c?c["X-WebChannel-Client-Profile"]=v.va:c={"X-WebChannel-Client-Profile":v.va}),this.g.S=c,(c=v&&v.Sb)&&!B(c)&&(this.g.m=c),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!B(v)&&(this.g.D=v,c=this.h,c!==null&&v in c&&(c=this.h,v in c&&delete c[v])),this.j=new vr(this)}D(en,Tt),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Mt(this.g)},en.prototype.o=function(c){var v=this.g;if(typeof c=="string"){var x={};x.__data__=c,c=x}else this.u&&(x={},x.__data__=Ga(c),c=x);v.i.push(new $u(v.Ya++,c)),v.G==3&&yr(v)},en.prototype.N=function(){this.g.l=null,delete this.j,Mt(this.g),delete this.g,en.aa.N.call(this)};function sc(c){dr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var v=c.__sm__;if(v){e:{for(const x in v){c=x;break e}c=void 0}(this.i=c)&&(c=this.i,v=v!==null&&c in v?v[c]:void 0),this.data=v}else this.data=c}D(sc,dr);function oc(){xo.call(this),this.status=1}D(oc,xo);function vr(c){this.g=c}D(vr,cl),vr.prototype.ua=function(){It(this.g,"a")},vr.prototype.ta=function(c){It(this.g,new sc(c))},vr.prototype.sa=function(c){It(this.g,new oc)},vr.prototype.ra=function(){It(this.g,"b")},Oo.prototype.createWebChannel=Oo.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,_E=function(){return new Oo},wE=function(){return vs()},vE=fr,Qp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Io.NO_ERROR=0,Io.TIMEOUT=8,Io.HTTP_ERROR=6,ph=Io,Fu.COMPLETE="complete",yE=Fu,_o.EventType=kn,kn.OPEN="a",kn.CLOSE="b",kn.ERROR="c",kn.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,Ul=_o,st.prototype.listenOnce=st.prototype.L,st.prototype.getLastError=st.prototype.Ka,st.prototype.getLastErrorCode=st.prototype.Ba,st.prototype.getStatus=st.prototype.Z,st.prototype.getResponseJson=st.prototype.Oa,st.prototype.getResponseText=st.prototype.oa,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Ha,gE=st}).apply(typeof th<"u"?th:typeof self<"u"?self:typeof window<"u"?window:{});const rw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Va="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=new Qh("@firebase/firestore");function Vl(){return no.logLevel}function me(n,...e){if(no.logLevel<=Le.DEBUG){const t=e.map(qm);no.debug(`Firestore (${Va}): ${n}`,...t)}}function ai(n,...e){if(no.logLevel<=Le.ERROR){const t=e.map(qm);no.error(`Firestore (${Va}): ${n}`,...t)}}function xa(n,...e){if(no.logLevel<=Le.WARN){const t=e.map(qm);no.warn(`Firestore (${Va}): ${n}`,...t)}}function qm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(n="Unexpected state"){const e=`FIRESTORE (${Va}) INTERNAL ASSERTION FAILED: `+n;throw ai(e),new Error(e)}function Qe(n,e){n||Ie()}function Pe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends hr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Qb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Yt.UNAUTHENTICATED))}shutdown(){}}class Yb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Xb{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Qe(this.o===void 0);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new ni;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ni,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},h=f=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ni)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string"),new xE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string"),new Yt(e)}}class Jb{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Zb{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Jb(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class eR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tR{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Qe(this.o===void 0);const r=a=>{a.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,me("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Qe(typeof t.token=="string"),this.R=t.token,new eR(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=nR(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%e.length))}return r}}function qe(n,e){return n<e?-1:n>e?1:0}function Ea(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new le(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new le(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new le(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Ct(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Ct(0,0))}static max(){return new Se(new Ct(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ie(),r===void 0?r=e.length-t:r>e.length-t&&Ie(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return au.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof au?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=e.get(s),u=t.get(s);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class it extends au{construct(e,t,r){return new it(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new it(t)}static emptyPath(){return new it([])}}const rR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends au{construct(e,t,r){return new Bt(e,t,r)}static isValidIdentifier(e){return rR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Bt(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new le(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new le(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new le(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else h==="`"?(u=!u,s++):h!=="."||u?(r+=h,s++):(a(),s++)}if(a(),u)throw new le(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(t)}static emptyPath(){return new Bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(it.fromString(e))}static fromName(e){return new ve(it.fromString(e).popFirst(5))}static empty(){return new ve(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return it.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new it(e.slice()))}}function iR(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Se.fromTimestamp(r===1e9?new Ct(t+1,0):new Ct(t,r));return new ns(s,ve.empty(),e)}function sR(n){return new ns(n.readTime,n.key,-1)}class ns{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ns(Se.min(),ve.empty(),-1)}static max(){return new ns(Se.max(),ve.empty(),-1)}}function oR(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(n.documentKey,e.documentKey),t!==0?t:qe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iu(n){if(n.code!==X.FAILED_PRECONDITION||n.message!==aR)throw n;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.reject(t)}static resolve(e){return new ee((t,r)=>{t(e)})}static reject(e){return new ee((t,r)=>{r(e)})}static waitFor(e){return new ee((t,r)=>{let s=0,a=0,u=!1;e.forEach(h=>{++s,h.next(()=>{++a,u&&a===s&&t()},f=>r(f))}),u=!0,a===s&&t()})}static or(e){let t=ee.resolve(!1);for(const r of e)t=t.next(s=>s?ee.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,a)=>{r.push(t.call(this,s,a))}),this.waitFor(r)}static mapArray(e,t){return new ee((r,s)=>{const a=e.length,u=new Array(a);let h=0;for(let f=0;f<a;f++){const p=f;t(e[p]).next(y=>{u[p]=y,++h,h===a&&r(u)},y=>s(y))}})}static doWhile(e,t){return new ee((r,s)=>{const a=()=>{e()===!0?t().next(()=>{a()},s):r()};a()})}}function uR(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Su(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Wm.oe=-1;function Zh(n){return n==null}function Ch(n){return n===0&&1/n==-1/0}function cR(n){return typeof n=="number"&&Number.isInteger(n)&&!Ch(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function co(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function TE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,t){this.comparator=e,this.root=t||Ut.EMPTY}insert(e,t){return new ht(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nh(this.root,e,this.comparator,!1)}getReverseIterator(){return new nh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nh(this.root,e,this.comparator,!0)}}class nh{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ut{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??Ut.RED,this.left=s??Ut.EMPTY,this.right=a??Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new Ut(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Ut.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ie();const e=this.left.check();if(e!==this.right.check())throw Ie();return e+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie()}get value(){throw Ie()}get color(){throw Ie()}get left(){throw Ie()}get right(){throw Ie()}copy(e,t,r,s,a){return this}insert(e,t,r){return new Ut(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new sw(this.data.getIterator())}getIteratorFrom(e){return new sw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new zt(this.comparator);return t.data=e,t}}class sw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new Sn([])}unionWith(e){let t=new zt(Bt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Sn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ea(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new IE("Invalid base64 string: "+a):a}}(e);return new $t(t)}static fromUint8Array(e){const t=function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a}(e);return new $t(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const hR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rs(n){if(Qe(!!n),typeof n=="string"){let e=0;const t=hR.exec(n);if(Qe(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mt(n.seconds),nanos:mt(n.nanos)}}function mt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ro(n){return typeof n=="string"?$t.fromBase64String(n):$t.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Gm(n){const e=n.mapValue.fields.__previous_value__;return Hm(e)?Gm(e):e}function lu(n){const e=rs(n.mapValue.fields.__local_write_time__.timestampValue);return new Ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,t,r,s,a,u,h,f,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=p}}class uu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new uu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof uu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh={mapValue:{}};function io(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Hm(n)?4:pR(n)?9007199254740991:fR(n)?10:11:Ie()}function Dr(n,e){if(n===e)return!0;const t=io(n);if(t!==io(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return lu(n).isEqual(lu(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const u=rs(s.timestampValue),h=rs(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,a){return ro(s.bytesValue).isEqual(ro(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return mt(s.geoPointValue.latitude)===mt(a.geoPointValue.latitude)&&mt(s.geoPointValue.longitude)===mt(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return mt(s.integerValue)===mt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const u=mt(s.doubleValue),h=mt(a.doubleValue);return u===h?Ch(u)===Ch(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return Ea(n.arrayValue.values||[],e.arrayValue.values||[],Dr);case 10:case 11:return function(s,a){const u=s.mapValue.fields||{},h=a.mapValue.fields||{};if(iw(u)!==iw(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!Dr(u[f],h[f])))return!1;return!0}(n,e);default:return Ie()}}function cu(n,e){return(n.values||[]).find(t=>Dr(t,e))!==void 0}function Ta(n,e){if(n===e)return 0;const t=io(n),r=io(e);if(t!==r)return qe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return qe(n.booleanValue,e.booleanValue);case 2:return function(a,u){const h=mt(a.integerValue||a.doubleValue),f=mt(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,e);case 3:return ow(n.timestampValue,e.timestampValue);case 4:return ow(lu(n),lu(e));case 5:return qe(n.stringValue,e.stringValue);case 6:return function(a,u){const h=ro(a),f=ro(u);return h.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const h=a.split("/"),f=u.split("/");for(let p=0;p<h.length&&p<f.length;p++){const y=qe(h[p],f[p]);if(y!==0)return y}return qe(h.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const h=qe(mt(a.latitude),mt(u.latitude));return h!==0?h:qe(mt(a.longitude),mt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return aw(n.arrayValue,e.arrayValue);case 10:return function(a,u){var h,f,p,y;const _=a.fields||{},E=u.fields||{},I=(h=_.value)===null||h===void 0?void 0:h.arrayValue,D=(f=E.value)===null||f===void 0?void 0:f.arrayValue,j=qe(((p=I?.values)===null||p===void 0?void 0:p.length)||0,((y=D?.values)===null||y===void 0?void 0:y.length)||0);return j!==0?j:aw(I,D)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===rh.mapValue&&u===rh.mapValue)return 0;if(a===rh.mapValue)return 1;if(u===rh.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),p=u.fields||{},y=Object.keys(p);f.sort(),y.sort();for(let _=0;_<f.length&&_<y.length;++_){const E=qe(f[_],y[_]);if(E!==0)return E;const I=Ta(h[f[_]],p[y[_]]);if(I!==0)return I}return qe(f.length,y.length)}(n.mapValue,e.mapValue);default:throw Ie()}}function ow(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return qe(n,e);const t=rs(n),r=rs(e),s=qe(t.seconds,r.seconds);return s!==0?s:qe(t.nanos,r.nanos)}function aw(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=Ta(t[s],r[s]);if(a)return a}return qe(t.length,r.length)}function Ia(n){return Yp(n)}function Yp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=rs(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ro(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ve.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=Yp(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const u of r)a?a=!1:s+=",",s+=`${u}:${Yp(t.fields[u])}`;return s+"}"}(n.mapValue):Ie()}function lw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Xp(n){return!!n&&"integerValue"in n}function Km(n){return!!n&&"arrayValue"in n}function uw(n){return!!n&&"nullValue"in n}function cw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function mh(n){return!!n&&"mapValue"in n}function fR(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Hl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return co(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Hl(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Hl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function pR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!mh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hl(t)}setAll(e){let t=Bt.emptyPath(),r={},s=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=h.popLast()}u?r[h.lastSegment()]=Hl(u):s.push(h.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());mh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Dr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];mh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){co(t,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new mn(Hl(this.value))}}function SE(n){const e=[];return co(n.fields,(t,r)=>{const s=new Bt([t]);if(mh(r)){const a=SE(r.mapValue).fields;if(a.length===0)e.push(s);else for(const u of a)e.push(s.child(u))}else e.push(s)}),new Sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,t,r,s,a,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Xt(e,0,Se.min(),Se.min(),Se.min(),mn.empty(),0)}static newFoundDocument(e,t,r,s){return new Xt(e,1,t,Se.min(),r,s,0)}static newNoDocument(e,t){return new Xt(e,2,t,Se.min(),Se.min(),mn.empty(),0)}static newUnknownDocument(e,t){return new Xt(e,3,t,Se.min(),Se.min(),mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,t){this.position=e,this.inclusive=t}}function hw(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],u=n.position[s];if(a.field.isKeyField()?r=ve.comparator(ve.fromName(u.referenceValue),t.key):r=Ta(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function dw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Dr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,t="asc"){this.field=e,this.dir=t}}function mR(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PE=class{};class Et extends PE{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new yR(e,t,r):t==="array-contains"?new _R(e,r):t==="in"?new xR(e,r):t==="not-in"?new ER(e,r):t==="array-contains-any"?new TR(e,r):new Et(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new vR(e,r):new wR(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ta(t,this.value)):t!==null&&io(this.value)===io(t)&&this.matchesComparison(Ta(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cr extends PE{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new cr(e,t)}matches(e){return AE(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function AE(n){return n.op==="and"}function kE(n){return gR(n)&&AE(n)}function gR(n){for(const e of n.filters)if(e instanceof cr)return!1;return!0}function Jp(n){if(n instanceof Et)return n.field.canonicalString()+n.op.toString()+Ia(n.value);if(kE(n))return n.filters.map(e=>Jp(e)).join(",");{const e=n.filters.map(t=>Jp(t)).join(",");return`${n.op}(${e})`}}function CE(n,e){return n instanceof Et?function(r,s){return s instanceof Et&&r.op===s.op&&r.field.isEqual(s.field)&&Dr(r.value,s.value)}(n,e):n instanceof cr?function(r,s){return s instanceof cr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,u,h)=>a&&CE(u,s.filters[h]),!0):!1}(n,e):void Ie()}function bE(n){return n instanceof Et?function(t){return`${t.field.canonicalString()} ${t.op} ${Ia(t.value)}`}(n):n instanceof cr?function(t){return t.op.toString()+" {"+t.getFilters().map(bE).join(" ,")+"}"}(n):"Filter"}class yR extends Et{constructor(e,t,r){super(e,t,r),this.key=ve.fromName(r.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class vR extends Et{constructor(e,t){super(e,"in",t),this.keys=RE("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class wR extends Et{constructor(e,t){super(e,"not-in",t),this.keys=RE("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function RE(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ve.fromName(r.referenceValue))}class _R extends Et{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Km(t)&&cu(t.arrayValue,this.value)}}class xR extends Et{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&cu(this.value.arrayValue,t)}}class ER extends Et{constructor(e,t){super(e,"not-in",t)}matches(e){if(cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!cu(this.value.arrayValue,t)}}class TR extends Et{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Km(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>cu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e,t=null,r=[],s=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=u,this.endAt=h,this.ue=null}}function fw(n,e=null,t=[],r=[],s=null,a=null,u=null){return new IR(n,e,t,r,s,a,u)}function Qm(n){const e=Pe(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Jp(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Zh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ia(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ia(r)).join(",")),e.ue=t}return e.ue}function Ym(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!mR(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!CE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!dw(n.startAt,e.startAt)&&dw(n.endAt,e.endAt)}function Zp(n){return ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,t=null,r=[],s=[],a=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function SR(n,e,t,r,s,a,u,h){return new La(n,e,t,r,s,a,u,h)}function Xm(n){return new La(n)}function pw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function NE(n){return n.collectionGroup!==null}function Gl(n){const e=Pe(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new zt(Bt.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(h=h.add(p.field))})}),h})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new hu(a,r))}),t.has(Bt.keyField().canonicalString())||e.ce.push(new hu(Bt.keyField(),r))}return e.ce}function Ar(n){const e=Pe(n);return e.le||(e.le=PR(e,Gl(n))),e.le}function PR(n,e){if(n.limitType==="F")return fw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new hu(s.field,a)});const t=n.endAt?new bh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new bh(n.startAt.position,n.startAt.inclusive):null;return fw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function em(n,e){const t=n.filters.concat([e]);return new La(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Rh(n,e,t){return new La(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ed(n,e){return Ym(Ar(n),Ar(e))&&n.limitType===e.limitType}function DE(n){return`${Qm(Ar(n))}|lt:${n.limitType}`}function oa(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>bE(s)).join(", ")}]`),Zh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>Ia(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>Ia(s)).join(",")),`Target(${r})`}(Ar(n))}; limitType=${n.limitType})`}function td(n,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ve.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,s){for(const a of Gl(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(u,h,f){const p=hw(u,h,f);return u.inclusive?p<=0:p<0}(r.startAt,Gl(r),s)||r.endAt&&!function(u,h,f){const p=hw(u,h,f);return u.inclusive?p>=0:p>0}(r.endAt,Gl(r),s))}(n,e)}function AR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function jE(n){return(e,t)=>{let r=!1;for(const s of Gl(n)){const a=kR(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function kR(n,e,t){const r=n.field.isKeyField()?ve.comparator(e.key,t.key):function(a,u,h){const f=u.data.field(a),p=h.data.field(a);return f!==null&&p!==null?Ta(f,p):Ie()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){co(this.inner,(t,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return TE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=new ht(ve.comparator);function li(){return CR}const VE=new ht(ve.comparator);function Bl(...n){let e=VE;for(const t of n)e=e.insert(t.key,t);return e}function LE(n){let e=VE;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ks(){return Kl()}function ME(){return Kl()}function Kl(){return new Ma(n=>n.toString(),(n,e)=>n.isEqual(e))}const bR=new ht(ve.comparator),RR=new zt(ve.comparator);function je(...n){let e=RR;for(const t of n)e=e.add(t);return e}const NR=new zt(qe);function DR(){return NR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ch(e)?"-0":e}}function OE(n){return{integerValue:""+n}}function FE(n,e){return cR(e)?OE(e):Jm(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(){this._=void 0}}function jR(n,e,t){return n instanceof Nh?function(s,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Hm(a)&&(a=Gm(a)),a&&(u.fields.__previous_value__=a),{mapValue:u}}(t,e):n instanceof du?BE(n,e):n instanceof fu?zE(n,e):function(s,a){const u=UE(s,a),h=mw(u)+mw(s.Pe);return Xp(u)&&Xp(s.Pe)?OE(h):Jm(s.serializer,h)}(n,e)}function VR(n,e,t){return n instanceof du?BE(n,e):n instanceof fu?zE(n,e):t}function UE(n,e){return n instanceof pu?function(r){return Xp(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Nh extends nd{}class du extends nd{constructor(e){super(),this.elements=e}}function BE(n,e){const t=$E(e);for(const r of n.elements)t.some(s=>Dr(s,r))||t.push(r);return{arrayValue:{values:t}}}class fu extends nd{constructor(e){super(),this.elements=e}}function zE(n,e){let t=$E(e);for(const r of n.elements)t=t.filter(s=>!Dr(s,r));return{arrayValue:{values:t}}}class pu extends nd{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function mw(n){return mt(n.integerValue||n.doubleValue)}function $E(n){return Km(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e,t){this.field=e,this.transform=t}}function MR(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof du&&s instanceof du||r instanceof fu&&s instanceof fu?Ea(r.elements,s.elements,Dr):r instanceof pu&&s instanceof pu?Dr(r.Pe,s.Pe):r instanceof Nh&&s instanceof Nh}(n.transform,e.transform)}class OR{constructor(e,t){this.version=e,this.transformResults=t}}class sn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new sn}static exists(e){return new sn(void 0,e)}static updateTime(e){return new sn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class rd{}function qE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new id(n.key,sn.none()):new Pu(n.key,n.data,sn.none());{const t=n.data,r=mn.empty();let s=new zt(Bt.comparator);for(let a of e.fields)if(!s.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),s=s.add(a)}return new us(n.key,r,new Sn(s.toArray()),sn.none())}}function FR(n,e,t){n instanceof Pu?function(s,a,u){const h=s.value.clone(),f=yw(s.fieldTransforms,a,u.transformResults);h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof us?function(s,a,u){if(!gh(s.precondition,a))return void a.convertToUnknownDocument(u.version);const h=yw(s.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(WE(s)),f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(s,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Ql(n,e,t,r){return n instanceof Pu?function(a,u,h,f){if(!gh(a.precondition,u))return h;const p=a.value.clone(),y=vw(a.fieldTransforms,f,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof us?function(a,u,h,f){if(!gh(a.precondition,u))return h;const p=vw(a.fieldTransforms,f,u),y=u.data;return y.setAll(WE(a)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(_=>_.field))}(n,e,t,r):function(a,u,h){return gh(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,e,t)}function UR(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=UE(r.transform,s||null);a!=null&&(t===null&&(t=mn.empty()),t.set(r.field,a))}return t||null}function gw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ea(r,s,(a,u)=>MR(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Pu extends rd{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class us extends rd{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function WE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function yw(n,e,t){const r=new Map;Qe(n.length===t.length);for(let s=0;s<t.length;s++){const a=n[s],u=a.transform,h=e.data.field(a.field);r.set(a.field,VR(u,h,t[s]))}return r}function vw(n,e,t){const r=new Map;for(const s of n){const a=s.transform,u=t.data.field(s.field);r.set(s.field,jR(a,u,e))}return r}class id extends rd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BR extends rd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&FR(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ql(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ql(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=ME();return this.mutations.forEach(s=>{const a=e.get(s.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=t.has(s.key)?null:h;const f=qE(u,h);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(Se.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),je())}isEqual(e){return this.batchId===e.batchId&&Ea(this.mutations,e.mutations,(t,r)=>gw(t,r))&&Ea(this.baseMutations,e.baseMutations,(t,r)=>gw(t,r))}}class Zm{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Qe(e.mutations.length===r.length);let s=function(){return bR}();const a=e.mutations;for(let u=0;u<a.length;u++)s=s.insert(a[u].key,r[u].version);return new Zm(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t,Ue;function WR(n){switch(n){default:return Ie();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0}}function HE(n){if(n===void 0)return ai("GRPC error has no .code"),X.UNKNOWN;switch(n){case _t.OK:return X.OK;case _t.CANCELLED:return X.CANCELLED;case _t.UNKNOWN:return X.UNKNOWN;case _t.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case _t.INTERNAL:return X.INTERNAL;case _t.UNAVAILABLE:return X.UNAVAILABLE;case _t.UNAUTHENTICATED:return X.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case _t.NOT_FOUND:return X.NOT_FOUND;case _t.ALREADY_EXISTS:return X.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return X.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case _t.ABORTED:return X.ABORTED;case _t.OUT_OF_RANGE:return X.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return X.UNIMPLEMENTED;case _t.DATA_LOSS:return X.DATA_LOSS;default:return Ie()}}(Ue=_t||(_t={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR=new Xs([4294967295,4294967295],0);function ww(n){const e=HR().encode(n),t=new mE;return t.update(e),new Uint8Array(t.digest())}function _w(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Xs([t,r],0),new Xs([s,a],0)]}class eg{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new zl(`Invalid padding: ${t}`);if(r<0)throw new zl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new zl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new zl(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Xs.fromNumber(this.Ie)}Ee(e,t,r){let s=e.add(t.multiply(Xs.fromNumber(r)));return s.compare(GR)===1&&(s=new Xs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=ww(e),[r,s]=_w(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(r,s,a);if(!this.de(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new eg(a,s,t);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.Ie===0)return;const t=ww(e),[r,s]=_w(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(r,s,a);this.Ae(u)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Au.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new sd(Se.min(),s,new ht(qe),li(),je())}}class Au{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Au(r,t,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,t,r,s){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=s}}class GE{constructor(e,t){this.targetId=e,this.me=t}}class KE{constructor(e,t,r=$t.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class xw{constructor(){this.fe=0,this.ge=Tw(),this.pe=$t.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=je(),t=je(),r=je();return this.ge.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Ie()}}),new Au(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=Tw()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Qe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class KR{constructor(e){this.Le=e,this.Be=new Map,this.ke=li(),this.qe=Ew(),this.Qe=new ht(qe)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:Ie()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,s)=>{this.ze(s)&&t(s)})}He(e){const t=e.targetId,r=e.me.count,s=this.Je(t);if(s){const a=s.target;if(Zp(a))if(r===0){const u=new ve(a.path);this.Ue(t,u,Xt.newNoDocument(u,Se.min()))}else Qe(r===1);else{const u=this.Ye(t);if(u!==r){const h=this.Ze(e),f=h?this.Xe(h,e,u):1;if(f!==0){this.je(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,p)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let u,h;try{u=ro(r).toUint8Array()}catch(f){if(f instanceof IE)return xa("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new eg(u,s,a)}catch(f){return xa(f instanceof zl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.Ie===0?null:h}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let s=0;return r.forEach(a=>{const u=this.Le.tt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.Ue(t,a,null),s++)}),s}rt(e){const t=new Map;this.Be.forEach((a,u)=>{const h=this.Je(u);if(h){if(a.current&&Zp(h.target)){const f=new ve(h.target.path);this.ke.get(f)!==null||this.it(u,f)||this.Ue(u,f,Xt.newNoDocument(f,e))}a.be&&(t.set(u,a.ve()),a.Ce())}});let r=je();this.qe.forEach((a,u)=>{let h=!0;u.forEachWhile(f=>{const p=this.Je(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(a))}),this.ke.forEach((a,u)=>u.setReadTime(e));const s=new sd(e,t,this.Qe,this.ke,r);return this.ke=li(),this.qe=Ew(),this.Qe=new ht(qe),s}$e(e,t){if(!this.ze(e))return;const r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,t)?s.Fe(t,1):s.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new xw,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new zt(qe),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||me("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new xw),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Ew(){return new ht(ve.comparator)}function Tw(){return new ht(ve.comparator)}const QR={asc:"ASCENDING",desc:"DESCENDING"},YR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XR={and:"AND",or:"OR"};class JR{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function tm(n,e){return n.useProto3Json||Zh(e)?e:{value:e}}function Dh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function QE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function ZR(n,e){return Dh(n,e.toTimestamp())}function kr(n){return Qe(!!n),Se.fromTimestamp(function(t){const r=rs(t);return new Ct(r.seconds,r.nanos)}(n))}function tg(n,e){return nm(n,e).canonicalString()}function nm(n,e){const t=function(s){return new it(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function YE(n){const e=it.fromString(n);return Qe(tT(e)),e}function rm(n,e){return tg(n.databaseId,e.path)}function fp(n,e){const t=YE(e);if(t.get(1)!==n.databaseId.projectId)throw new le(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new le(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ve(JE(t))}function XE(n,e){return tg(n.databaseId,e)}function eN(n){const e=YE(n);return e.length===4?it.emptyPath():JE(e)}function im(n){return new it(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function JE(n){return Qe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Iw(n,e,t){return{name:rm(n,e),fields:t.value.mapValue.fields}}function tN(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(p,y){return p.useProto3Json?(Qe(y===void 0||typeof y=="string"),$t.fromBase64String(y||"")):(Qe(y===void 0||y instanceof Buffer||y instanceof Uint8Array),$t.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(p){const y=p.code===void 0?X.UNKNOWN:HE(p.code);return new le(y,p.message||"")}(u);t=new KE(r,s,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=fp(n,r.document.name),a=kr(r.document.updateTime),u=r.document.createTime?kr(r.document.createTime):Se.min(),h=new mn({mapValue:{fields:r.document.fields}}),f=Xt.newFoundDocument(s,a,u,h),p=r.targetIds||[],y=r.removedTargetIds||[];t=new yh(p,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=fp(n,r.document),a=r.readTime?kr(r.readTime):Se.min(),u=Xt.newNoDocument(s,a),h=r.removedTargetIds||[];t=new yh([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=fp(n,r.document),a=r.removedTargetIds||[];t=new yh([],a,s,null)}else{if(!("filter"in e))return Ie();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,u=new qR(s,a),h=r.targetId;t=new GE(h,u)}}return t}function nN(n,e){let t;if(e instanceof Pu)t={update:Iw(n,e.key,e.value)};else if(e instanceof id)t={delete:rm(n,e.key)};else if(e instanceof us)t={update:Iw(n,e.key,e.data),updateMask:hN(e.fieldMask)};else{if(!(e instanceof BR))return Ie();t={verify:rm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const h=u.transform;if(h instanceof Nh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof du)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof fu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof pu)return{fieldPath:u.field.canonicalString(),increment:h.Pe};throw Ie()}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:ZR(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ie()}(n,e.precondition)),t}function rN(n,e){return n&&n.length>0?(Qe(e!==void 0),n.map(t=>function(s,a){let u=s.updateTime?kr(s.updateTime):kr(a);return u.isEqual(Se.min())&&(u=kr(a)),new OR(u,s.transformResults||[])}(t,e))):[]}function iN(n,e){return{documents:[XE(n,e.path)]}}function sN(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=XE(n,s);const a=function(p){if(p.length!==0)return eT(cr.create(p,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(p){if(p.length!==0)return p.map(y=>function(E){return{field:aa(E.field),direction:lN(E.dir)}}(y))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=tm(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{_t:t,parent:s}}function oN(n){let e=eN(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Qe(r===1);const y=t.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let a=[];t.where&&(a=function(_){const E=ZE(_);return E instanceof cr&&kE(E)?E.getFilters():[E]}(t.where));let u=[];t.orderBy&&(u=function(_){return _.map(E=>function(D){return new hu(la(D.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(E))}(t.orderBy));let h=null;t.limit&&(h=function(_){let E;return E=typeof _=="object"?_.value:_,Zh(E)?null:E}(t.limit));let f=null;t.startAt&&(f=function(_){const E=!!_.before,I=_.values||[];return new bh(I,E)}(t.startAt));let p=null;return t.endAt&&(p=function(_){const E=!_.before,I=_.values||[];return new bh(I,E)}(t.endAt)),SR(e,s,u,a,h,"F",f,p)}function aN(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ZE(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=la(t.unaryFilter.field);return Et.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=la(t.unaryFilter.field);return Et.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=la(t.unaryFilter.field);return Et.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=la(t.unaryFilter.field);return Et.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Ie()}}(n):n.fieldFilter!==void 0?function(t){return Et.create(la(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ie()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return cr.create(t.compositeFilter.filters.map(r=>ZE(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ie()}}(t.compositeFilter.op))}(n):Ie()}function lN(n){return QR[n]}function uN(n){return YR[n]}function cN(n){return XR[n]}function aa(n){return{fieldPath:n.canonicalString()}}function la(n){return Bt.fromServerFormat(n.fieldPath)}function eT(n){return n instanceof Et?function(t){if(t.op==="=="){if(cw(t.value))return{unaryFilter:{field:aa(t.field),op:"IS_NAN"}};if(uw(t.value))return{unaryFilter:{field:aa(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(cw(t.value))return{unaryFilter:{field:aa(t.field),op:"IS_NOT_NAN"}};if(uw(t.value))return{unaryFilter:{field:aa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:aa(t.field),op:uN(t.op),value:t.value}}}(n):n instanceof cr?function(t){const r=t.getFilters().map(s=>eT(s));return r.length===1?r[0]:{compositeFilter:{op:cN(t.op),filters:r}}}(n):Ie()}function hN(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function tT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,t,r,s,a=Se.min(),u=Se.min(),h=$t.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Gi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e){this.ct=e}}function fN(n){const e=oN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Rh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(){this.un=new mN}addToCollectionParentIndex(e,t){return this.un.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(ns.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(ns.min())}updateCollectionGroup(e,t,r){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class mN{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new zt(it.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new zt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Sa(0)}static kn(){return new Sa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(){this.changes=new Ma(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ee.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&Ql(r.mutation,s,Sn.empty(),Ct.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,je()).next(()=>r))}getLocalViewOfDocuments(e,t,r=je()){const s=Ks();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(a=>{let u=Bl();return a.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Ks();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,je()))}populateOverlays(e,t,r){const s=[];return r.forEach(a=>{t.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,s){let a=li();const u=Kl(),h=function(){return Kl()}();return t.forEach((f,p)=>{const y=r.get(p.key);s.has(p.key)&&(y===void 0||y.mutation instanceof us)?a=a.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),Ql(y.mutation,p,y.mutation.getFieldMask(),Ct.now())):u.set(p.key,Sn.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((p,y)=>u.set(p,y)),t.forEach((p,y)=>{var _;return h.set(p,new yN(y,(_=u.get(p))!==null&&_!==void 0?_:null))}),h))}recalculateAndSaveOverlays(e,t){const r=Kl();let s=new ht((u,h)=>u-h),a=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(f=>{const p=t.get(f);if(p===null)return;let y=r.get(f)||Sn.empty();y=h.applyToLocalView(p,y),r.set(f,y);const _=(s.get(h.batchId)||je()).add(f);s=s.insert(h.batchId,_)})}).next(()=>{const u=[],h=s.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),p=f.key,y=f.value,_=ME();y.forEach(E=>{if(!a.has(E)){const I=qE(t.get(E),r.get(E));I!==null&&_.set(E,I),a=a.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,_))}return ee.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(u){return ve.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):NE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(a=>{const u=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):ee.resolve(Ks());let h=-1,f=a;return u.next(p=>ee.forEach(p,(y,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),a.get(y)?ee.resolve():this.remoteDocumentCache.getEntry(e,y).next(E=>{f=f.insert(y,E)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,f,p,je())).next(y=>({batchId:h,changes:LE(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(r=>{let s=Bl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let u=Bl();return this.indexManager.getCollectionParents(e,a).next(h=>ee.forEach(h,f=>{const p=function(_,E){return new La(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(y=>{y.forEach((_,E)=>{u=u.insert(_,E)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s))).next(u=>{a.forEach((f,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,Xt.newInvalidDocument(y)))});let h=Bl();return u.forEach((f,p)=>{const y=a.get(f);y!==void 0&&Ql(y.mutation,p,Sn.empty(),Ct.now()),td(t,p)&&(h=h.insert(f,p))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return ee.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:kr(s.createTime)}}(t)),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(s){return{name:s.name,query:fN(s.bundledQuery),readTime:kr(s.readTime)}}(t)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(){this.overlays=new ht(ve.comparator),this.Ir=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ks();return ee.forEach(t,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,a)=>{this.ht(e,t,a)}),ee.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(r)),ee.resolve()}getOverlaysForCollection(e,t,r){const s=Ks(),a=t.length+1,u=new ve(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&s.set(f.getKey(),f)}return ee.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new ht((p,y)=>p-y);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let y=a.get(p.largestBatchId);y===null&&(y=Ks(),a=a.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const h=Ks(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,y)=>h.set(p,y)),!(h.size()>=s)););return ee.resolve(h)}ht(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new $R(t,r));let a=this.Ir.get(t);a===void 0&&(a=je(),this.Ir.set(t,a)),this.Ir.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(){this.Tr=new zt(jt.Er),this.dr=new zt(jt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const r=new jt(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new jt(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){const t=new ve(new it([])),r=new jt(t,e),s=new jt(t,e+1),a=[];return this.dr.forEachInRange([r,s],u=>{this.Vr(u),a.push(u.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new ve(new it([])),r=new jt(t,e),s=new jt(t,e+1);let a=je();return this.dr.forEachInRange([r,s],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new jt(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class jt{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return ve.comparator(e.key,t.key)||qe(e.wr,t.wr)}static Ar(e,t){return qe(e.wr,t.wr)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new zt(jt.Er)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new zR(a,t,r,s);this.mutationQueue.push(u);for(const h of s)this.br=this.br.add(new jt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ee.resolve(u)}lookupMutationBatch(e,t){return ee.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.vr(r),a=s<0?0:s;return ee.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new jt(t,0),s=new jt(t,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([r,s],u=>{const h=this.Dr(u.wr);a.push(h)}),ee.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new zt(qe);return t.forEach(s=>{const a=new jt(s,0),u=new jt(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,u],h=>{r=r.add(h.wr)})}),ee.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;ve.isDocumentKey(a)||(a=a.child(""));const u=new jt(new ve(a),0);let h=new zt(qe);return this.br.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(h=h.add(f.wr)),!0)},u),ee.resolve(this.Cr(h))}Cr(e){const t=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Qe(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ee.forEach(t.mutations,s=>{const a=new jt(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){const r=new jt(t,0),s=this.br.firstAfterOrEqual(r);return ee.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e){this.Mr=e,this.docs=function(){return new ht(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,u=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ee.resolve(r?r.document.mutableCopy():Xt.newInvalidDocument(t))}getEntries(e,t){let r=li();return t.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Xt.newInvalidDocument(s))}),ee.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=li();const u=t.path,h=new ve(u.child("")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:p,value:{document:y}}=f.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||oR(sR(y),r)<=0||(s.has(y.key)||td(t,y))&&(a=a.insert(y.key,y.mutableCopy()))}return ee.resolve(a)}getAllFromCollectionGroup(e,t,r,s){Ie()}Or(e,t){return ee.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new IN(this)}getSize(e){return ee.resolve(this.size)}}class IN extends gN{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),ee.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e){this.persistence=e,this.Nr=new Ma(t=>Qm(t),Ym),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ng,this.targetCount=0,this.kr=Sa.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,s)=>t(s)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),ee.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new Sa(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.Kn(t),ee.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.Nr.forEach((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.Nr.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)}),ee.waitFor(a).next(()=>s)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const r=this.Nr.get(t)||null;return ee.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),ee.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach(u=>{a.push(s.markPotentiallyOrphaned(e,u))}),ee.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Br.yr(t);return ee.resolve(r)}containsKey(e,t){return ee.resolve(this.Br.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Wm(0),this.Kr=!1,this.Kr=!0,this.$r=new xN,this.referenceDelegate=e(this),this.Ur=new SN(this),this.indexManager=new pN,this.remoteDocumentCache=function(s){return new TN(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new dN(t),this.Gr=new wN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _N,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new EN(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){me("MemoryPersistence","Starting transaction:",e);const s=new AN(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(a=>this.referenceDelegate.jr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Hr(e,t){return ee.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}}class AN extends lR{constructor(e){super(),this.currentSequenceNumber=e}}class rg{constructor(e){this.persistence=e,this.Jr=new ng,this.Yr=null}static Zr(e){return new rg(e)}get Xr(){if(this.Yr)return this.Yr;throw Ie()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),ee.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),ee.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(a=>this.Xr.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.Xr,r=>{const s=ve.fromPath(r);return this.ei(e,s).next(a=>{a||t.removeEntry(s,Se.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return ee.or([()=>ee.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=s}static Wi(e,t){let r=je(),s=je();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new ig(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return pA()?8:uR(Jt())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.Yi(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.Zi(e,t,s,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new kN;return this.Xi(e,t,u).next(h=>{if(a.result=h,this.zi)return this.es(e,t,u,h.size)})}).next(()=>a.result)}es(e,t,r,s){return r.documentReadCount<this.ji?(Vl()<=Le.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",oa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ee.resolve()):(Vl()<=Le.DEBUG&&me("QueryEngine","Query:",oa(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Vl()<=Le.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",oa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ar(t))):ee.resolve())}Yi(e,t){if(pw(t))return ee.resolve(null);let r=Ar(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=Rh(t,null,"F"),r=Ar(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=je(...a);return this.Ji.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.ts(t,h);return this.ns(t,p,u,f.readTime)?this.Yi(e,Rh(t,null,"F")):this.rs(e,p,t,f)}))})))}Zi(e,t,r,s){return pw(t)||s.isEqual(Se.min())?ee.resolve(null):this.Ji.getDocuments(e,r).next(a=>{const u=this.ts(t,a);return this.ns(t,u,r,s)?ee.resolve(null):(Vl()<=Le.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),oa(t)),this.rs(e,u,t,iR(s,-1)).next(h=>h))})}ts(e,t){let r=new zt(jE(e));return t.forEach((s,a)=>{td(e,a)&&(r=r.add(a))}),r}ns(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Xi(e,t,r){return Vl()<=Le.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",oa(t)),this.Ji.getDocumentsMatchingQuery(e,t,ns.min(),r)}rs(e,t,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,t,r,s){this.persistence=e,this.ss=t,this.serializer=s,this.os=new ht(qe),this._s=new Ma(a=>Qm(a),Ym),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vN(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function RN(n,e,t,r){return new bN(n,e,t,r)}async function nT(n,e){const t=Pe(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],h=[];let f=je();for(const p of s){u.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}for(const p of a){h.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}return t.localDocuments.getDocuments(r,f).next(p=>({hs:p,removedBatchIds:u,addedBatchIds:h}))})})}function NN(n,e){const t=Pe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=t.cs.newChangeBuffer({trackRemovals:!0});return function(h,f,p,y){const _=p.batch,E=_.keys();let I=ee.resolve();return E.forEach(D=>{I=I.next(()=>y.getEntry(f,D)).next(j=>{const P=p.docVersions.get(D);Qe(P!==null),j.version.compareTo(P)<0&&(_.applyToRemoteDocument(j,p),j.isValidDocument()&&(j.setReadTime(p.commitVersion),y.addEntry(j)))})}),I.next(()=>h.mutationQueue.removeMutationBatch(f,_))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let f=je();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(f=f.add(h.batch.mutations[p].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function rT(n){const e=Pe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function DN(n,e){const t=Pe(n),r=e.snapshotVersion;let s=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.cs.newChangeBuffer({trackRemovals:!0});s=t.os;const h=[];e.targetChanges.forEach((y,_)=>{const E=s.get(_);if(!E)return;h.push(t.Ur.removeMatchingKeys(a,y.removedDocuments,_).next(()=>t.Ur.addMatchingKeys(a,y.addedDocuments,_)));let I=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?I=I.withResumeToken($t.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):y.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(y.resumeToken,r)),s=s.insert(_,I),function(j,P,H){return j.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(E,I,y)&&h.push(t.Ur.updateTargetData(a,I))});let f=li(),p=je();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,y))}),h.push(jN(a,u,e.documentUpdates).next(y=>{f=y.Ps,p=y.Is})),!r.isEqual(Se.min())){const y=t.Ur.getLastRemoteSnapshotVersion(a).next(_=>t.Ur.setTargetsMetadata(a,a.currentSequenceNumber,r));h.push(y)}return ee.waitFor(h).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,p)).next(()=>f)}).then(a=>(t.os=s,a))}function jN(n,e,t){let r=je(),s=je();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=li();return t.forEach((h,f)=>{const p=a.get(h);f.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(h)),f.isNoDocument()&&f.version.isEqual(Se.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):me("LocalStore","Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",f.version)}),{Ps:u,Is:s}})}function VN(n,e){const t=Pe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function LN(n,e){const t=Pe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Ur.getTargetData(r,e).next(a=>a?(s=a,ee.resolve(s)):t.Ur.allocateTargetId(r).next(u=>(s=new Gi(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}async function sm(n,e,t){const r=Pe(n),s=r.os.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!Su(u))throw u;me("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function Sw(n,e,t){const r=Pe(n);let s=Se.min(),a=je();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,p,y){const _=Pe(f),E=_._s.get(y);return E!==void 0?ee.resolve(_.os.get(E)):_.Ur.getTargetData(p,y)}(r,u,Ar(e)).next(h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(u,h.targetId).next(f=>{a=f})}).next(()=>r.ss.getDocumentsMatchingQuery(u,e,t?s:Se.min(),t?a:je())).next(h=>(MN(r,AR(e),h),{documents:h,Ts:a})))}function MN(n,e,t){let r=n.us.get(e)||Se.min();t.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.us.set(e,r)}class Pw{constructor(){this.activeTargetIds=DR()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ON{constructor(){this.so=new Pw,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Pw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ih=null;function pp(){return ih===null?ih=function(){return 268435456+Math.round(2147483648*Math.random())}():ih++,"0x"+ih.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt="WebChannelConnection";class zN extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${s}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${a}`}get Fo(){return!1}Mo(t,r,s,a,u){const h=pp(),f=this.xo(t,r.toUriEncodedString());me("RestConnection",`Sending RPC '${t}' ${h}:`,f,s);const p={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(p,a,u),this.No(t,f,p,s).then(y=>(me("RestConnection",`Received RPC '${t}' ${h}: `,y),y),y=>{throw xa("RestConnection",`RPC '${t}' ${h} failed with error: `,y,"url: ",f,"request:",s),y})}Lo(t,r,s,a,u,h){return this.Mo(t,r,s,a,u)}Oo(t,r,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Va}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,u)=>t[u]=a),s&&s.headers.forEach((a,u)=>t[u]=a)}xo(t,r){const s=UN[t];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,s){const a=pp();return new Promise((u,h)=>{const f=new gE;f.setWithCredentials(!0),f.listenOnce(yE.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case ph.NO_ERROR:const y=f.getResponseJson();me(Kt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(y)),u(y);break;case ph.TIMEOUT:me(Kt,`RPC '${e}' ${a} timed out`),h(new le(X.DEADLINE_EXCEEDED,"Request time out"));break;case ph.HTTP_ERROR:const _=f.getStatus();if(me(Kt,`RPC '${e}' ${a} failed with status:`,_,"response text:",f.getResponseText()),_>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);const I=E?.error;if(I&&I.status&&I.message){const D=function(P){const H=P.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(H)>=0?H:X.UNKNOWN}(I.status);h(new le(D,I.message))}else h(new le(X.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new le(X.UNAVAILABLE,"Connection failed."));break;default:Ie()}}finally{me(Kt,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(s);me(Kt,`RPC '${e}' ${a} sending request:`,s),f.send(t,"POST",p,r,15)})}Bo(e,t,r){const s=pp(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=_E(),h=wE(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Oo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const y=a.join("");me(Kt,`Creating RPC '${e}' stream ${s}: ${y}`,f);const _=u.createWebChannel(y,f);let E=!1,I=!1;const D=new BN({Io:P=>{I?me(Kt,`Not sending because RPC '${e}' stream ${s} is closed:`,P):(E||(me(Kt,`Opening RPC '${e}' stream ${s} transport.`),_.open(),E=!0),me(Kt,`RPC '${e}' stream ${s} sending:`,P),_.send(P))},To:()=>_.close()}),j=(P,H,B)=>{P.listen(H,R=>{try{B(R)}catch(K){setTimeout(()=>{throw K},0)}})};return j(_,Ul.EventType.OPEN,()=>{I||(me(Kt,`RPC '${e}' stream ${s} transport opened.`),D.yo())}),j(_,Ul.EventType.CLOSE,()=>{I||(I=!0,me(Kt,`RPC '${e}' stream ${s} transport closed`),D.So())}),j(_,Ul.EventType.ERROR,P=>{I||(I=!0,xa(Kt,`RPC '${e}' stream ${s} transport errored:`,P),D.So(new le(X.UNAVAILABLE,"The operation could not be completed")))}),j(_,Ul.EventType.MESSAGE,P=>{var H;if(!I){const B=P.data[0];Qe(!!B);const R=B,K=R.error||((H=R[0])===null||H===void 0?void 0:H.error);if(K){me(Kt,`RPC '${e}' stream ${s} received error:`,K);const re=K.status;let ne=function(C){const V=_t[C];if(V!==void 0)return HE(V)}(re),N=K.message;ne===void 0&&(ne=X.INTERNAL,N="Unknown error status: "+re+" with message "+K.message),I=!0,D.So(new le(ne,N)),_.close()}else me(Kt,`RPC '${e}' stream ${s} received:`,B),D.bo(B)}}),j(h,vE.STAT_EVENT,P=>{P.stat===Qp.PROXY?me(Kt,`RPC '${e}' stream ${s} detected buffering proxy`):P.stat===Qp.NOPROXY&&me(Kt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{D.wo()},0),D}}function mp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(n){return new JR(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e,t,r=1e3,s=1.5,a=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=s,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,t-r);s>0&&me("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e,t,r,s,a,u,h,f){this.ui=e,this.Ho=r,this.Jo=s,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new iT(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===X.RESOURCE_EXHAUSTED?(ai(t.toString()),ai("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===t&&this.P_(r,s)},r=>{e(()=>{const s=new le(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,t){const r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return me("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $N extends sT{constructor(e,t,r,s,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=tN(this.serializer,e),r=function(a){if(!("targetChange"in a))return Se.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Se.min():u.readTime?kr(u.readTime):Se.min()}(e);return this.listener.d_(t,r)}A_(e){const t={};t.database=im(this.serializer),t.addTarget=function(a,u){let h;const f=u.target;if(h=Zp(f)?{documents:iN(a,f)}:{query:sN(a,f)._t},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=QE(a,u.resumeToken);const p=tm(a,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(Se.min())>0){h.readTime=Dh(a,u.snapshotVersion.toTimestamp());const p=tm(a,u.expectedCount);p!==null&&(h.expectedCount=p)}return h}(this.serializer,e);const r=aN(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){const t={};t.database=im(this.serializer),t.removeTarget=e,this.a_(t)}}class qN extends sT{constructor(e,t,r,s,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=rN(e.writeResults,e.commitTime),r=kr(e.commitTime);return this.listener.g_(r,t)}p_(){const e={};e.database=im(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>nN(this.serializer,r))};this.a_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new le(X.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Mo(e,nm(t,r),s,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new le(X.UNKNOWN,a.toString())})}Lo(e,t,r,s,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Lo(e,nm(t,r),s,u,h,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(X.UNKNOWN,u.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class HN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ai(t),this.D_=!1):me("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(u=>{r.enqueueAndForget(async()=>{ho(this)&&(me("RemoteStore","Restarting streams for network reachability change."),await async function(f){const p=Pe(f);p.L_.add(4),await ku(p),p.q_.set("Unknown"),p.L_.delete(4),await ad(p)}(this))})}),this.q_=new HN(r,s)}}async function ad(n){if(ho(n))for(const e of n.B_)await e(!0)}async function ku(n){for(const e of n.B_)await e(!1)}function oT(n,e){const t=Pe(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),lg(t)?ag(t):Oa(t).r_()&&og(t,e))}function sg(n,e){const t=Pe(n),r=Oa(t);t.N_.delete(e),r.r_()&&aT(t,e),t.N_.size===0&&(r.r_()?r.o_():ho(t)&&t.q_.set("Unknown"))}function og(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Oa(n).A_(e)}function aT(n,e){n.Q_.xe(e),Oa(n).R_(e)}function ag(n){n.Q_=new KR({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Oa(n).start(),n.q_.v_()}function lg(n){return ho(n)&&!Oa(n).n_()&&n.N_.size>0}function ho(n){return Pe(n).L_.size===0}function lT(n){n.Q_=void 0}async function KN(n){n.q_.set("Online")}async function QN(n){n.N_.forEach((e,t)=>{og(n,e)})}async function YN(n,e){lT(n),lg(n)?(n.q_.M_(e),ag(n)):n.q_.set("Unknown")}async function XN(n,e,t){if(n.q_.set("Online"),e instanceof KE&&e.state===2&&e.cause)try{await async function(s,a){const u=a.cause;for(const h of a.targetIds)s.N_.has(h)&&(await s.remoteSyncer.rejectListen(h,u),s.N_.delete(h),s.Q_.removeTarget(h))}(n,e)}catch(r){me("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await jh(n,r)}else if(e instanceof yh?n.Q_.Ke(e):e instanceof GE?n.Q_.He(e):n.Q_.We(e),!t.isEqual(Se.min()))try{const r=await rT(n.localStore);t.compareTo(r)>=0&&await function(a,u){const h=a.Q_.rt(u);return h.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const y=a.N_.get(p);y&&a.N_.set(p,y.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,p)=>{const y=a.N_.get(f);if(!y)return;a.N_.set(f,y.withResumeToken($t.EMPTY_BYTE_STRING,y.snapshotVersion)),aT(a,f);const _=new Gi(y.target,f,p,y.sequenceNumber);og(a,_)}),a.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(r){me("RemoteStore","Failed to raise snapshot:",r),await jh(n,r)}}async function jh(n,e,t){if(!Su(e))throw e;n.L_.add(1),await ku(n),n.q_.set("Offline"),t||(t=()=>rT(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{me("RemoteStore","Retrying IndexedDB access"),await t(),n.L_.delete(1),await ad(n)})}function uT(n,e){return e().catch(t=>jh(n,t,e))}async function ld(n){const e=Pe(n),t=is(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;JN(e);)try{const s=await VN(e.localStore,r);if(s===null){e.O_.length===0&&t.o_();break}r=s.batchId,ZN(e,s)}catch(s){await jh(e,s)}cT(e)&&hT(e)}function JN(n){return ho(n)&&n.O_.length<10}function ZN(n,e){n.O_.push(e);const t=is(n);t.r_()&&t.V_&&t.m_(e.mutations)}function cT(n){return ho(n)&&!is(n).n_()&&n.O_.length>0}function hT(n){is(n).start()}async function e2(n){is(n).p_()}async function t2(n){const e=is(n);for(const t of n.O_)e.m_(t.mutations)}async function n2(n,e,t){const r=n.O_.shift(),s=Zm.from(r,e,t);await uT(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await ld(n)}async function r2(n,e){e&&is(n).V_&&await async function(r,s){if(function(u){return WR(u)&&u!==X.ABORTED}(s.code)){const a=r.O_.shift();is(r).s_(),await uT(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await ld(r)}}(n,e),cT(n)&&hT(n)}async function kw(n,e){const t=Pe(n);t.asyncQueue.verifyOperationInProgress(),me("RemoteStore","RemoteStore received new credentials");const r=ho(t);t.L_.add(3),await ku(t),r&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await ad(t)}async function i2(n,e){const t=Pe(n);e?(t.L_.delete(2),await ad(t)):e||(t.L_.add(2),await ku(t),t.q_.set("Unknown"))}function Oa(n){return n.K_||(n.K_=function(t,r,s){const a=Pe(t);return a.w_(),new $N(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Eo:KN.bind(null,n),Ro:QN.bind(null,n),mo:YN.bind(null,n),d_:XN.bind(null,n)}),n.B_.push(async e=>{e?(n.K_.s_(),lg(n)?ag(n):n.q_.set("Unknown")):(await n.K_.stop(),lT(n))})),n.K_}function is(n){return n.U_||(n.U_=function(t,r,s){const a=Pe(t);return a.w_(),new qN(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:e2.bind(null,n),mo:r2.bind(null,n),f_:t2.bind(null,n),g_:n2.bind(null,n)}),n.B_.push(async e=>{e?(n.U_.s_(),await ld(n)):(await n.U_.stop(),n.O_.length>0&&(me("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))})),n.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const u=Date.now()+r,h=new ug(e,t,u,s,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cg(n,e){if(ai("AsyncQueue",`${e}: ${n}`),Su(n))return new le(X.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ve.comparator(t.key,r.key):(t,r)=>ve.comparator(t.key,r.key),this.keyedMap=Bl(),this.sortedSet=new ht(this.comparator)}static emptySet(e){return new wa(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof wa)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new wa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(){this.W_=new ht(ve.comparator)}track(e){const t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Ie():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Pa{constructor(e,t,r,s,a,u,h,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,a){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new Pa(e,t,wa.emptySet(t),u,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ed(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class o2{constructor(){this.queries=bw(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){const s=Pe(t),a=s.queries;s.queries=bw(),a.forEach((u,h)=>{for(const f of h.j_)f.onError(r)})})(this,new le(X.ABORTED,"Firestore shutting down"))}}function bw(){return new Ma(n=>DE(n),ed)}async function dT(n,e){const t=Pe(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.H_()&&e.J_()&&(r=2):(a=new s2,r=e.J_()?0:1);try{switch(r){case 0:a.z_=await t.onListen(s,!0);break;case 1:a.z_=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const h=cg(u,`Initialization of query '${oa(e.query)}' failed`);return void e.onError(h)}t.queries.set(s,a),a.j_.push(e),e.Z_(t.onlineState),a.z_&&e.X_(a.z_)&&hg(t)}async function fT(n,e){const t=Pe(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const u=a.j_.indexOf(e);u>=0&&(a.j_.splice(u,1),a.j_.length===0?s=e.J_()?0:1:!a.H_()&&e.J_()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function a2(n,e){const t=Pe(n);let r=!1;for(const s of e){const a=s.query,u=t.queries.get(a);if(u){for(const h of u.j_)h.X_(s)&&(r=!0);u.z_=s}}r&&hg(t)}function l2(n,e,t){const r=Pe(n),s=r.queries.get(e);if(s)for(const a of s.j_)a.onError(t);r.queries.delete(e)}function hg(n){n.Y_.forEach(e=>{e.next()})}var om,Rw;(Rw=om||(om={})).ea="default",Rw.Cache="cache";class pT{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Pa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Pa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==om.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e){this.key=e}}class gT{constructor(e){this.key=e}}class u2{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=je(),this.mutatedKeys=je(),this.Aa=jE(e),this.Ra=new wa(this.Aa)}get Va(){return this.Ta}ma(e,t){const r=t?t.fa:new Cw,s=t?t.Ra:this.Ra;let a=t?t.mutatedKeys:this.mutatedKeys,u=s,h=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((y,_)=>{const E=s.get(y),I=td(this.query,_)?_:null,D=!!E&&this.mutatedKeys.has(E.key),j=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let P=!1;E&&I?E.data.isEqual(I.data)?D!==j&&(r.track({type:3,doc:I}),P=!0):this.ga(E,I)||(r.track({type:2,doc:I}),P=!0,(f&&this.Aa(I,f)>0||p&&this.Aa(I,p)<0)&&(h=!0)):!E&&I?(r.track({type:0,doc:I}),P=!0):E&&!I&&(r.track({type:1,doc:E}),P=!0,(f||p)&&(h=!0)),P&&(I?(u=u.add(I),a=j?a.add(y):a.delete(y)):(u=u.delete(y),a=a.delete(y)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),a=a.delete(y.key),r.track({type:1,doc:y})}return{Ra:u,fa:r,ns:h,mutatedKeys:a}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const u=e.fa.G_();u.sort((y,_)=>function(I,D){const j=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie()}};return j(I)-j(D)}(y.type,_.type)||this.Aa(y.doc,_.doc)),this.pa(r),s=s!=null&&s;const h=t&&!s?this.ya():[],f=this.da.size===0&&this.current&&!s?1:0,p=f!==this.Ea;return this.Ea=f,u.length!==0||p?{snapshot:new Pa(this.query,e.Ra,a,u,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:h}:{wa:h}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Cw,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=je(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const t=[];return e.forEach(r=>{this.da.has(r)||t.push(new gT(r))}),this.da.forEach(r=>{e.has(r)||t.push(new mT(r))}),t}ba(e){this.Ta=e.Ts,this.da=je();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Pa.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class c2{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class h2{constructor(e){this.key=e,this.va=!1}}class d2{constructor(e,t,r,s,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Ca={},this.Fa=new Ma(h=>DE(h),ed),this.Ma=new Map,this.xa=new Set,this.Oa=new ht(ve.comparator),this.Na=new Map,this.La=new ng,this.Ba={},this.ka=new Map,this.qa=Sa.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function f2(n,e,t=!0){const r=ET(n);let s;const a=r.Fa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Da()):s=await yT(r,e,t,!0),s}async function p2(n,e){const t=ET(n);await yT(t,e,!0,!1)}async function yT(n,e,t,r){const s=await LN(n.localStore,Ar(e)),a=s.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let h;return r&&(h=await m2(n,e,a,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&oT(n.remoteStore,s),h}async function m2(n,e,t,r,s){n.Ka=(_,E,I)=>async function(j,P,H,B){let R=P.view.ma(H);R.ns&&(R=await Sw(j.localStore,P.query,!1).then(({documents:N})=>P.view.ma(N,R)));const K=B&&B.targetChanges.get(P.targetId),re=B&&B.targetMismatches.get(P.targetId)!=null,ne=P.view.applyChanges(R,j.isPrimaryClient,K,re);return Dw(j,P.targetId,ne.wa),ne.snapshot}(n,_,E,I);const a=await Sw(n.localStore,e,!0),u=new u2(e,a.Ts),h=u.ma(a.documents),f=Au.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=u.applyChanges(h,n.isPrimaryClient,f);Dw(n,t,p.wa);const y=new c2(e,t,u);return n.Fa.set(e,y),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),p.snapshot}async function g2(n,e,t){const r=Pe(n),s=r.Fa.get(e),a=r.Ma.get(s.targetId);if(a.length>1)return r.Ma.set(s.targetId,a.filter(u=>!ed(u,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await sm(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&sg(r.remoteStore,s.targetId),am(r,s.targetId)}).catch(Iu)):(am(r,s.targetId),await sm(r.localStore,s.targetId,!0))}async function y2(n,e){const t=Pe(n),r=t.Fa.get(e),s=t.Ma.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),sg(t.remoteStore,r.targetId))}async function v2(n,e,t){const r=S2(n);try{const s=await function(u,h){const f=Pe(u),p=Ct.now(),y=h.reduce((I,D)=>I.add(D.key),je());let _,E;return f.persistence.runTransaction("Locally write mutations","readwrite",I=>{let D=li(),j=je();return f.cs.getEntries(I,y).next(P=>{D=P,D.forEach((H,B)=>{B.isValidDocument()||(j=j.add(H))})}).next(()=>f.localDocuments.getOverlayedDocuments(I,D)).next(P=>{_=P;const H=[];for(const B of h){const R=UR(B,_.get(B.key).overlayedDocument);R!=null&&H.push(new us(B.key,R,SE(R.value.mapValue),sn.exists(!0)))}return f.mutationQueue.addMutationBatch(I,p,H,h)}).next(P=>{E=P;const H=P.applyToLocalDocumentSet(_,j);return f.documentOverlayCache.saveOverlays(I,P.batchId,H)})}).then(()=>({batchId:E.batchId,changes:LE(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,h,f){let p=u.Ba[u.currentUser.toKey()];p||(p=new ht(qe)),p=p.insert(h,f),u.Ba[u.currentUser.toKey()]=p}(r,s.batchId,t),await Cu(r,s.changes),await ld(r.remoteStore)}catch(s){const a=cg(s,"Failed to persist write");t.reject(a)}}async function vT(n,e){const t=Pe(n);try{const r=await DN(t.localStore,e);e.targetChanges.forEach((s,a)=>{const u=t.Na.get(a);u&&(Qe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?u.va=!0:s.modifiedDocuments.size>0?Qe(u.va):s.removedDocuments.size>0&&(Qe(u.va),u.va=!1))}),await Cu(t,r,e)}catch(r){await Iu(r)}}function Nw(n,e,t){const r=Pe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Fa.forEach((a,u)=>{const h=u.view.Z_(e);h.snapshot&&s.push(h.snapshot)}),function(u,h){const f=Pe(u);f.onlineState=h;let p=!1;f.queries.forEach((y,_)=>{for(const E of _.j_)E.Z_(h)&&(p=!0)}),p&&hg(f)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function w2(n,e,t){const r=Pe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Na.get(e),a=s&&s.key;if(a){let u=new ht(ve.comparator);u=u.insert(a,Xt.newNoDocument(a,Se.min()));const h=je().add(a),f=new sd(Se.min(),new Map,new ht(qe),u,h);await vT(r,f),r.Oa=r.Oa.remove(a),r.Na.delete(e),dg(r)}else await sm(r.localStore,e,!1).then(()=>am(r,e,t)).catch(Iu)}async function _2(n,e){const t=Pe(n),r=e.batch.batchId;try{const s=await NN(t.localStore,e);_T(t,r,null),wT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Cu(t,s)}catch(s){await Iu(s)}}async function x2(n,e,t){const r=Pe(n);try{const s=await function(u,h){const f=Pe(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return f.mutationQueue.lookupMutationBatch(p,h).next(_=>(Qe(_!==null),y=_.keys(),f.mutationQueue.removeMutationBatch(p,_))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,y,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>f.localDocuments.getDocuments(p,y))})}(r.localStore,e);_T(r,e,t),wT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Cu(r,s)}catch(s){await Iu(s)}}function wT(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function _T(n,e,t){const r=Pe(n);let s=r.Ba[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function am(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||xT(n,r)})}function xT(n,e){n.xa.delete(e.path.canonicalString());const t=n.Oa.get(e);t!==null&&(sg(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),dg(n))}function Dw(n,e,t){for(const r of t)r instanceof mT?(n.La.addReference(r.key,e),E2(n,r)):r instanceof gT?(me("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||xT(n,r.key)):Ie()}function E2(n,e){const t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(me("SyncEngine","New document in limbo: "+t),n.xa.add(r),dg(n))}function dg(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const e=n.xa.values().next().value;n.xa.delete(e);const t=new ve(it.fromString(e)),r=n.qa.next();n.Na.set(r,new h2(t)),n.Oa=n.Oa.insert(t,r),oT(n.remoteStore,new Gi(Ar(Xm(t.path)),r,"TargetPurposeLimboResolution",Wm.oe))}}async function Cu(n,e,t){const r=Pe(n),s=[],a=[],u=[];r.Fa.isEmpty()||(r.Fa.forEach((h,f)=>{u.push(r.Ka(f,e,t).then(p=>{var y;if((p||t)&&r.isPrimaryClient){const _=p?!p.fromCache:(y=t?.targetChanges.get(f.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(p){s.push(p);const _=ig.Wi(f.targetId,p);a.push(_)}}))}),await Promise.all(u),r.Ca.d_(s),await async function(f,p){const y=Pe(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>ee.forEach(p,E=>ee.forEach(E.$i,I=>y.persistence.referenceDelegate.addReference(_,E.targetId,I)).next(()=>ee.forEach(E.Ui,I=>y.persistence.referenceDelegate.removeReference(_,E.targetId,I)))))}catch(_){if(!Su(_))throw _;me("LocalStore","Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const I=y.os.get(E),D=I.snapshotVersion,j=I.withLastLimboFreeSnapshotVersion(D);y.os=y.os.insert(E,j)}}}(r.localStore,a))}async function T2(n,e){const t=Pe(n);if(!t.currentUser.isEqual(e)){me("SyncEngine","User change. New user:",e.toKey());const r=await nT(t.localStore,e);t.currentUser=e,function(a,u){a.ka.forEach(h=>{h.forEach(f=>{f.reject(new le(X.CANCELLED,u))})}),a.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Cu(t,r.hs)}}function I2(n,e){const t=Pe(n),r=t.Na.get(e);if(r&&r.va)return je().add(r.key);{let s=je();const a=t.Ma.get(e);if(!a)return s;for(const u of a){const h=t.Fa.get(u);s=s.unionWith(h.view.Va)}return s}}function ET(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=vT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=I2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=w2.bind(null,e),e.Ca.d_=a2.bind(null,e.eventManager),e.Ca.$a=l2.bind(null,e.eventManager),e}function S2(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=x2.bind(null,e),e}class Vh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=od(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return RN(this.persistence,new CN,e.initialUser,this.serializer)}Ga(e){return new PN(rg.Zr,this.serializer)}Wa(e){return new ON}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vh.provider={build:()=>new Vh};class lm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Nw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=T2.bind(null,this.syncEngine),await i2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new o2}()}createDatastore(e){const t=od(e.databaseInfo.databaseId),r=function(a){return new zN(a)}(e.databaseInfo);return function(a,u,h,f){return new WN(a,u,h,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,a,u,h){return new GN(r,s,a,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>Nw(this.syncEngine,t,0),function(){return Aw.D()?new Aw:new FN}())}createSyncEngine(e,t){return function(s,a,u,h,f,p,y){const _=new d2(s,a,u,h,f,p);return y&&(_.Qa=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const a=Pe(s);me("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await ku(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}lm.provider={build:()=>new lm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ai("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Yt.UNAUTHENTICATED,this.clientId=EE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{me("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(me("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=cg(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function gp(n,e){n.asyncQueue.verifyOperationInProgress(),me("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await nT(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function jw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await A2(n);me("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>kw(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>kw(e.remoteStore,s)),n._onlineComponents=e}async function A2(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){me("FirestoreClient","Using user provided OfflineComponentProvider");try{await gp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===X.FAILED_PRECONDITION||s.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;xa("Error using user provided cache. Falling back to memory cache: "+t),await gp(n,new Vh)}}else me("FirestoreClient","Using default OfflineComponentProvider"),await gp(n,new Vh);return n._offlineComponents}async function IT(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(me("FirestoreClient","Using user provided OnlineComponentProvider"),await jw(n,n._uninitializedComponentsProvider._online)):(me("FirestoreClient","Using default OnlineComponentProvider"),await jw(n,new lm))),n._onlineComponents}function k2(n){return IT(n).then(e=>e.syncEngine)}async function ST(n){const e=await IT(n),t=e.eventManager;return t.onListen=f2.bind(null,e.syncEngine),t.onUnlisten=g2.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=p2.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=y2.bind(null,e.syncEngine),t}function C2(n,e,t={}){const r=new ni;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,h,f,p){const y=new TT({next:E=>{y.Za(),u.enqueueAndForget(()=>fT(a,_));const I=E.docs.has(h);!I&&E.fromCache?p.reject(new le(X.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&E.fromCache&&f&&f.source==="server"?p.reject(new le(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new pT(Xm(h.path),y,{includeMetadataChanges:!0,_a:!0});return dT(a,_)}(await ST(n),n.asyncQueue,e,t,r)),r.promise}function b2(n,e,t={}){const r=new ni;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,h,f,p){const y=new TT({next:E=>{y.Za(),u.enqueueAndForget(()=>fT(a,_)),E.fromCache&&f.source==="server"?p.reject(new le(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new pT(h,y,{includeMetadataChanges:!0,_a:!0});return dT(a,_)}(await ST(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(n,e,t){if(!t)throw new le(X.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function R2(n,e,t,r){if(e===!0&&r===!0)throw new le(X.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Lw(n){if(!ve.isDocumentKey(n))throw new le(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Mw(n){if(ve.isDocumentKey(n))throw new le(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ud(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ie()}function $n(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new le(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ud(n);throw new le(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function N2(n,e){if(e<=0)throw new le(X.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new le(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new le(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}R2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new le(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new le(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new le(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cd{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ow({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ow(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Qb;switch(r.type){case"firstParty":return new Zb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Vw.get(t);r&&(me("ComponentProvider","Removing Datastore"),Vw.delete(t),r.terminate())}(this),Promise.resolve()}}function D2(n,e,t,r={}){var s;const a=(n=$n(n,cd))._getSettings(),u=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==u&&xa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:u,ssl:!1})),r.mockUserToken){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=Yt.MOCK_USER;else{h=lA(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new le(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Yt(p)}n._authCredentials=new Yb(new xE(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new cs(this.firestore,e,this._query)}}class on{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new on(this.firestore,e,this._key)}}class Xi extends cs{constructor(e,t,r){super(e,t,Xm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new on(this.firestore,null,new ve(e))}withConverter(e){return new Xi(this.firestore,e,this._path)}}function ar(n,e,...t){if(n=et(n),AT("collection","path",e),n instanceof cd){const r=it.fromString(e,...t);return Mw(r),new Xi(n,null,r)}{if(!(n instanceof on||n instanceof Xi))throw new le(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(it.fromString(e,...t));return Mw(r),new Xi(n.firestore,null,r)}}function kt(n,e,...t){if(n=et(n),arguments.length===1&&(e=EE.newId()),AT("doc","path",e),n instanceof cd){const r=it.fromString(e,...t);return Lw(r),new on(n,null,new ve(r))}{if(!(n instanceof on||n instanceof Xi))throw new le(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(it.fromString(e,...t));return Lw(r),new on(n.firestore,n instanceof Xi?n.converter:null,new ve(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new iT(this,"async_queue_retry"),this.Vu=()=>{const r=mp();r&&me("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const t=mp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=mp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new ni;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Su(e))throw e;me("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h}(r);throw ai("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const s=ug.createAndSchedule(this,e,t,r,a=>this.yu(a));return this.Tu.push(s),s}fu(){this.Eu&&Ie()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class hs extends cd{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new Fw,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Fw(e),this._firestoreClient=void 0,await e}}}function j2(n,e){const t=typeof n=="object"?n:jm(),r=typeof n=="string"?n:"(default)",s=lo(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=oA("firestore");a&&D2(s,...a)}return s}function hd(n){if(n._terminated)throw new le(X.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||V2(n),n._firestoreClient}function V2(n){var e,t,r;const s=n._freezeSettings(),a=function(h,f,p,y){return new dR(h,f,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,PT(y.experimentalLongPollingOptions),y.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new P2(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(h){const f=h?._online.build();return{_offline:h?._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Aa($t.fromBase64String(e))}catch(t){throw new le(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Aa($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new le(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new le(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new le(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=/^__.*__$/;class M2{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new us(e,this.data,this.fieldMask,t,this.fieldTransforms):new Pu(e,this.data,t,this.fieldTransforms)}}class kT{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new us(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function CT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie()}}class mg{constructor(e,t,r,s,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new mg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Lh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(CT(this.Cu)&&L2.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class O2{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||od(e)}Qu(e,t,r,s=!1){return new mg({Cu:e,methodName:t,qu:r,path:Bt.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ru(n){const e=n._freezeSettings(),t=od(n._databaseId);return new O2(n._databaseId,!!e.ignoreUndefinedProperties,t)}function gg(n,e,t,r,s,a={}){const u=n.Qu(a.merge||a.mergeFields?2:0,e,t,s);vg("Data must be an object, but it was:",u,r);const h=NT(r,u);let f,p;if(a.merge)f=new Sn(u.fieldMask),p=u.fieldTransforms;else if(a.mergeFields){const y=[];for(const _ of a.mergeFields){const E=um(e,_,t);if(!u.contains(E))throw new le(X.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);jT(y,E)||y.push(E)}f=new Sn(y),p=u.fieldTransforms.filter(_=>f.covers(_.field))}else f=null,p=u.fieldTransforms;return new M2(new mn(h),f,p)}class fd extends dd{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fd}}class yg extends dd{constructor(e,t){super(e),this.$u=t}_toFieldTransform(e){const t=new pu(e.serializer,FE(e.serializer,this.$u));return new LR(e.path,t)}isEqual(e){return e instanceof yg&&this.$u===e.$u}}function bT(n,e,t,r){const s=n.Qu(1,e,t);vg("Data must be an object, but it was:",s,r);const a=[],u=mn.empty();co(r,(f,p)=>{const y=wg(e,f,t);p=et(p);const _=s.Nu(y);if(p instanceof fd)a.push(y);else{const E=Nu(p,_);E!=null&&(a.push(y),u.set(y,E))}});const h=new Sn(a);return new kT(u,h,s.fieldTransforms)}function RT(n,e,t,r,s,a){const u=n.Qu(1,e,t),h=[um(e,r,t)],f=[s];if(a.length%2!=0)throw new le(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<a.length;E+=2)h.push(um(e,a[E])),f.push(a[E+1]);const p=[],y=mn.empty();for(let E=h.length-1;E>=0;--E)if(!jT(p,h[E])){const I=h[E];let D=f[E];D=et(D);const j=u.Nu(I);if(D instanceof fd)p.push(I);else{const P=Nu(D,j);P!=null&&(p.push(I),y.set(I,P))}}const _=new Sn(p);return new kT(y,_,u.fieldTransforms)}function F2(n,e,t,r=!1){return Nu(t,n.Qu(r?4:3,e))}function Nu(n,e){if(DT(n=et(n)))return vg("Unsupported field value:",e,n),NT(n,e);if(n instanceof dd)return function(r,s){if(!CT(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const a=[];let u=0;for(const h of r){let f=Nu(h,s.Lu(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}}(n,e)}return function(r,s){if((r=et(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return FE(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Ct.fromDate(r);return{timestampValue:Dh(s.serializer,a)}}if(r instanceof Ct){const a=new Ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Dh(s.serializer,a)}}if(r instanceof fg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Aa)return{bytesValue:QE(s.serializer,r._byteString)};if(r instanceof on){const a=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw s.Bu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:tg(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof pg)return function(u,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map(f=>{if(typeof f!="number")throw h.Bu("VectorValues must only contain numeric values.");return Jm(h.serializer,f)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${ud(r)}`)}(n,e)}function NT(n,e){const t={};return TE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):co(n,(r,s)=>{const a=Nu(s,e.Mu(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function DT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ct||n instanceof fg||n instanceof Aa||n instanceof on||n instanceof dd||n instanceof pg)}function vg(n,e,t){if(!DT(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=ud(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function um(n,e,t){if((e=et(e))instanceof bu)return e._internalPath;if(typeof e=="string")return wg(n,e);throw Lh("Field path arguments must be of type string or ",n,!1,void 0,t)}const U2=new RegExp("[~\\*/\\[\\]]");function wg(n,e,t){if(e.search(U2)>=0)throw Lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new bu(...e.split("."))._internalPath}catch{throw Lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Lh(n,e,t,r,s){const a=r&&!r.isEmpty(),u=s!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new le(X.INVALID_ARGUMENT,h+n+f)}function jT(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new on(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new B2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(pd("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class B2 extends VT{data(){return super.data()}}function pd(n,e){return typeof e=="string"?wg(n,e):e instanceof bu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new le(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _g{}class xg extends _g{}function Ji(n,e,...t){let r=[];e instanceof _g&&r.push(e),r=r.concat(t),function(a){const u=a.filter(f=>f instanceof Eg).length,h=a.filter(f=>f instanceof md).length;if(u>1||u>0&&h>0)throw new le(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class md extends xg{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new md(e,t,r)}_apply(e){const t=this._parse(e);return LT(e._query,t),new cs(e.firestore,e.converter,em(e._query,t))}_parse(e){const t=Ru(e.firestore);return function(a,u,h,f,p,y,_){let E;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new le(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Bw(_,y);const I=[];for(const D of _)I.push(Uw(f,a,D));E={arrayValue:{values:I}}}else E=Uw(f,a,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Bw(_,y),E=F2(h,u,_,y==="in"||y==="not-in");return Et.create(p,y,E)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Yl(n,e,t){const r=e,s=pd("where",n);return md._create(s,r,t)}class Eg extends _g{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Eg(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:cr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,a){let u=s;const h=a.getFlattenedFilters();for(const f of h)LT(u,f),u=em(u,f)}(e._query,t),new cs(e.firestore,e.converter,em(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Tg extends xg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Tg(e,t)}_apply(e){const t=function(s,a,u){if(s.startAt!==null)throw new le(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new le(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hu(a,u)}(e._query,this._field,this._direction);return new cs(e.firestore,e.converter,function(s,a){const u=s.explicitOrderBy.concat([a]);return new La(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function ca(n,e="asc"){const t=e,r=pd("orderBy",n);return Tg._create(r,t)}class Ig extends xg{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Ig(e,t,r)}_apply(e){return new cs(e.firestore,e.converter,Rh(e._query,this._limit,this._limitType))}}function ha(n){return N2("limit",n),Ig._create("limit",n,"F")}function Uw(n,e,t){if(typeof(t=et(t))=="string"){if(t==="")throw new le(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!NE(e)&&t.indexOf("/")!==-1)throw new le(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(it.fromString(t));if(!ve.isDocumentKey(r))throw new le(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return lw(n,new ve(r))}if(t instanceof on)return lw(n,t._key);throw new le(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ud(t)}.`)}function Bw(n,e){if(!Array.isArray(n)||n.length===0)throw new le(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function LT(n,e){const t=function(s,a){for(const u of s)for(const h of u.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new le(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class $2{convertValue(e,t="none"){switch(io(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ro(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return co(e,(s,a)=>{r[s]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,s;const a=(s=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(u=>mt(u.doubleValue));return new pg(a)}convertGeoPoint(e){return new fg(mt(e.latitude),mt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Gm(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(lu(e));default:return null}}convertTimestamp(e){const t=rs(e);return new Ct(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=it.fromString(e);Qe(tT(r));const s=new uu(r.get(1),r.get(3)),a=new ve(r.popFirst(5));return s.isEqual(t)||ai(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class MT extends VT{constructor(e,t,r,s,a,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(pd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class vh extends MT{data(e={}){return super.data(e)}}class q2{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new $l(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new vh(this._firestore,this._userDataWriter,r.key,r,new $l(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new le(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(h=>{const f=new vh(s._firestore,s._userDataWriter,h.doc.key,h.doc,new $l(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{const f=new vh(s._firestore,s._userDataWriter,h.doc.key,h.doc,new $l(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,y=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:W2(h.type),doc:f,oldIndex:p,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function W2(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(n){n=$n(n,on);const e=$n(n.firestore,hs);return C2(hd(e),n._key).then(t=>G2(e,n,t))}class OT extends $2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Aa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new on(this.firestore,null,t)}}function Cr(n){n=$n(n,cs);const e=$n(n.firestore,hs),t=hd(e),r=new OT(e);return z2(n._query),b2(t,n._query).then(s=>new q2(e,r,n,s))}function gd(n,e,t){n=$n(n,on);const r=$n(n.firestore,hs),s=Sg(n.converter,e,t);return Du(r,[gg(Ru(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,sn.none())])}function ka(n,e,t,...r){n=$n(n,on);const s=$n(n.firestore,hs),a=Ru(s);let u;return u=typeof(e=et(e))=="string"||e instanceof bu?RT(a,"updateDoc",n._key,e,t,r):bT(a,"updateDoc",n._key,e),Du(s,[u.toMutation(n._key,sn.exists(!0))])}function FT(n){return Du($n(n.firestore,hs),[new id(n._key,sn.none())])}function H2(n,e){const t=$n(n.firestore,hs),r=kt(n),s=Sg(n.converter,e);return Du(t,[gg(Ru(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,sn.exists(!1))]).then(()=>r)}function Du(n,e){return function(r,s){const a=new ni;return r.asyncQueue.enqueueAndForget(async()=>v2(await k2(r),s,a)),a.promise}(hd(n),e)}function G2(n,e,t){const r=t.docs.get(e._key),s=new OT(n);return new MT(n,s,e._key,r,new $l(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ru(e)}set(e,t,r){this._verifyNotCommitted();const s=yp(e,this._firestore),a=Sg(s.converter,t,r),u=gg(this._dataReader,"WriteBatch.set",s._key,a,s.converter!==null,r);return this._mutations.push(u.toMutation(s._key,sn.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const a=yp(e,this._firestore);let u;return u=typeof(t=et(t))=="string"||t instanceof bu?RT(this._dataReader,"WriteBatch.update",a._key,t,r,s):bT(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(u.toMutation(a._key,sn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=yp(e,this._firestore);return this._mutations=this._mutations.concat(new id(t._key,sn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new le(X.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function yp(n,e){if((n=et(n)).firestore!==e)throw new le(X.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function mu(n){return new yg("increment",n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(n){return hd(n=$n(n,hs)),new K2(n,e=>Du(n,e))}(function(e,t=!0){(function(s){Va=s})(ja),Nr(new lr("firestore",(r,{instanceIdentifier:s,options:a})=>{const u=r.getProvider("app").getImmediate(),h=new hs(new Xb(r.getProvider("auth-internal")),new tR(r.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new le(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uu(p.options.projectId,y)}(u,s),u);return a=Object.assign({useFetchStreams:t},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),Un(rw,"4.7.3",e),Un(rw,"4.7.3","esm2017")})();var Y2="firebase",X2="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Un(Y2,X2,"app");const UT="@firebase/installations",Pg="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT=1e4,zT=`w:${Pg}`,$T="FIS_v2",J2="https://firebaseinstallations.googleapis.com/v1",Z2=3600*1e3,eD="installations",tD="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},so=new ao(eD,tD,nD);function qT(n){return n instanceof hr&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT({projectId:n}){return`${J2}/projects/${n}/installations`}function HT(n){return{token:n.token,requestStatus:2,expiresIn:iD(n.expiresIn),creationTime:Date.now()}}async function GT(n,e){const r=(await e.json()).error;return so.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function KT({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function rD(n,{refreshToken:e}){const t=KT(n);return t.append("Authorization",sD(e)),t}async function QT(n){const e=await n();return e.status>=500&&e.status<600?n():e}function iD(n){return Number(n.replace("s","000"))}function sD(n){return`${$T} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oD({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=WT(n),s=KT(n),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}const u={fid:t,authVersion:$T,appId:n.appId,sdkVersion:zT},h={method:"POST",headers:s,body:JSON.stringify(u)},f=await QT(()=>fetch(r,h));if(f.ok){const p=await f.json();return{fid:p.fid||t,registrationStatus:2,refreshToken:p.refreshToken,authToken:HT(p.authToken)}}else throw await GT("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD=/^[cdef][\w-]{21}$/,cm="";function uD(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=cD(n);return lD.test(t)?t:cm}catch{return cm}}function cD(n){return aD(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT=new Map;function JT(n,e){const t=yd(n);ZT(t,e),hD(t,e)}function ZT(n,e){const t=XT.get(n);if(t)for(const r of t)r(e)}function hD(n,e){const t=dD();t&&t.postMessage({key:n,fid:e}),fD()}let Qs=null;function dD(){return!Qs&&"BroadcastChannel"in self&&(Qs=new BroadcastChannel("[Firebase] FID Change"),Qs.onmessage=n=>{ZT(n.data.key,n.data.fid)}),Qs}function fD(){XT.size===0&&Qs&&(Qs.close(),Qs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD="firebase-installations-database",mD=1,oo="firebase-installations-store";let vp=null;function Ag(){return vp||(vp=Cx(pD,mD,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(oo)}}})),vp}async function Mh(n,e){const t=yd(n),s=(await Ag()).transaction(oo,"readwrite"),a=s.objectStore(oo),u=await a.get(t);return await a.put(e,t),await s.done,(!u||u.fid!==e.fid)&&JT(n,e.fid),e}async function eI(n){const e=yd(n),r=(await Ag()).transaction(oo,"readwrite");await r.objectStore(oo).delete(e),await r.done}async function vd(n,e){const t=yd(n),s=(await Ag()).transaction(oo,"readwrite"),a=s.objectStore(oo),u=await a.get(t),h=e(u);return h===void 0?await a.delete(t):await a.put(h,t),await s.done,h&&(!u||u.fid!==h.fid)&&JT(n,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kg(n){let e;const t=await vd(n.appConfig,r=>{const s=gD(r),a=yD(n,s);return e=a.registrationPromise,a.installationEntry});return t.fid===cm?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function gD(n){const e=n||{fid:uD(),registrationStatus:0};return tI(e)}function yD(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(so.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=vD(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:wD(n)}:{installationEntry:e}}async function vD(n,e){try{const t=await oD(n,e);return Mh(n.appConfig,t)}catch(t){throw qT(t)&&t.customData.serverCode===409?await eI(n.appConfig):await Mh(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function wD(n){let e=await zw(n.appConfig);for(;e.registrationStatus===1;)await YT(100),e=await zw(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await kg(n);return r||t}return e}function zw(n){return vd(n,e=>{if(!e)throw so.create("installation-not-found");return tI(e)})}function tI(n){return _D(n)?{fid:n.fid,registrationStatus:0}:n}function _D(n){return n.registrationStatus===1&&n.registrationTime+BT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xD({appConfig:n,heartbeatServiceProvider:e},t){const r=ED(n,t),s=rD(n,t),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}const u={installation:{sdkVersion:zT,appId:n.appId}},h={method:"POST",headers:s,body:JSON.stringify(u)},f=await QT(()=>fetch(r,h));if(f.ok){const p=await f.json();return HT(p)}else throw await GT("Generate Auth Token",f)}function ED(n,{fid:e}){return`${WT(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cg(n,e=!1){let t;const r=await vd(n.appConfig,a=>{if(!nI(a))throw so.create("not-registered");const u=a.authToken;if(!e&&SD(u))return a;if(u.requestStatus===1)return t=TD(n,e),a;{if(!navigator.onLine)throw so.create("app-offline");const h=AD(a);return t=ID(n,h),h}});return t?await t:r.authToken}async function TD(n,e){let t=await $w(n.appConfig);for(;t.authToken.requestStatus===1;)await YT(100),t=await $w(n.appConfig);const r=t.authToken;return r.requestStatus===0?Cg(n,e):r}function $w(n){return vd(n,e=>{if(!nI(e))throw so.create("not-registered");const t=e.authToken;return kD(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function ID(n,e){try{const t=await xD(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return await Mh(n.appConfig,r),t}catch(t){if(qT(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await eI(n.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Mh(n.appConfig,r)}throw t}}function nI(n){return n!==void 0&&n.registrationStatus===2}function SD(n){return n.requestStatus===2&&!PD(n)}function PD(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+Z2}function AD(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function kD(n){return n.requestStatus===1&&n.requestTime+BT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CD(n){const e=n,{installationEntry:t,registrationPromise:r}=await kg(e);return r?r.catch(console.error):Cg(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bD(n,e=!1){const t=n;return await RD(t),(await Cg(t,e)).token}async function RD(n){const{registrationPromise:e}=await kg(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(n){if(!n||!n.options)throw wp("App Configuration");if(!n.name)throw wp("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw wp(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function wp(n){return so.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI="installations",DD="installations-internal",jD=n=>{const e=n.getProvider("app").getImmediate(),t=ND(e),r=lo(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},VD=n=>{const e=n.getProvider("app").getImmediate(),t=lo(e,rI).getImmediate();return{getId:()=>CD(t),getToken:s=>bD(t,s)}};function LD(){Nr(new lr(rI,jD,"PUBLIC")),Nr(new lr(DD,VD,"PRIVATE"))}LD();Un(UT,Pg);Un(UT,Pg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh="analytics",MD="firebase_id",OD="origin",FD=60*1e3,UD="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",bg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn=new Qh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Pn=new ao("analytics","Analytics",BD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(n){if(!n.startsWith(bg)){const e=Pn.create("invalid-gtag-resource",{gtagURL:n});return gn.warn(e.message),""}return n}function iI(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function $D(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function qD(n,e){const t=$D("firebase-js-sdk-policy",{createScriptURL:zD}),r=document.createElement("script"),s=`${bg}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function WD(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function HD(n,e,t,r,s,a){const u=r[s];try{if(u)await e[u];else{const f=(await iI(t)).find(p=>p.measurementId===s);f&&await e[f.appId]}}catch(h){gn.error(h)}n("config",s,a)}async function GD(n,e,t,r,s){try{let a=[];if(s&&s.send_to){let u=s.send_to;Array.isArray(u)||(u=[u]);const h=await iI(t);for(const f of u){const p=h.find(_=>_.measurementId===f),y=p&&e[p.appId];if(y)a.push(y);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),n("event",r,s||{})}catch(a){gn.error(a)}}function KD(n,e,t,r){async function s(a,...u){try{if(a==="event"){const[h,f]=u;await GD(n,e,t,h,f)}else if(a==="config"){const[h,f]=u;await HD(n,e,t,r,h,f)}else if(a==="consent"){const[h,f]=u;n("consent",h,f)}else if(a==="get"){const[h,f,p]=u;n("get",h,f,p)}else if(a==="set"){const[h]=u;n("set",h)}else n(a,...u)}catch(h){gn.error(h)}}return s}function QD(n,e,t,r,s){let a=function(...u){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(a=window[s]),window[s]=KD(a,n,e,t),{gtagCore:a,wrappedGtag:window[s]}}function YD(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(bg)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=30,JD=1e3;class ZD{constructor(e={},t=JD){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const sI=new ZD;function ej(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function tj(n){var e;const{appId:t,apiKey:r}=n,s={method:"GET",headers:ej(r)},a=UD.replace("{app-id}",t),u=await fetch(a,s);if(u.status!==200&&u.status!==304){let h="";try{const f=await u.json();!((e=f.error)===null||e===void 0)&&e.message&&(h=f.error.message)}catch{}throw Pn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:h})}return u.json()}async function nj(n,e=sI,t){const{appId:r,apiKey:s,measurementId:a}=n.options;if(!r)throw Pn.create("no-app-id");if(!s){if(a)return{measurementId:a,appId:r};throw Pn.create("no-api-key")}const u=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new sj;return setTimeout(async()=>{h.abort()},FD),oI({appId:r,apiKey:s,measurementId:a},u,h,e)}async function oI(n,{throttleEndTimeMillis:e,backoffCount:t},r,s=sI){var a;const{appId:u,measurementId:h}=n;try{await rj(r,e)}catch(f){if(h)return gn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:u,measurementId:h};throw f}try{const f=await tj(n);return s.deleteThrottleMetadata(u),f}catch(f){const p=f;if(!ij(p)){if(s.deleteThrottleMetadata(u),h)return gn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:u,measurementId:h};throw f}const y=Number((a=p?.customData)===null||a===void 0?void 0:a.httpStatus)===503?A0(t,s.intervalMillis,XD):A0(t,s.intervalMillis),_={throttleEndTimeMillis:Date.now()+y,backoffCount:t+1};return s.setThrottleMetadata(u,_),gn.debug(`Calling attemptFetch again in ${y} millis`),oI(n,_,r,s)}}function rj(n,e){return new Promise((t,r)=>{const s=Math.max(e-Date.now(),0),a=setTimeout(t,s);n.addEventListener(()=>{clearTimeout(a),r(Pn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function ij(n){if(!(n instanceof hr)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class sj{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function oj(n,e,t,r,s){if(s&&s.global){n("event",t,r);return}else{const a=await e,u=Object.assign(Object.assign({},r),{send_to:a});n("event",t,u)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aj(){if(Sx())try{await Px()}catch(n){return gn.warn(Pn.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return gn.warn(Pn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function lj(n,e,t,r,s,a,u){var h;const f=nj(n);f.then(I=>{t[I.measurementId]=I.appId,n.options.measurementId&&I.measurementId!==n.options.measurementId&&gn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${I.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(I=>gn.error(I)),e.push(f);const p=aj().then(I=>{if(I)return r.getId()}),[y,_]=await Promise.all([f,p]);YD(a)||qD(a,y.measurementId),s("js",new Date);const E=(h=u?.config)!==null&&h!==void 0?h:{};return E[OD]="firebase",E.update=!0,_!=null&&(E[MD]=_),s("config",y.measurementId,E),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e){this.app=e}_delete(){return delete Xl[this.app.options.appId],Promise.resolve()}}let Xl={},qw=[];const Ww={};let _p="dataLayer",cj="gtag",Hw,aI,Gw=!1;function hj(){const n=[];if(Ix()&&n.push("This is a browser extension environment."),mA()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,s)=>`(${s+1}) ${r}`).join(" "),t=Pn.create("invalid-analytics-context",{errorInfo:e});gn.warn(t.message)}}function dj(n,e,t){hj();const r=n.options.appId;if(!r)throw Pn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)gn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Pn.create("no-api-key");if(Xl[r]!=null)throw Pn.create("already-exists",{id:r});if(!Gw){WD(_p);const{wrappedGtag:a,gtagCore:u}=QD(Xl,qw,Ww,_p,cj);aI=a,Hw=u,Gw=!0}return Xl[r]=lj(n,qw,Ww,e,Hw,_p,t),new uj(n)}function fj(n=jm()){n=et(n);const e=lo(n,Oh);return e.isInitialized()?e.getImmediate():pj(n)}function pj(n,e={}){const t=lo(n,Oh);if(t.isInitialized()){const s=t.getImmediate();if(iu(e,t.getOptions()))return s;throw Pn.create("already-initialized")}return t.initialize({options:e})}function mj(n,e,t,r){n=et(n),oj(aI,Xl[n.app.options.appId],e,t,r).catch(s=>gn.error(s))}const Kw="@firebase/analytics",Qw="0.10.8";function gj(){Nr(new lr(Oh,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return dj(r,s,t)},"PUBLIC")),Nr(new lr("analytics-internal",n,"PRIVATE")),Un(Kw,Qw),Un(Kw,Qw,"esm2017");function n(e){try{const t=e.getProvider(Oh).getImmediate();return{logEvent:(r,s,a)=>mj(t,r,s,a)}}catch(t){throw Pn.create("interop-component-reg-failed",{reason:t})}}}gj();const yj={apiKey:"AIzaSyDSplfIeCdHaXnAgH1WnmaY78uINeUHHeA",authDomain:"glyphmart.firebaseapp.com",projectId:"glyphmart",storageBucket:"glyphmart.firebasestorage.app",messagingSenderId:"582834377960",appId:"1:582834377960:web:2f844d65c9c0f92f93255d",measurementId:"G-1RC8D5PY66"},Rg=bx(yj),sh=Gb(Rg),Ge=j2(Rg);fj(Rg);const lI=M.createContext(),di=()=>{const n=M.useContext(lI);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},vj=({children:n})=>{const[e,t]=M.useState(null),[r,s]=M.useState(!0),[a,u]=M.useState(null),h=async(E,I,D,j)=>{const H=(await kC(sh,E,I)).user;return await Gp(H,{displayName:j}),await gd(kt(Ge,"users",H.uid),{uid:H.uid,email:E,username:D,displayName:j,createdAt:new Date,glyphsCount:0,bio:"",website:"",location:""}),H},f=(E,I)=>CC(sh,E,I),p=()=>LC(sh),y=async E=>{try{const I=await Fa(kt(Ge,"users",E));I.exists()&&u(I.data())}catch(I){console.error("Error fetching user profile:",I)}};M.useEffect(()=>VC(sh,I=>{t(I),I?y(I.uid):u(null),s(!1)}),[]);const _={currentUser:e,userProfile:a,signup:h,signin:f,logout:p,fetchUserProfile:y};return m.jsx(lI.Provider,{value:_,children:!r&&n})};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Me=(n,e)=>{const t=M.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:u,className:h="",children:f,...p},y)=>M.createElement("svg",{ref:y,...wj,width:s,height:s,stroke:r,strokeWidth:u?Number(a)*24/Number(s):a,className:["lucide",`lucide-${_j(n)}`,h].join(" "),...p},[...e.map(([_,E])=>M.createElement(_,E)),...Array.isArray(f)?f:[f]]));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=Me("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=Me("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=Me("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=Me("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=Me("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=Me("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=Me("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=Me("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=Me("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=Me("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=Me("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=Me("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=Me("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=Me("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=Me("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=Me("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=Me("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=Me("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=Me("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=Me("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=Me("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dg=Me("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=Me("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=Me("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=Me("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=Me("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=Me("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=Me("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=Me("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=Me("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=Me("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=Me("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zi=Me("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=Me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=Me("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),dI=M.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),wd=M.createContext({}),_d=M.createContext(null),xd=typeof document<"u",jg=xd?M.useLayoutEffect:M.useEffect,fI=M.createContext({strict:!1}),Vg=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Lj="framerAppearId",pI="data-"+Vg(Lj);function Mj(n,e,t,r){const{visualElement:s}=M.useContext(wd),a=M.useContext(fI),u=M.useContext(_d),h=M.useContext(dI).reducedMotion,f=M.useRef();r=r||a.renderer,!f.current&&r&&(f.current=r(n,{visualState:e,parent:s,props:t,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const p=f.current;M.useInsertionEffect(()=>{p&&p.update(t,u)});const y=M.useRef(!!(t[pI]&&!window.HandoffComplete));return jg(()=>{p&&(p.render(),y.current&&p.animationState&&p.animationState.animateChanges())}),M.useEffect(()=>{p&&(p.updateFeatures(),!y.current&&p.animationState&&p.animationState.animateChanges(),y.current&&(y.current=!1,window.HandoffComplete=!0))}),p}function da(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function Oj(n,e,t){return M.useCallback(r=>{r&&n.mount&&n.mount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):da(t)&&(t.current=r))},[e])}function gu(n){return typeof n=="string"||Array.isArray(n)}function Ed(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const Lg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Mg=["initial",...Lg];function Td(n){return Ed(n.animate)||Mg.some(e=>gu(n[e]))}function mI(n){return!!(Td(n)||n.variants)}function Fj(n,e){if(Td(n)){const{initial:t,animate:r}=n;return{initial:t===!1||gu(t)?t:void 0,animate:gu(r)?r:void 0}}return n.inherit!==!1?e:{}}function Uj(n){const{initial:e,animate:t}=Fj(n,M.useContext(wd));return M.useMemo(()=>({initial:e,animate:t}),[e_(e),e_(t)])}function e_(n){return Array.isArray(n)?n.join(" "):n}const t_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},yu={};for(const n in t_)yu[n]={isEnabled:e=>t_[n].some(t=>!!e[t])};function Bj(n){for(const e in n)yu[e]={...yu[e],...n[e]}}const Og=M.createContext({}),gI=M.createContext({}),zj=Symbol.for("motionComponentSymbol");function $j({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:s}){n&&Bj(n);function a(h,f){let p;const y={...M.useContext(dI),...h,layoutId:qj(h)},{isStatic:_}=y,E=Uj(h),I=r(h,_);if(!_&&xd){E.visualElement=Mj(s,I,y,e);const D=M.useContext(gI),j=M.useContext(fI).strict;E.visualElement&&(p=E.visualElement.loadFeatures(y,j,n,D))}return M.createElement(wd.Provider,{value:E},p&&E.visualElement?M.createElement(p,{visualElement:E.visualElement,...y}):null,t(s,h,Oj(I,E.visualElement,f),I,_,E.visualElement))}const u=M.forwardRef(a);return u[zj]=s,u}function qj({layoutId:n}){const e=M.useContext(Og).id;return e&&n!==void 0?e+"-"+n:n}function Wj(n){function e(r,s={}){return $j(n(r,s))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(r,s)=>(t.has(s)||t.set(s,e(s)),t.get(s))})}const Hj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Fg(n){return typeof n!="string"||n.includes("-")?!1:!!(Hj.indexOf(n)>-1||/[A-Z]/.test(n))}const Fh={};function Gj(n){Object.assign(Fh,n)}const ju=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],fo=new Set(ju);function yI(n,{layout:e,layoutId:t}){return fo.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Fh[n]||n==="opacity")}const yn=n=>!!(n&&n.getVelocity),Kj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Qj=ju.length;function Yj(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},r,s){let a="";for(let u=0;u<Qj;u++){const h=ju[u];if(n[h]!==void 0){const f=Kj[h]||h;a+=`${f}(${n[h]}) `}}return e&&!n.z&&(a+="translateZ(0)"),a=a.trim(),s?a=s(n,r?"":a):t&&r&&(a="none"),a}const vI=n=>e=>typeof e=="string"&&e.startsWith(n),wI=vI("--"),pm=vI("var(--"),Xj=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,Jj=(n,e)=>e&&typeof n=="number"?e.transform(n):n,ss=(n,e,t)=>Math.min(Math.max(t,n),e),po={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Jl={...po,transform:n=>ss(0,1,n)},oh={...po,default:1},Zl=n=>Math.round(n*1e5)/1e5,Id=/(-)?([\d]*\.?[\d])+/g,_I=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Zj=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Vu(n){return typeof n=="string"}const Lu=n=>({test:e=>Vu(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Fi=Lu("deg"),Rr=Lu("%"),xe=Lu("px"),eV=Lu("vh"),tV=Lu("vw"),n_={...Rr,parse:n=>Rr.parse(n)/100,transform:n=>Rr.transform(n*100)},r_={...po,transform:Math.round},xI={borderWidth:xe,borderTopWidth:xe,borderRightWidth:xe,borderBottomWidth:xe,borderLeftWidth:xe,borderRadius:xe,radius:xe,borderTopLeftRadius:xe,borderTopRightRadius:xe,borderBottomRightRadius:xe,borderBottomLeftRadius:xe,width:xe,maxWidth:xe,height:xe,maxHeight:xe,size:xe,top:xe,right:xe,bottom:xe,left:xe,padding:xe,paddingTop:xe,paddingRight:xe,paddingBottom:xe,paddingLeft:xe,margin:xe,marginTop:xe,marginRight:xe,marginBottom:xe,marginLeft:xe,rotate:Fi,rotateX:Fi,rotateY:Fi,rotateZ:Fi,scale:oh,scaleX:oh,scaleY:oh,scaleZ:oh,skew:Fi,skewX:Fi,skewY:Fi,distance:xe,translateX:xe,translateY:xe,translateZ:xe,x:xe,y:xe,z:xe,perspective:xe,transformPerspective:xe,opacity:Jl,originX:n_,originY:n_,originZ:xe,zIndex:r_,fillOpacity:Jl,strokeOpacity:Jl,numOctaves:r_};function Ug(n,e,t,r){const{style:s,vars:a,transform:u,transformOrigin:h}=n;let f=!1,p=!1,y=!0;for(const _ in e){const E=e[_];if(wI(_)){a[_]=E;continue}const I=xI[_],D=Jj(E,I);if(fo.has(_)){if(f=!0,u[_]=D,!y)continue;E!==(I.default||0)&&(y=!1)}else _.startsWith("origin")?(p=!0,h[_]=D):s[_]=D}if(e.transform||(f||r?s.transform=Yj(n.transform,t,y,r):s.transform&&(s.transform="none")),p){const{originX:_="50%",originY:E="50%",originZ:I=0}=h;s.transformOrigin=`${_} ${E} ${I}`}}const Bg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function EI(n,e,t){for(const r in e)!yn(e[r])&&!yI(r,t)&&(n[r]=e[r])}function nV({transformTemplate:n},e,t){return M.useMemo(()=>{const r=Bg();return Ug(r,e,{enableHardwareAcceleration:!t},n),Object.assign({},r.vars,r.style)},[e])}function rV(n,e,t){const r=n.style||{},s={};return EI(s,r,n),Object.assign(s,nV(n,e,t)),n.transformValues?n.transformValues(s):s}function iV(n,e,t){const r={},s=rV(n,e,t);return n.drag&&n.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(r.tabIndex=0),r.style=s,r}const sV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Uh(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||sV.has(n)}let TI=n=>!Uh(n);function oV(n){n&&(TI=e=>e.startsWith("on")?!Uh(e):n(e))}try{oV(require("@emotion/is-prop-valid").default)}catch{}function aV(n,e,t){const r={};for(const s in n)s==="values"&&typeof n.values=="object"||(TI(s)||t===!0&&Uh(s)||!e&&!Uh(s)||n.draggable&&s.startsWith("onDrag"))&&(r[s]=n[s]);return r}function i_(n,e,t){return typeof n=="string"?n:xe.transform(e+t*n)}function lV(n,e,t){const r=i_(e,n.x,n.width),s=i_(t,n.y,n.height);return`${r} ${s}`}const uV={offset:"stroke-dashoffset",array:"stroke-dasharray"},cV={offset:"strokeDashoffset",array:"strokeDasharray"};function hV(n,e,t=1,r=0,s=!0){n.pathLength=1;const a=s?uV:cV;n[a.offset]=xe.transform(-r);const u=xe.transform(e),h=xe.transform(t);n[a.array]=`${u} ${h}`}function zg(n,{attrX:e,attrY:t,attrScale:r,originX:s,originY:a,pathLength:u,pathSpacing:h=1,pathOffset:f=0,...p},y,_,E){if(Ug(n,p,y,E),_){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:I,style:D,dimensions:j}=n;I.transform&&(j&&(D.transform=I.transform),delete I.transform),j&&(s!==void 0||a!==void 0||D.transform)&&(D.transformOrigin=lV(j,s!==void 0?s:.5,a!==void 0?a:.5)),e!==void 0&&(I.x=e),t!==void 0&&(I.y=t),r!==void 0&&(I.scale=r),u!==void 0&&hV(I,u,h,f,!1)}const II=()=>({...Bg(),attrs:{}}),$g=n=>typeof n=="string"&&n.toLowerCase()==="svg";function dV(n,e,t,r){const s=M.useMemo(()=>{const a=II();return zg(a,e,{enableHardwareAcceleration:!1},$g(r),n.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};EI(a,n.style,n),s.style={...a,...s.style}}return s}function fV(n=!1){return(t,r,s,{latestValues:a},u)=>{const f=(Fg(t)?dV:iV)(r,a,u,t),y={...aV(r,typeof t=="string",n),...f,ref:s},{children:_}=r,E=M.useMemo(()=>yn(_)?_.get():_,[_]);return M.createElement(t,{...y,children:E})}}function SI(n,{style:e,vars:t},r,s){Object.assign(n.style,e,s&&s.getProjectionStyles(r));for(const a in t)n.style.setProperty(a,t[a])}const PI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function AI(n,e,t,r){SI(n,e,void 0,r);for(const s in e.attrs)n.setAttribute(PI.has(s)?s:Vg(s),e.attrs[s])}function qg(n,e){const{style:t}=n,r={};for(const s in t)(yn(t[s])||e.style&&yn(e.style[s])||yI(s,n))&&(r[s]=t[s]);return r}function kI(n,e){const t=qg(n,e);for(const r in n)if(yn(n[r])||yn(e[r])){const s=ju.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;t[s]=n[r]}return t}function Wg(n,e,t,r={},s={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,s)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,s)),e}function CI(n){const e=M.useRef(null);return e.current===null&&(e.current=n()),e.current}const Bh=n=>Array.isArray(n),pV=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),mV=n=>Bh(n)?n[n.length-1]||0:n;function wh(n){const e=yn(n)?n.get():n;return pV(e)?e.toValue():e}function gV({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},r,s,a){const u={latestValues:yV(r,s,a,n),renderState:e()};return t&&(u.mount=h=>t(r,h,u)),u}const bI=n=>(e,t)=>{const r=M.useContext(wd),s=M.useContext(_d),a=()=>gV(n,e,r,s);return t?a():CI(a)};function yV(n,e,t,r){const s={},a=r(n,{});for(const E in a)s[E]=wh(a[E]);let{initial:u,animate:h}=n;const f=Td(n),p=mI(n);e&&p&&!f&&n.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let y=t?t.initial===!1:!1;y=y||u===!1;const _=y?h:u;return _&&typeof _!="boolean"&&!Ed(_)&&(Array.isArray(_)?_:[_]).forEach(I=>{const D=Wg(n,I);if(!D)return;const{transitionEnd:j,transition:P,...H}=D;for(const B in H){let R=H[B];if(Array.isArray(R)){const K=y?R.length-1:0;R=R[K]}R!==null&&(s[B]=R)}for(const B in j)s[B]=j[B]}),s}const gt=n=>n;class s_{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);t!==-1&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function vV(n){let e=new s_,t=new s_,r=0,s=!1,a=!1;const u=new WeakSet,h={schedule:(f,p=!1,y=!1)=>{const _=y&&s,E=_?e:t;return p&&u.add(f),E.add(f)&&_&&s&&(r=e.order.length),f},cancel:f=>{t.remove(f),u.delete(f)},process:f=>{if(s){a=!0;return}if(s=!0,[e,t]=[t,e],t.clear(),r=e.order.length,r)for(let p=0;p<r;p++){const y=e.order[p];y(f),u.has(y)&&(h.schedule(y),n())}s=!1,a&&(a=!1,h.process(f))}};return h}const ah=["prepare","read","update","preRender","render","postRender"],wV=40;function _V(n,e){let t=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=ah.reduce((_,E)=>(_[E]=vV(()=>t=!0),_),{}),u=_=>a[_].process(s),h=()=>{const _=performance.now();t=!1,s.delta=r?1e3/60:Math.max(Math.min(_-s.timestamp,wV),1),s.timestamp=_,s.isProcessing=!0,ah.forEach(u),s.isProcessing=!1,t&&e&&(r=!1,n(h))},f=()=>{t=!0,r=!0,s.isProcessing||n(h)};return{schedule:ah.reduce((_,E)=>{const I=a[E];return _[E]=(D,j=!1,P=!1)=>(t||f(),I.schedule(D,j,P)),_},{}),cancel:_=>ah.forEach(E=>a[E].cancel(_)),state:s,steps:a}}const{schedule:Ze,cancel:ui,state:Qt,steps:xp}=_V(typeof requestAnimationFrame<"u"?requestAnimationFrame:gt,!0),xV={useVisualState:bI({scrapeMotionValuesFromProps:kI,createRenderState:II,onMount:(n,e,{renderState:t,latestValues:r})=>{Ze.read(()=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}),Ze.render(()=>{zg(t,r,{enableHardwareAcceleration:!1},$g(e.tagName),n.transformTemplate),AI(e,t)})}})},EV={useVisualState:bI({scrapeMotionValuesFromProps:qg,createRenderState:Bg})};function TV(n,{forwardMotionProps:e=!1},t,r){return{...Fg(n)?xV:EV,preloadedFeatures:t,useRender:fV(e),createVisualElement:r,Component:n}}function ti(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}const RI=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function Sd(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const IV=n=>e=>RI(e)&&n(e,Sd(e));function ri(n,e,t,r){return ti(n,e,IV(t),r)}const SV=(n,e)=>t=>e(n(t)),es=(...n)=>n.reduce(SV);function NI(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const o_=NI("dragHorizontal"),a_=NI("dragVertical");function DI(n){let e=!1;if(n==="y")e=a_();else if(n==="x")e=o_();else{const t=o_(),r=a_();t&&r?e=()=>{t(),r()}:(t&&t(),r&&r())}return e}function jI(){const n=DI(!0);return n?(n(),!1):!0}class ds{constructor(e){this.isMounted=!1,this.node=e}update(){}}function l_(n,e){const t="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),s=(a,u)=>{if(a.pointerType==="touch"||jI())return;const h=n.getProps();n.animationState&&h.whileHover&&n.animationState.setActive("whileHover",e),h[r]&&Ze.update(()=>h[r](a,u))};return ri(n.current,t,s,{passive:!n.getProps()[r]})}class PV extends ds{mount(){this.unmount=es(l_(this.node,!0),l_(this.node,!1))}unmount(){}}class AV extends ds{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=es(ti(this.node.current,"focus",()=>this.onFocus()),ti(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const VI=(n,e)=>e?n===e?!0:VI(n,e.parentElement):!1;function Ep(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,Sd(t))}class kV extends ds{constructor(){super(...arguments),this.removeStartListeners=gt,this.removeEndListeners=gt,this.removeAccessibleListeners=gt,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=ri(window,"pointerup",(h,f)=>{if(!this.checkPressEnd())return;const{onTap:p,onTapCancel:y,globalTapTarget:_}=this.node.getProps();Ze.update(()=>{!_&&!VI(this.node.current,h.target)?y&&y(h,f):p&&p(h,f)})},{passive:!(r.onTap||r.onPointerUp)}),u=ri(window,"pointercancel",(h,f)=>this.cancelPress(h,f),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=es(a,u),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=a=>{if(a.key!=="Enter"||this.isPressing)return;const u=h=>{h.key!=="Enter"||!this.checkPressEnd()||Ep("up",(f,p)=>{const{onTap:y}=this.node.getProps();y&&Ze.update(()=>y(f,p))})};this.removeEndListeners(),this.removeEndListeners=ti(this.node.current,"keyup",u),Ep("down",(h,f)=>{this.startPress(h,f)})},t=ti(this.node.current,"keydown",e),r=()=>{this.isPressing&&Ep("cancel",(a,u)=>this.cancelPress(a,u))},s=ti(this.node.current,"blur",r);this.removeAccessibleListeners=es(t,s)}}startPress(e,t){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Ze.update(()=>r(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!jI()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Ze.update(()=>r(e,t))}mount(){const e=this.node.getProps(),t=ri(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=ti(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=es(t,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const mm=new WeakMap,Tp=new WeakMap,CV=n=>{const e=mm.get(n.target);e&&e(n)},bV=n=>{n.forEach(CV)};function RV({root:n,...e}){const t=n||document;Tp.has(t)||Tp.set(t,{});const r=Tp.get(t),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(bV,{root:n,...e})),r[s]}function NV(n,e,t){const r=RV(e);return mm.set(n,t),r.observe(n),()=>{mm.delete(n),r.unobserve(n)}}const DV={some:0,all:1};class jV extends ds{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:s="some",once:a}=e,u={root:t?t.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:DV[s]},h=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),E=p?y:_;E&&E(f)};return NV(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(VV(e,t))&&this.startObserver()}unmount(){}}function VV({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const LV={inView:{Feature:jV},tap:{Feature:kV},focus:{Feature:AV},hover:{Feature:PV}};function LI(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function MV(n){const e={};return n.values.forEach((t,r)=>e[r]=t.get()),e}function OV(n){const e={};return n.values.forEach((t,r)=>e[r]=t.getVelocity()),e}function Pd(n,e,t){const r=n.getProps();return Wg(r,e,t!==void 0?t:r.custom,MV(n),OV(n))}let Hg=gt;const Js=n=>n*1e3,ii=n=>n/1e3,FV={current:!1},MI=n=>Array.isArray(n)&&typeof n[0]=="number";function OI(n){return!!(!n||typeof n=="string"&&FI[n]||MI(n)||Array.isArray(n)&&n.every(OI))}const ql=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,FI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ql([0,.65,.55,1]),circOut:ql([.55,0,1,.45]),backIn:ql([.31,.01,.66,-.59]),backOut:ql([.33,1.53,.69,.99])};function UI(n){if(n)return MI(n)?ql(n):Array.isArray(n)?n.map(UI):FI[n]}function UV(n,e,t,{delay:r=0,duration:s,repeat:a=0,repeatType:u="loop",ease:h,times:f}={}){const p={[e]:t};f&&(p.offset=f);const y=UI(h);return Array.isArray(y)&&(p.easing=y),n.animate(p,{delay:r,duration:s,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:a+1,direction:u==="reverse"?"alternate":"normal"})}function BV(n,{repeat:e,repeatType:t="loop"}){const r=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[r]}const BI=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,zV=1e-7,$V=12;function qV(n,e,t,r,s){let a,u,h=0;do u=e+(t-e)/2,a=BI(u,r,s)-n,a>0?t=u:e=u;while(Math.abs(a)>zV&&++h<$V);return u}function Mu(n,e,t,r){if(n===e&&t===r)return gt;const s=a=>qV(a,0,1,n,t);return a=>a===0||a===1?a:BI(s(a),e,r)}const WV=Mu(.42,0,1,1),HV=Mu(0,0,.58,1),zI=Mu(.42,0,.58,1),GV=n=>Array.isArray(n)&&typeof n[0]!="number",$I=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,qI=n=>e=>1-n(1-e),Gg=n=>1-Math.sin(Math.acos(n)),WI=qI(Gg),KV=$I(Gg),HI=Mu(.33,1.53,.69,.99),Kg=qI(HI),QV=$I(Kg),YV=n=>(n*=2)<1?.5*Kg(n):.5*(2-Math.pow(2,-10*(n-1))),XV={linear:gt,easeIn:WV,easeInOut:zI,easeOut:HV,circIn:Gg,circInOut:KV,circOut:WI,backIn:Kg,backInOut:QV,backOut:HI,anticipate:YV},u_=n=>{if(Array.isArray(n)){Hg(n.length===4);const[e,t,r,s]=n;return Mu(e,t,r,s)}else if(typeof n=="string")return XV[n];return n},Qg=(n,e)=>t=>!!(Vu(t)&&Zj.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),GI=(n,e,t)=>r=>{if(!Vu(r))return r;const[s,a,u,h]=r.match(Id);return{[n]:parseFloat(s),[e]:parseFloat(a),[t]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},JV=n=>ss(0,255,n),Ip={...po,transform:n=>Math.round(JV(n))},Ys={test:Qg("rgb","red"),parse:GI("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+Ip.transform(n)+", "+Ip.transform(e)+", "+Ip.transform(t)+", "+Zl(Jl.transform(r))+")"};function ZV(n){let e="",t="",r="",s="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),s=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),s=n.substring(4,5),e+=e,t+=t,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const gm={test:Qg("#"),parse:ZV,transform:Ys.transform},fa={test:Qg("hsl","hue"),parse:GI("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Rr.transform(Zl(e))+", "+Rr.transform(Zl(t))+", "+Zl(Jl.transform(r))+")"},rn={test:n=>Ys.test(n)||gm.test(n)||fa.test(n),parse:n=>Ys.test(n)?Ys.parse(n):fa.test(n)?fa.parse(n):gm.parse(n),transform:n=>Vu(n)?n:n.hasOwnProperty("red")?Ys.transform(n):fa.transform(n)},ct=(n,e,t)=>-t*n+t*e+n;function Sp(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function eL({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let s=0,a=0,u=0;if(!e)s=a=u=t;else{const h=t<.5?t*(1+e):t+e-t*e,f=2*t-h;s=Sp(f,h,n+1/3),a=Sp(f,h,n),u=Sp(f,h,n-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(u*255),alpha:r}}const Pp=(n,e,t)=>{const r=n*n;return Math.sqrt(Math.max(0,t*(e*e-r)+r))},tL=[gm,Ys,fa],nL=n=>tL.find(e=>e.test(n));function c_(n){const e=nL(n);let t=e.parse(n);return e===fa&&(t=eL(t)),t}const KI=(n,e)=>{const t=c_(n),r=c_(e),s={...t};return a=>(s.red=Pp(t.red,r.red,a),s.green=Pp(t.green,r.green,a),s.blue=Pp(t.blue,r.blue,a),s.alpha=ct(t.alpha,r.alpha,a),Ys.transform(s))};function rL(n){var e,t;return isNaN(n)&&Vu(n)&&(((e=n.match(Id))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(_I))===null||t===void 0?void 0:t.length)||0)>0}const QI={regex:Xj,countKey:"Vars",token:"${v}",parse:gt},YI={regex:_I,countKey:"Colors",token:"${c}",parse:rn.parse},XI={regex:Id,countKey:"Numbers",token:"${n}",parse:po.parse};function Ap(n,{regex:e,countKey:t,token:r,parse:s}){const a=n.tokenised.match(e);a&&(n["num"+t]=a.length,n.tokenised=n.tokenised.replace(e,r),n.values.push(...a.map(s)))}function zh(n){const e=n.toString(),t={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return t.value.includes("var(--")&&Ap(t,QI),Ap(t,YI),Ap(t,XI),t}function JI(n){return zh(n).values}function ZI(n){const{values:e,numColors:t,numVars:r,tokenised:s}=zh(n),a=e.length;return u=>{let h=s;for(let f=0;f<a;f++)f<r?h=h.replace(QI.token,u[f]):f<r+t?h=h.replace(YI.token,rn.transform(u[f])):h=h.replace(XI.token,Zl(u[f]));return h}}const iL=n=>typeof n=="number"?0:n;function sL(n){const e=JI(n);return ZI(n)(e.map(iL))}const os={test:rL,parse:JI,createTransformer:ZI,getAnimatableNone:sL},e1=(n,e)=>t=>`${t>0?e:n}`;function t1(n,e){return typeof n=="number"?t=>ct(n,e,t):rn.test(n)?KI(n,e):n.startsWith("var(")?e1(n,e):r1(n,e)}const n1=(n,e)=>{const t=[...n],r=t.length,s=n.map((a,u)=>t1(a,e[u]));return a=>{for(let u=0;u<r;u++)t[u]=s[u](a);return t}},oL=(n,e)=>{const t={...n,...e},r={};for(const s in t)n[s]!==void 0&&e[s]!==void 0&&(r[s]=t1(n[s],e[s]));return s=>{for(const a in r)t[a]=r[a](s);return t}},r1=(n,e)=>{const t=os.createTransformer(e),r=zh(n),s=zh(e);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?es(n1(r.values,s.values),t):e1(n,e)},vu=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},h_=(n,e)=>t=>ct(n,e,t);function aL(n){return typeof n=="number"?h_:typeof n=="string"?rn.test(n)?KI:r1:Array.isArray(n)?n1:typeof n=="object"?oL:h_}function lL(n,e,t){const r=[],s=t||aL(n[0]),a=n.length-1;for(let u=0;u<a;u++){let h=s(n[u],n[u+1]);if(e){const f=Array.isArray(e)?e[u]||gt:e;h=es(f,h)}r.push(h)}return r}function i1(n,e,{clamp:t=!0,ease:r,mixer:s}={}){const a=n.length;if(Hg(a===e.length),a===1)return()=>e[0];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const u=lL(e,r,s),h=u.length,f=p=>{let y=0;if(h>1)for(;y<n.length-2&&!(p<n[y+1]);y++);const _=vu(n[y],n[y+1],p);return u[y](_)};return t?p=>f(ss(n[0],n[a-1],p)):f}function uL(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const s=vu(0,e,r);n.push(ct(t,1,s))}}function cL(n){const e=[0];return uL(e,n.length-1),e}function hL(n,e){return n.map(t=>t*e)}function dL(n,e){return n.map(()=>e||zI).splice(0,n.length-1)}function $h({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const s=GV(r)?r.map(u_):u_(r),a={done:!1,value:e[0]},u=hL(t&&t.length===e.length?t:cL(e),n),h=i1(u,e,{ease:Array.isArray(s)?s:dL(e,s)});return{calculatedDuration:n,next:f=>(a.value=h(f),a.done=f>=n,a)}}function s1(n,e){return e?n*(1e3/e):0}const fL=5;function o1(n,e,t){const r=Math.max(e-fL,0);return s1(t-n(r),e-r)}const kp=.001,pL=.01,mL=10,gL=.05,yL=1;function vL({duration:n=800,bounce:e=.25,velocity:t=0,mass:r=1}){let s,a,u=1-e;u=ss(gL,yL,u),n=ss(pL,mL,ii(n)),u<1?(s=p=>{const y=p*u,_=y*n,E=y-t,I=ym(p,u),D=Math.exp(-_);return kp-E/I*D},a=p=>{const _=p*u*n,E=_*t+t,I=Math.pow(u,2)*Math.pow(p,2)*n,D=Math.exp(-_),j=ym(Math.pow(p,2),u);return(-s(p)+kp>0?-1:1)*((E-I)*D)/j}):(s=p=>{const y=Math.exp(-p*n),_=(p-t)*n+1;return-kp+y*_},a=p=>{const y=Math.exp(-p*n),_=(t-p)*(n*n);return y*_});const h=5/n,f=_L(s,a,h);if(n=Js(n),isNaN(f))return{stiffness:100,damping:10,duration:n};{const p=Math.pow(f,2)*r;return{stiffness:p,damping:u*2*Math.sqrt(r*p),duration:n}}}const wL=12;function _L(n,e,t){let r=t;for(let s=1;s<wL;s++)r=r-n(r)/e(r);return r}function ym(n,e){return n*Math.sqrt(1-e*e)}const xL=["duration","bounce"],EL=["stiffness","damping","mass"];function d_(n,e){return e.some(t=>n[t]!==void 0)}function TL(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!d_(n,EL)&&d_(n,xL)){const t=vL(n);e={...e,...t,mass:1},e.isResolvedFromDuration=!0}return e}function a1({keyframes:n,restDelta:e,restSpeed:t,...r}){const s=n[0],a=n[n.length-1],u={done:!1,value:s},{stiffness:h,damping:f,mass:p,duration:y,velocity:_,isResolvedFromDuration:E}=TL({...r,velocity:-ii(r.velocity||0)}),I=_||0,D=f/(2*Math.sqrt(h*p)),j=a-s,P=ii(Math.sqrt(h/p)),H=Math.abs(j)<5;t||(t=H?.01:2),e||(e=H?.005:.5);let B;if(D<1){const R=ym(P,D);B=K=>{const re=Math.exp(-D*P*K);return a-re*((I+D*P*j)/R*Math.sin(R*K)+j*Math.cos(R*K))}}else if(D===1)B=R=>a-Math.exp(-P*R)*(j+(I+P*j)*R);else{const R=P*Math.sqrt(D*D-1);B=K=>{const re=Math.exp(-D*P*K),ne=Math.min(R*K,300);return a-re*((I+D*P*j)*Math.sinh(ne)+R*j*Math.cosh(ne))/R}}return{calculatedDuration:E&&y||null,next:R=>{const K=B(R);if(E)u.done=R>=y;else{let re=I;R!==0&&(D<1?re=o1(B,R,K):re=0);const ne=Math.abs(re)<=t,N=Math.abs(a-K)<=e;u.done=ne&&N}return u.value=u.done?a:K,u}}}function f_({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:u,min:h,max:f,restDelta:p=.5,restSpeed:y}){const _=n[0],E={done:!1,value:_},I=A=>h!==void 0&&A<h||f!==void 0&&A>f,D=A=>h===void 0?f:f===void 0||Math.abs(h-A)<Math.abs(f-A)?h:f;let j=t*e;const P=_+j,H=u===void 0?P:u(P);H!==P&&(j=H-_);const B=A=>-j*Math.exp(-A/r),R=A=>H+B(A),K=A=>{const C=B(A),V=R(A);E.done=Math.abs(C)<=p,E.value=E.done?H:V};let re,ne;const N=A=>{I(E.value)&&(re=A,ne=a1({keyframes:[E.value,D(E.value)],velocity:o1(R,A,E.value),damping:s,stiffness:a,restDelta:p,restSpeed:y}))};return N(0),{calculatedDuration:null,next:A=>{let C=!1;return!ne&&re===void 0&&(C=!0,K(A),N(A)),re!==void 0&&A>re?ne.next(A-re):(!C&&K(A),E)}}}const IL=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Ze.update(e,!0),stop:()=>ui(e),now:()=>Qt.isProcessing?Qt.timestamp:performance.now()}},p_=2e4;function m_(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<p_;)e+=t,r=n.next(e);return e>=p_?1/0:e}const SL={decay:f_,inertia:f_,tween:$h,keyframes:$h,spring:a1};function qh({autoplay:n=!0,delay:e=0,driver:t=IL,keyframes:r,type:s="keyframes",repeat:a=0,repeatDelay:u=0,repeatType:h="loop",onPlay:f,onStop:p,onComplete:y,onUpdate:_,...E}){let I=1,D=!1,j,P;const H=()=>{P=new Promise(O=>{j=O})};H();let B;const R=SL[s]||$h;let K;R!==$h&&typeof r[0]!="number"&&(K=i1([0,100],r,{clamp:!1}),r=[0,100]);const re=R({...E,keyframes:r});let ne;h==="mirror"&&(ne=R({...E,keyframes:[...r].reverse(),velocity:-(E.velocity||0)}));let N="idle",A=null,C=null,V=null;re.calculatedDuration===null&&a&&(re.calculatedDuration=m_(re));const{calculatedDuration:U}=re;let z=1/0,k=1/0;U!==null&&(z=U+u,k=z*(a+1)-u);let ce=0;const tt=O=>{if(C===null)return;I>0&&(C=Math.min(C,O)),I<0&&(C=Math.min(O-k/I,C)),A!==null?ce=A:ce=Math.round(O-C)*I;const Y=ce-e*(I>=0?1:-1),ye=I>=0?Y<0:Y>k;ce=Math.max(Y,0),N==="finished"&&A===null&&(ce=k);let Ae=ce,ke=re;if(a){const We=Math.min(ce,k)/z;let at=Math.floor(We),Vt=We%1;!Vt&&We>=1&&(Vt=1),Vt===1&&at--,at=Math.min(at,a+1),!!(at%2)&&(h==="reverse"?(Vt=1-Vt,u&&(Vt-=u/z)):h==="mirror"&&(ke=ne)),Ae=ss(0,1,Vt)*z}const be=ye?{done:!1,value:r[0]}:ke.next(Ae);K&&(be.value=K(be.value));let{done:Oe}=be;!ye&&U!==null&&(Oe=I>=0?ce>=k:ce<=0);const Be=A===null&&(N==="finished"||N==="running"&&Oe);return _&&_(be.value),Be&&se(),be},De=()=>{B&&B.stop(),B=void 0},Ce=()=>{N="idle",De(),j(),H(),C=V=null},se=()=>{N="finished",y&&y(),De(),j()},fe=()=>{if(D)return;B||(B=t(tt));const O=B.now();f&&f(),A!==null?C=O-A:(!C||N==="finished")&&(C=O),N==="finished"&&H(),V=C,A=null,N="running",B.start()};n&&fe();const ae={then(O,Y){return P.then(O,Y)},get time(){return ii(ce)},set time(O){O=Js(O),ce=O,A!==null||!B||I===0?A=O:C=B.now()-O/I},get duration(){const O=re.calculatedDuration===null?m_(re):re.calculatedDuration;return ii(O)},get speed(){return I},set speed(O){O===I||!B||(I=O,ae.time=ii(ce))},get state(){return N},play:fe,pause:()=>{N="paused",A=ce},stop:()=>{D=!0,N!=="idle"&&(N="idle",p&&p(),Ce())},cancel:()=>{V!==null&&tt(V),Ce()},complete:()=>{N="finished"},sample:O=>(C=0,tt(O))};return ae}function PL(n){let e;return()=>(e===void 0&&(e=n()),e)}const AL=PL(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),kL=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),lh=10,CL=2e4,bL=(n,e)=>e.type==="spring"||n==="backgroundColor"||!OI(e.ease);function RL(n,e,{onUpdate:t,onComplete:r,...s}){if(!(AL()&&kL.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let u=!1,h,f,p=!1;const y=()=>{f=new Promise(R=>{h=R})};y();let{keyframes:_,duration:E=300,ease:I,times:D}=s;if(bL(e,s)){const R=qh({...s,repeat:0,delay:0});let K={done:!1,value:_[0]};const re=[];let ne=0;for(;!K.done&&ne<CL;)K=R.sample(ne),re.push(K.value),ne+=lh;D=void 0,_=re,E=ne-lh,I="linear"}const j=UV(n.owner.current,e,_,{...s,duration:E,ease:I,times:D}),P=()=>{p=!1,j.cancel()},H=()=>{p=!0,Ze.update(P),h(),y()};return j.onfinish=()=>{p||(n.set(BV(_,s)),r&&r(),H())},{then(R,K){return f.then(R,K)},attachTimeline(R){return j.timeline=R,j.onfinish=null,gt},get time(){return ii(j.currentTime||0)},set time(R){j.currentTime=Js(R)},get speed(){return j.playbackRate},set speed(R){j.playbackRate=R},get duration(){return ii(E)},play:()=>{u||(j.play(),ui(P))},pause:()=>j.pause(),stop:()=>{if(u=!0,j.playState==="idle")return;const{currentTime:R}=j;if(R){const K=qh({...s,autoplay:!1});n.setWithVelocity(K.sample(R-lh).value,K.sample(R).value,lh)}H()},complete:()=>{p||j.finish()},cancel:H}}function NL({keyframes:n,delay:e,onUpdate:t,onComplete:r}){const s=()=>(t&&t(n[n.length-1]),r&&r(),{time:0,speed:1,duration:0,play:gt,pause:gt,stop:gt,then:a=>(a(),Promise.resolve()),cancel:gt,complete:gt});return e?qh({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const DL={type:"spring",stiffness:500,damping:25,restSpeed:10},jL=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),VL={type:"keyframes",duration:.8},LL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ML=(n,{keyframes:e})=>e.length>2?VL:fo.has(n)?n.startsWith("scale")?jL(e[1]):DL:LL,vm=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(os.test(e)||e==="0")&&!e.startsWith("url(")),OL=new Set(["brightness","contrast","saturate","opacity"]);function FL(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(Id)||[];if(!r)return n;const s=t.replace(r,"");let a=OL.has(e)?1:0;return r!==t&&(a*=100),e+"("+a+s+")"}const UL=/([a-z-]*)\(.*?\)/g,wm={...os,getAnimatableNone:n=>{const e=n.match(UL);return e?e.map(FL).join(" "):n}},BL={...xI,color:rn,backgroundColor:rn,outlineColor:rn,fill:rn,stroke:rn,borderColor:rn,borderTopColor:rn,borderRightColor:rn,borderBottomColor:rn,borderLeftColor:rn,filter:wm,WebkitFilter:wm},Yg=n=>BL[n];function l1(n,e){let t=Yg(n);return t!==wm&&(t=os),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const u1=n=>/^0[^.\s]+$/.test(n);function zL(n){if(typeof n=="number")return n===0;if(n!==null)return n==="none"||n==="0"||u1(n)}function $L(n,e,t,r){const s=vm(e,t);let a;Array.isArray(t)?a=[...t]:a=[null,t];const u=r.from!==void 0?r.from:n.get();let h;const f=[];for(let p=0;p<a.length;p++)a[p]===null&&(a[p]=p===0?u:a[p-1]),zL(a[p])&&f.push(p),typeof a[p]=="string"&&a[p]!=="none"&&a[p]!=="0"&&(h=a[p]);if(s&&f.length&&h)for(let p=0;p<f.length;p++){const y=f[p];a[y]=l1(e,h)}return a}function qL({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:u,repeatDelay:h,from:f,elapsed:p,...y}){return!!Object.keys(y).length}function Xg(n,e){return n[e]||n.default||n}const WL={skipAnimations:!1},Jg=(n,e,t,r={})=>s=>{const a=Xg(r,n)||{},u=a.delay||r.delay||0;let{elapsed:h=0}=r;h=h-Js(u);const f=$L(e,n,t,a),p=f[0],y=f[f.length-1],_=vm(n,p),E=vm(n,y);let I={keyframes:f,velocity:e.getVelocity(),ease:"easeOut",...a,delay:-h,onUpdate:D=>{e.set(D),a.onUpdate&&a.onUpdate(D)},onComplete:()=>{s(),a.onComplete&&a.onComplete()}};if(qL(a)||(I={...I,...ML(n,I)}),I.duration&&(I.duration=Js(I.duration)),I.repeatDelay&&(I.repeatDelay=Js(I.repeatDelay)),!_||!E||FV.current||a.type===!1||WL.skipAnimations)return NL(I);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const D=RL(e,n,I);if(D)return D}return qh(I)};function Wh(n){return!!(yn(n)&&n.add)}const c1=n=>/^\-?\d*\.?\d+$/.test(n);function Zg(n,e){n.indexOf(e)===-1&&n.push(e)}function ey(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class ty{constructor(){this.subscriptions=[]}add(e){return Zg(this.subscriptions,e),()=>ey(this.subscriptions,e)}notify(e,t,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,t,r);else for(let a=0;a<s;a++){const u=this.subscriptions[a];u&&u(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const HL=n=>!isNaN(parseFloat(n));class GL{constructor(e,t={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:a,timestamp:u}=Qt;this.lastUpdated!==u&&(this.timeDelta=a,this.lastUpdated=u,Ze.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ze.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=HL(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new ty);const r=this.events[e].add(t);return e==="change"?()=>{r(),Ze.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?s1(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ca(n,e){return new GL(n,e)}const h1=n=>e=>e.test(n),KL={test:n=>n==="auto",parse:n=>n},d1=[po,xe,Rr,Fi,tV,eV,KL],Ll=n=>d1.find(h1(n)),QL=[...d1,rn,os],YL=n=>QL.find(h1(n));function XL(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Ca(t))}function JL(n,e){const t=Pd(n,e);let{transitionEnd:r={},transition:s={},...a}=t?n.makeTargetAnimatable(t,!1):{};a={...a,...r};for(const u in a){const h=mV(a[u]);XL(n,u,h)}}function ZL(n,e,t){var r,s;const a=Object.keys(e).filter(h=>!n.hasValue(h)),u=a.length;if(u)for(let h=0;h<u;h++){const f=a[h],p=e[f];let y=null;Array.isArray(p)&&(y=p[0]),y===null&&(y=(s=(r=t[f])!==null&&r!==void 0?r:n.readValue(f))!==null&&s!==void 0?s:e[f]),y!=null&&(typeof y=="string"&&(c1(y)||u1(y))?y=parseFloat(y):!YL(y)&&os.test(p)&&(y=l1(f,p)),n.addValue(f,Ca(y,{owner:n})),t[f]===void 0&&(t[f]=y),y!==null&&n.setBaseTarget(f,y))}}function eM(n,e){return e?(e[n]||e.default||e).from:void 0}function tM(n,e,t){const r={};for(const s in n){const a=eM(s,e);if(a!==void 0)r[s]=a;else{const u=t.getValue(s);u&&(r[s]=u.get())}}return r}function nM({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function rM(n,e){const t=n.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}else return t!==e}function f1(n,e,{delay:t=0,transitionOverride:r,type:s}={}){let{transition:a=n.getDefaultTransition(),transitionEnd:u,...h}=n.makeTargetAnimatable(e);const f=n.getValue("willChange");r&&(a=r);const p=[],y=s&&n.animationState&&n.animationState.getState()[s];for(const _ in h){const E=n.getValue(_),I=h[_];if(!E||I===void 0||y&&nM(y,_))continue;const D={delay:t,elapsed:0,...Xg(a||{},_)};if(window.HandoffAppearAnimations){const H=n.getProps()[pI];if(H){const B=window.HandoffAppearAnimations(H,_,E,Ze);B!==null&&(D.elapsed=B,D.isHandoff=!0)}}let j=!D.isHandoff&&!rM(E,I);if(D.type==="spring"&&(E.getVelocity()||D.velocity)&&(j=!1),E.animation&&(j=!1),j)continue;E.start(Jg(_,E,I,n.shouldReduceMotion&&fo.has(_)?{type:!1}:D));const P=E.animation;Wh(f)&&(f.add(_),P.then(()=>f.remove(_))),p.push(P)}return u&&Promise.all(p).then(()=>{u&&JL(n,u)}),p}function _m(n,e,t={}){const r=Pd(n,e,t.custom);let{transition:s=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(s=t.transitionOverride);const a=r?()=>Promise.all(f1(n,r,t)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:_}=s;return iM(n,e,p+f,y,_,t)}:()=>Promise.resolve(),{when:h}=s;if(h){const[f,p]=h==="beforeChildren"?[a,u]:[u,a];return f().then(()=>p())}else return Promise.all([a(),u(t.delay)])}function iM(n,e,t=0,r=0,s=1,a){const u=[],h=(n.variantChildren.size-1)*r,f=s===1?(p=0)=>p*r:(p=0)=>h-p*r;return Array.from(n.variantChildren).sort(sM).forEach((p,y)=>{p.notify("AnimationStart",e),u.push(_m(p,e,{...a,delay:t+f(y)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(u)}function sM(n,e){return n.sortNodePosition(e)}function oM(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>_m(n,a,t));r=Promise.all(s)}else if(typeof e=="string")r=_m(n,e,t);else{const s=typeof e=="function"?Pd(n,e,t.custom):e;r=Promise.all(f1(n,s,t))}return r.then(()=>n.notify("AnimationComplete",e))}const aM=[...Lg].reverse(),lM=Lg.length;function uM(n){return e=>Promise.all(e.map(({animation:t,options:r})=>oM(n,t,r)))}function cM(n){let e=uM(n);const t=dM();let r=!0;const s=(f,p)=>{const y=Pd(n,p);if(y){const{transition:_,transitionEnd:E,...I}=y;f={...f,...I,...E}}return f};function a(f){e=f(n)}function u(f,p){const y=n.getProps(),_=n.getVariantContext(!0)||{},E=[],I=new Set;let D={},j=1/0;for(let H=0;H<lM;H++){const B=aM[H],R=t[B],K=y[B]!==void 0?y[B]:_[B],re=gu(K),ne=B===p?R.isActive:null;ne===!1&&(j=H);let N=K===_[B]&&K!==y[B]&&re;if(N&&r&&n.manuallyAnimateOnMount&&(N=!1),R.protectedKeys={...D},!R.isActive&&ne===null||!K&&!R.prevProp||Ed(K)||typeof K=="boolean")continue;let C=hM(R.prevProp,K)||B===p&&R.isActive&&!N&&re||H>j&&re,V=!1;const U=Array.isArray(K)?K:[K];let z=U.reduce(s,{});ne===!1&&(z={});const{prevResolvedValues:k={}}=R,ce={...k,...z},tt=De=>{C=!0,I.has(De)&&(V=!0,I.delete(De)),R.needsAnimating[De]=!0};for(const De in ce){const Ce=z[De],se=k[De];if(D.hasOwnProperty(De))continue;let fe=!1;Bh(Ce)&&Bh(se)?fe=!LI(Ce,se):fe=Ce!==se,fe?Ce!==void 0?tt(De):I.add(De):Ce!==void 0&&I.has(De)?tt(De):R.protectedKeys[De]=!0}R.prevProp=K,R.prevResolvedValues=z,R.isActive&&(D={...D,...z}),r&&n.blockInitialAnimation&&(C=!1),C&&(!N||V)&&E.push(...U.map(De=>({animation:De,options:{type:B,...f}})))}if(I.size){const H={};I.forEach(B=>{const R=n.getBaseTarget(B);R!==void 0&&(H[B]=R)}),E.push({animation:H})}let P=!!E.length;return r&&(y.initial===!1||y.initial===y.animate)&&!n.manuallyAnimateOnMount&&(P=!1),r=!1,P?e(E):Promise.resolve()}function h(f,p,y){var _;if(t[f].isActive===p)return Promise.resolve();(_=n.variantChildren)===null||_===void 0||_.forEach(I=>{var D;return(D=I.animationState)===null||D===void 0?void 0:D.setActive(f,p)}),t[f].isActive=p;const E=u(y,f);for(const I in t)t[I].protectedKeys={};return E}return{animateChanges:u,setActive:h,setAnimateFunction:a,getState:()=>t}}function hM(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!LI(e,n):!1}function zs(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function dM(){return{animate:zs(!0),whileInView:zs(),whileHover:zs(),whileTap:zs(),whileDrag:zs(),whileFocus:zs(),exit:zs()}}class fM extends ds{constructor(e){super(e),e.animationState||(e.animationState=cM(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Ed(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let pM=0;class mM extends ds{constructor(){super(...arguments),this.id=pM++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});t&&!e&&a.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const gM={animation:{Feature:fM},exit:{Feature:mM}},g_=(n,e)=>Math.abs(n-e);function yM(n,e){const t=g_(n.x,e.x),r=g_(n.y,e.y);return Math.sqrt(t**2+r**2)}class p1{constructor(e,t,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=bp(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,I=yM(_.offset,{x:0,y:0})>=3;if(!E&&!I)return;const{point:D}=_,{timestamp:j}=Qt;this.history.push({...D,timestamp:j});const{onStart:P,onMove:H}=this.handlers;E||(P&&P(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),H&&H(this.lastMoveEvent,_)},this.handlePointerMove=(_,E)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=Cp(E,this.transformPagePoint),Ze.update(this.updatePoint,!0)},this.handlePointerUp=(_,E)=>{this.end();const{onEnd:I,onSessionEnd:D,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=bp(_.type==="pointercancel"?this.lastMoveEventInfo:Cp(E,this.transformPagePoint),this.history);this.startEvent&&I&&I(_,P),D&&D(_,P)},!RI(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=r,this.contextWindow=s||window;const u=Sd(e),h=Cp(u,this.transformPagePoint),{point:f}=h,{timestamp:p}=Qt;this.history=[{...f,timestamp:p}];const{onSessionStart:y}=t;y&&y(e,bp(h,this.history)),this.removeListeners=es(ri(this.contextWindow,"pointermove",this.handlePointerMove),ri(this.contextWindow,"pointerup",this.handlePointerUp),ri(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ui(this.updatePoint)}}function Cp(n,e){return e?{point:e(n.point)}:n}function y_(n,e){return{x:n.x-e.x,y:n.y-e.y}}function bp({point:n},e){return{point:n,delta:y_(n,m1(e)),offset:y_(n,vM(e)),velocity:wM(e,.1)}}function vM(n){return n[0]}function m1(n){return n[n.length-1]}function wM(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const s=m1(n);for(;t>=0&&(r=n[t],!(s.timestamp-r.timestamp>Js(e)));)t--;if(!r)return{x:0,y:0};const a=ii(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const u={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function An(n){return n.max-n.min}function xm(n,e=0,t=.01){return Math.abs(n-e)<=t}function v_(n,e,t,r=.5){n.origin=r,n.originPoint=ct(e.min,e.max,n.origin),n.scale=An(t)/An(e),(xm(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=ct(t.min,t.max,n.origin)-n.originPoint,(xm(n.translate)||isNaN(n.translate))&&(n.translate=0)}function eu(n,e,t,r){v_(n.x,e.x,t.x,r?r.originX:void 0),v_(n.y,e.y,t.y,r?r.originY:void 0)}function w_(n,e,t){n.min=t.min+e.min,n.max=n.min+An(e)}function _M(n,e,t){w_(n.x,e.x,t.x),w_(n.y,e.y,t.y)}function __(n,e,t){n.min=e.min-t.min,n.max=n.min+An(e)}function tu(n,e,t){__(n.x,e.x,t.x),__(n.y,e.y,t.y)}function xM(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?ct(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?ct(t,n,r.max):Math.min(n,t)),n}function x_(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function EM(n,{top:e,left:t,bottom:r,right:s}){return{x:x_(n.x,t,s),y:x_(n.y,e,r)}}function E_(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function TM(n,e){return{x:E_(n.x,e.x),y:E_(n.y,e.y)}}function IM(n,e){let t=.5;const r=An(n),s=An(e);return s>r?t=vu(e.min,e.max-r,n.min):r>s&&(t=vu(n.min,n.max-s,e.min)),ss(0,1,t)}function SM(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Em=.35;function PM(n=Em){return n===!1?n=0:n===!0&&(n=Em),{x:T_(n,"left","right"),y:T_(n,"top","bottom")}}function T_(n,e,t){return{min:I_(n,e),max:I_(n,t)}}function I_(n,e){return typeof n=="number"?n:n[e]||0}const S_=()=>({translate:0,scale:1,origin:0,originPoint:0}),pa=()=>({x:S_(),y:S_()}),P_=()=>({min:0,max:0}),xt=()=>({x:P_(),y:P_()});function Fn(n){return[n("x"),n("y")]}function g1({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function AM({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function kM(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function Rp(n){return n===void 0||n===1}function Tm({scale:n,scaleX:e,scaleY:t}){return!Rp(n)||!Rp(e)||!Rp(t)}function qs(n){return Tm(n)||y1(n)||n.z||n.rotate||n.rotateX||n.rotateY}function y1(n){return A_(n.x)||A_(n.y)}function A_(n){return n&&n!=="0%"}function Hh(n,e,t){const r=n-t,s=e*r;return t+s}function k_(n,e,t,r,s){return s!==void 0&&(n=Hh(n,s,r)),Hh(n,t,r)+e}function Im(n,e=0,t=1,r,s){n.min=k_(n.min,e,t,r,s),n.max=k_(n.max,e,t,r,s)}function v1(n,{x:e,y:t}){Im(n.x,e.translate,e.scale,e.originPoint),Im(n.y,t.translate,t.scale,t.originPoint)}function CM(n,e,t,r=!1){const s=t.length;if(!s)return;e.x=e.y=1;let a,u;for(let h=0;h<s;h++){a=t[h],u=a.projectionDelta;const f=a.instance;f&&f.style&&f.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&ma(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,v1(n,u)),r&&qs(a.latestValues)&&ma(n,a.latestValues))}e.x=C_(e.x),e.y=C_(e.y)}function C_(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function Ui(n,e){n.min=n.min+e,n.max=n.max+e}function b_(n,e,[t,r,s]){const a=e[s]!==void 0?e[s]:.5,u=ct(n.min,n.max,a);Im(n,e[t],e[r],u,e.scale)}const bM=["x","scaleX","originX"],RM=["y","scaleY","originY"];function ma(n,e){b_(n.x,e,bM),b_(n.y,e,RM)}function w1(n,e){return g1(kM(n.getBoundingClientRect(),e))}function NM(n,e,t){const r=w1(n,t),{scroll:s}=e;return s&&(Ui(r.x,s.offset.x),Ui(r.y,s.offset.y)),r}const _1=({current:n})=>n?n.ownerDocument.defaultView:null,DM=new WeakMap;class jM{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=xt(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=y=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Sd(y,"page").point)},a=(y,_)=>{const{drag:E,dragPropagation:I,onDragStart:D}=this.getProps();if(E&&!I&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=DI(E),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Fn(P=>{let H=this.getAxisMotionValue(P).get()||0;if(Rr.test(H)){const{projection:B}=this.visualElement;if(B&&B.layout){const R=B.layout.layoutBox[P];R&&(H=An(R)*(parseFloat(H)/100))}}this.originPoint[P]=H}),D&&Ze.update(()=>D(y,_),!1,!0);const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},u=(y,_)=>{const{dragPropagation:E,dragDirectionLock:I,onDirectionLock:D,onDrag:j}=this.getProps();if(!E&&!this.openGlobalLock)return;const{offset:P}=_;if(I&&this.currentDirection===null){this.currentDirection=VM(P),this.currentDirection!==null&&D&&D(this.currentDirection);return}this.updateAxis("x",_.point,P),this.updateAxis("y",_.point,P),this.visualElement.render(),j&&j(y,_)},h=(y,_)=>this.stop(y,_),f=()=>Fn(y=>{var _;return this.getAnimationState(y)==="paused"&&((_=this.getAxisMotionValue(y).animation)===null||_===void 0?void 0:_.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new p1(e,{onSessionStart:s,onStart:a,onMove:u,onSessionEnd:h,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:_1(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=t;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&Ze.update(()=>a(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:s}=this.getProps();if(!r||!uh(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=xM(u,this.constraints[e],this.elastic[e])),a.set(u)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;t&&da(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=EM(s.layoutBox,t):this.constraints=!1,this.elastic=PM(r),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Fn(u=>{this.getAxisMotionValue(u)&&(this.constraints[u]=SM(s.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!da(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=NM(r,s.root,this.visualElement.getTransformPagePoint());let u=TM(s.layout.layoutBox,a);if(t){const h=t(AM(u));this.hasMutatedConstraints=!!h,h&&(u=g1(h))}return u}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},p=Fn(y=>{if(!uh(y,t,this.currentDirection))return;let _=f&&f[y]||{};u&&(_={min:0,max:0});const E=s?200:1e6,I=s?40:1e7,D={type:"inertia",velocity:r?e[y]:0,bounceStiffness:E,bounceDamping:I,timeConstant:750,restDelta:1,restSpeed:10,...a,..._};return this.startAxisValueAnimation(y,D)});return Promise.all(p).then(h)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return r.start(Jg(e,r,0,t))}stopAnimation(){Fn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Fn(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),s=r[t];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Fn(t=>{const{drag:r}=this.getProps();if(!uh(t,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(t);if(s&&s.layout){const{min:u,max:h}=s.layout.layoutBox[t];a.set(e[t]-ct(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!da(t)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Fn(u=>{const h=this.getAxisMotionValue(u);if(h){const f=h.get();s[u]=IM({min:f,max:f},this.constraints[u])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Fn(u=>{if(!uh(u,e,null))return;const h=this.getAxisMotionValue(u),{min:f,max:p}=this.constraints[u];h.set(ct(f,p,s[u]))})}addListeners(){if(!this.visualElement.current)return;DM.set(this.visualElement,this);const e=this.visualElement.current,t=ri(e,"pointerdown",f=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();da(f)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const u=ti(window,"resize",()=>this.scalePositionWithinConstraints()),h=s.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(Fn(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=f[y].translate,_.set(_.get()+f[y].translate))}),this.visualElement.render())});return()=>{u(),t(),a(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:u=Em,dragMomentum:h=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:u,dragMomentum:h}}}function uh(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function VM(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class LM extends ds{constructor(e){super(e),this.removeGroupControls=gt,this.removeListeners=gt,this.controls=new jM(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||gt}unmount(){this.removeGroupControls(),this.removeListeners()}}const R_=n=>(e,t)=>{n&&Ze.update(()=>n(e,t))};class MM extends ds{constructor(){super(...arguments),this.removePointerDownListener=gt}onPointerDown(e){this.session=new p1(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_1(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:R_(e),onStart:R_(t),onMove:r,onEnd:(a,u)=>{delete this.session,s&&Ze.update(()=>s(a,u))}}}mount(){this.removePointerDownListener=ri(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function OM(){const n=M.useContext(_d);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:r}=n,s=M.useId();return M.useEffect(()=>r(s),[]),!e&&t?[!1,()=>t&&t(s)]:[!0]}const _h={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function N_(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Ml={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(xe.test(n))n=parseFloat(n);else return n;const t=N_(n,e.target.x),r=N_(n,e.target.y);return`${t}% ${r}%`}},FM={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,s=os.parse(n);if(s.length>5)return r;const a=os.createTransformer(n),u=typeof s[0]!="number"?1:0,h=t.x.scale*e.x,f=t.y.scale*e.y;s[0+u]/=h,s[1+u]/=f;const p=ct(h,f,.5);return typeof s[2+u]=="number"&&(s[2+u]/=p),typeof s[3+u]=="number"&&(s[3+u]/=p),a(s)}};class UM extends km.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;Gj(BM),a&&(t.group&&t.group.add(a),r&&r.register&&s&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),_h.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:s,isPresent:a}=this.props,u=r.projection;return u&&(u.isPresent=a,s||e.layoutDependency!==t||t===void 0?u.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?u.promote():u.relegate()||Ze.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function x1(n){const[e,t]=OM(),r=M.useContext(Og);return km.createElement(UM,{...n,layoutGroup:r,switchLayoutGroup:M.useContext(gI),isPresent:e,safeToRemove:t})}const BM={borderRadius:{...Ml,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ml,borderTopRightRadius:Ml,borderBottomLeftRadius:Ml,borderBottomRightRadius:Ml,boxShadow:FM},E1=["TopLeft","TopRight","BottomLeft","BottomRight"],zM=E1.length,D_=n=>typeof n=="string"?parseFloat(n):n,j_=n=>typeof n=="number"||xe.test(n);function $M(n,e,t,r,s,a){s?(n.opacity=ct(0,t.opacity!==void 0?t.opacity:1,qM(r)),n.opacityExit=ct(e.opacity!==void 0?e.opacity:1,0,WM(r))):a&&(n.opacity=ct(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let u=0;u<zM;u++){const h=`border${E1[u]}Radius`;let f=V_(e,h),p=V_(t,h);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||j_(f)===j_(p)?(n[h]=Math.max(ct(D_(f),D_(p),r),0),(Rr.test(p)||Rr.test(f))&&(n[h]+="%")):n[h]=p}(e.rotate||t.rotate)&&(n.rotate=ct(e.rotate||0,t.rotate||0,r))}function V_(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const qM=T1(0,.5,WI),WM=T1(.5,.95,gt);function T1(n,e,t){return r=>r<n?0:r>e?1:t(vu(n,e,r))}function L_(n,e){n.min=e.min,n.max=e.max}function On(n,e){L_(n.x,e.x),L_(n.y,e.y)}function M_(n,e,t,r,s){return n-=e,n=Hh(n,1/t,r),s!==void 0&&(n=Hh(n,1/s,r)),n}function HM(n,e=0,t=1,r=.5,s,a=n,u=n){if(Rr.test(e)&&(e=parseFloat(e),e=ct(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=ct(a.min,a.max,r);n===a&&(h-=e),n.min=M_(n.min,e,t,h,s),n.max=M_(n.max,e,t,h,s)}function O_(n,e,[t,r,s],a,u){HM(n,e[t],e[r],e[s],e.scale,a,u)}const GM=["x","scaleX","originX"],KM=["y","scaleY","originY"];function F_(n,e,t,r){O_(n.x,e,GM,t?t.x:void 0,r?r.x:void 0),O_(n.y,e,KM,t?t.y:void 0,r?r.y:void 0)}function U_(n){return n.translate===0&&n.scale===1}function I1(n){return U_(n.x)&&U_(n.y)}function QM(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function S1(n,e){return Math.round(n.x.min)===Math.round(e.x.min)&&Math.round(n.x.max)===Math.round(e.x.max)&&Math.round(n.y.min)===Math.round(e.y.min)&&Math.round(n.y.max)===Math.round(e.y.max)}function B_(n){return An(n.x)/An(n.y)}class YM{constructor(){this.members=[]}add(e){Zg(this.members,e),e.scheduleRender()}remove(e){if(ey(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(s=>e===s);if(t===0)return!1;let r;for(let s=t;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function z_(n,e,t){let r="";const s=n.x.translate/e.x,a=n.y.translate/e.y;if((s||a)&&(r=`translate3d(${s}px, ${a}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:f,rotateX:p,rotateY:y}=t;f&&(r+=`rotate(${f}deg) `),p&&(r+=`rotateX(${p}deg) `),y&&(r+=`rotateY(${y}deg) `)}const u=n.x.scale*e.x,h=n.y.scale*e.y;return(u!==1||h!==1)&&(r+=`scale(${u}, ${h})`),r||"none"}const XM=(n,e)=>n.depth-e.depth;class JM{constructor(){this.children=[],this.isDirty=!1}add(e){Zg(this.children,e),this.isDirty=!0}remove(e){ey(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(XM),this.isDirty=!1,this.children.forEach(e)}}function ZM(n,e){const t=performance.now(),r=({timestamp:s})=>{const a=s-t;a>=e&&(ui(r),n(a-e))};return Ze.read(r,!0),()=>ui(r)}function eO(n){window.MotionDebug&&window.MotionDebug.record(n)}function tO(n){return n instanceof SVGElement&&n.tagName!=="svg"}function nO(n,e,t){const r=yn(n)?n:Ca(n);return r.start(Jg("",r,e,t)),r.animation}const $_=["","X","Y","Z"],rO={visibility:"hidden"},q_=1e3;let iO=0;const Ws={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function P1({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(u={},h=e?.()){this.id=iO++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ws.totalNodes=Ws.resolvedTargetDeltas=Ws.recalculatedProjection=0,this.nodes.forEach(aO),this.nodes.forEach(dO),this.nodes.forEach(fO),this.nodes.forEach(lO),eO(Ws)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new JM)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new ty),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const f=this.eventHandlers.get(u);f&&f.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=tO(u),this.instance=u;const{layoutId:f,layout:p,visualElement:y}=this.options;if(y&&!y.current&&y.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(p||f)&&(this.isLayoutDirty=!0),n){let _;const E=()=>this.root.updateBlockedByResize=!1;n(u,()=>{this.root.updateBlockedByResize=!0,_&&_(),_=ZM(E,250),_h.hasAnimatedSinceResize&&(_h.hasAnimatedSinceResize=!1,this.nodes.forEach(H_))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&y&&(f||p)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:E,hasRelativeTargetChanged:I,layout:D})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||y.getDefaultTransition()||vO,{onLayoutAnimationStart:P,onLayoutAnimationComplete:H}=y.getProps(),B=!this.targetLayout||!S1(this.targetLayout,D)||I,R=!E&&I;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||R||E&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(_,R);const K={...Xg(j,"layout"),onPlay:P,onComplete:H};(y.shouldReduceMotion||this.options.layoutRoot)&&(K.delay=0,K.type=!1),this.startAnimation(K)}else E||H_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=D})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ui(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(pO),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(W_);return}this.isUpdating||this.nodes.forEach(cO),this.isUpdating=!1,this.nodes.forEach(hO),this.nodes.forEach(sO),this.nodes.forEach(oO),this.clearAllSnapshots();const h=performance.now();Qt.delta=ss(0,1e3/60,h-Qt.timestamp),Qt.timestamp=h,Qt.isProcessing=!0,xp.update.process(Qt),xp.preRender.process(Qt),xp.render.process(Qt),Qt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(uO),this.sharedNodes.forEach(mO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ze.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ze.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=xt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&(this.scroll={animationId:this.root.animationId,phase:u,isRoot:r(this.instance),offset:t(this.instance)})}resetTransform(){if(!s)return;const u=this.isLayoutDirty||this.shouldResetTransform,h=this.projectionDelta&&!I1(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;u&&(h||qs(this.latestValues)||y)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return u&&(f=this.removeTransform(f)),wO(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return xt();const h=u.measureViewportBox(),{scroll:f}=this.root;return f&&(Ui(h.x,f.offset.x),Ui(h.y,f.offset.y)),h}removeElementScroll(u){const h=xt();On(h,u);for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:y,options:_}=p;if(p!==this.root&&y&&_.layoutScroll){if(y.isRoot){On(h,u);const{scroll:E}=this.root;E&&(Ui(h.x,-E.offset.x),Ui(h.y,-E.offset.y))}Ui(h.x,y.offset.x),Ui(h.y,y.offset.y)}}return h}applyTransform(u,h=!1){const f=xt();On(f,u);for(let p=0;p<this.path.length;p++){const y=this.path[p];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&ma(f,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),qs(y.latestValues)&&ma(f,y.latestValues)}return qs(this.latestValues)&&ma(f,this.latestValues),f}removeTransform(u){const h=xt();On(h,u);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!qs(p.latestValues))continue;Tm(p.latestValues)&&p.updateSnapshot();const y=xt(),_=p.measurePageBox();On(y,_),F_(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return qs(this.latestValues)&&F_(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Qt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var h;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==f;if(!(u||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:_,layoutId:E}=this.options;if(!(!this.layout||!(_||E))){if(this.resolvedRelativeTargetAt=Qt.timestamp,!this.targetDelta&&!this.relativeTarget){const I=this.getClosestProjectingParent();I&&I.layout&&this.animationProgress!==1?(this.relativeParent=I,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xt(),this.relativeTargetOrigin=xt(),tu(this.relativeTargetOrigin,this.layout.layoutBox,I.layout.layoutBox),On(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=xt(),this.targetWithTransforms=xt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_M(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):On(this.target,this.layout.layoutBox),v1(this.target,this.targetDelta)):On(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const I=this.getClosestProjectingParent();I&&!!I.resumingFrom==!!this.resumingFrom&&!I.options.layoutScroll&&I.target&&this.animationProgress!==1?(this.relativeParent=I,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xt(),this.relativeTargetOrigin=xt(),tu(this.relativeTargetOrigin,this.target,I.target),On(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ws.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Tm(this.parent.latestValues)||y1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const h=this.getLead(),f=!!this.resumingFrom||this!==h;let p=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(p=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Qt.timestamp&&(p=!1),p)return;const{layout:y,layoutId:_}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||_))return;On(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,I=this.treeScale.y;CM(this.layoutCorrected,this.treeScale,this.path,f),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox);const{target:D}=h;if(!D){this.projectionTransform&&(this.projectionDelta=pa(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=pa(),this.projectionDeltaWithTransform=pa());const j=this.projectionTransform;eu(this.projectionDelta,this.layoutCorrected,D,this.latestValues),this.projectionTransform=z_(this.projectionDelta,this.treeScale),(this.projectionTransform!==j||this.treeScale.x!==E||this.treeScale.y!==I)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",D)),Ws.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(u,h=!1){const f=this.snapshot,p=f?f.latestValues:{},y={...this.latestValues},_=pa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const E=xt(),I=f?f.source:void 0,D=this.layout?this.layout.source:void 0,j=I!==D,P=this.getStack(),H=!P||P.members.length<=1,B=!!(j&&!H&&this.options.crossfade===!0&&!this.path.some(yO));this.animationProgress=0;let R;this.mixTargetDelta=K=>{const re=K/1e3;G_(_.x,u.x,re),G_(_.y,u.y,re),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(tu(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),gO(this.relativeTarget,this.relativeTargetOrigin,E,re),R&&QM(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=xt()),On(R,this.relativeTarget)),j&&(this.animationValues=y,$M(y,p,this.latestValues,re,B,H)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=re},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ui(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ze.update(()=>{_h.hasAnimatedSinceResize=!0,this.currentAnimation=nO(0,q_,{...u,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(q_),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:f,layout:p,latestValues:y}=u;if(!(!h||!f||!p)){if(this!==u&&this.layout&&p&&A1(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||xt();const _=An(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+_;const E=An(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+E}On(h,f),ma(h,y),eu(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new YM),this.sharedNodes.get(u).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:h}=this.options;return h?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:h}=this.options;return h?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:f}=u;if((f.rotate||f.rotateX||f.rotateY||f.rotateZ)&&(h=!0),!h)return;const p={};for(let y=0;y<$_.length;y++){const _="rotate"+$_[y];f[_]&&(p[_]=f[_],u.setStaticValue(_,0))}u.render();for(const y in p)u.setStaticValue(y,p[y]);u.scheduleRender()}getProjectionStyles(u){var h,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return rO;const p={visibility:""},y=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=wh(u?.pointerEvents)||"",p.transform=y?y(this.latestValues,""):"none",p;const _=this.getLead();if(!this.projectionDelta||!this.layout||!_.target){const j={};return this.options.layoutId&&(j.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,j.pointerEvents=wh(u?.pointerEvents)||""),this.hasProjected&&!qs(this.latestValues)&&(j.transform=y?y({},""):"none",this.hasProjected=!1),j}const E=_.animationValues||_.latestValues;this.applyTransformsToTarget(),p.transform=z_(this.projectionDeltaWithTransform,this.treeScale,E),y&&(p.transform=y(E,p.transform));const{x:I,y:D}=this.projectionDelta;p.transformOrigin=`${I.origin*100}% ${D.origin*100}% 0`,_.animationValues?p.opacity=_===this?(f=(h=E.opacity)!==null&&h!==void 0?h:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:E.opacityExit:p.opacity=_===this?E.opacity!==void 0?E.opacity:"":E.opacityExit!==void 0?E.opacityExit:0;for(const j in Fh){if(E[j]===void 0)continue;const{correct:P,applyTo:H}=Fh[j],B=p.transform==="none"?E[j]:P(E[j],_);if(H){const R=H.length;for(let K=0;K<R;K++)p[H[K]]=B}else p[j]=B}return this.options.layoutId&&(p.pointerEvents=_===this?wh(u?.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var h;return(h=u.currentAnimation)===null||h===void 0?void 0:h.stop()}),this.root.nodes.forEach(W_),this.root.sharedNodes.clear()}}}function sO(n){n.updateLayout()}function oO(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=n.layout,{animationType:a}=n.options,u=t.source!==n.layout.source;a==="size"?Fn(_=>{const E=u?t.measuredBox[_]:t.layoutBox[_],I=An(E);E.min=r[_].min,E.max=E.min+I}):A1(a,t.layoutBox,r)&&Fn(_=>{const E=u?t.measuredBox[_]:t.layoutBox[_],I=An(r[_]);E.max=E.min+I,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[_].max=n.relativeTarget[_].min+I)});const h=pa();eu(h,r,t.layoutBox);const f=pa();u?eu(f,n.applyTransform(s,!0),t.measuredBox):eu(f,r,t.layoutBox);const p=!I1(h);let y=!1;if(!n.resumeFrom){const _=n.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:E,layout:I}=_;if(E&&I){const D=xt();tu(D,t.layoutBox,E.layoutBox);const j=xt();tu(j,r,I.layoutBox),S1(D,j)||(y=!0),_.options.layoutRoot&&(n.relativeTarget=j,n.relativeTargetOrigin=D,n.relativeParent=_)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:f,layoutDelta:h,hasLayoutChanged:p,hasRelativeTargetChanged:y})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function aO(n){Ws.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function lO(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function uO(n){n.clearSnapshot()}function W_(n){n.clearMeasurements()}function cO(n){n.isLayoutDirty=!1}function hO(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function H_(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function dO(n){n.resolveTargetDelta()}function fO(n){n.calcProjection()}function pO(n){n.resetRotation()}function mO(n){n.removeLeadSnapshot()}function G_(n,e,t){n.translate=ct(e.translate,0,t),n.scale=ct(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function K_(n,e,t,r){n.min=ct(e.min,t.min,r),n.max=ct(e.max,t.max,r)}function gO(n,e,t,r){K_(n.x,e.x,t.x,r),K_(n.y,e.y,t.y,r)}function yO(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const vO={duration:.45,ease:[.4,0,.1,1]},Q_=n=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(n),Y_=Q_("applewebkit/")&&!Q_("chrome/")?Math.round:gt;function X_(n){n.min=Y_(n.min),n.max=Y_(n.max)}function wO(n){X_(n.x),X_(n.y)}function A1(n,e,t){return n==="position"||n==="preserve-aspect"&&!xm(B_(e),B_(t),.2)}const _O=P1({attachResizeListener:(n,e)=>ti(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Np={current:void 0},k1=P1({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Np.current){const n=new _O({});n.mount(window),n.setOptions({layoutScroll:!0}),Np.current=n}return Np.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),xO={pan:{Feature:MM},drag:{Feature:LM,ProjectionNode:k1,MeasureLayout:x1}},EO=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function TO(n){const e=EO.exec(n);if(!e)return[,];const[,t,r]=e;return[t,r]}function Sm(n,e,t=1){const[r,s]=TO(n);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const u=a.trim();return c1(u)?parseFloat(u):u}else return pm(s)?Sm(s,e,t+1):s}function IO(n,{...e},t){const r=n.current;if(!(r instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(s=>{const a=s.get();if(!pm(a))return;const u=Sm(a,r);u&&s.set(u)});for(const s in e){const a=e[s];if(!pm(a))continue;const u=Sm(a,r);u&&(e[s]=u,t||(t={}),t[s]===void 0&&(t[s]=a))}return{target:e,transitionEnd:t}}const SO=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),C1=n=>SO.has(n),PO=n=>Object.keys(n).some(C1),J_=n=>n===po||n===xe,Z_=(n,e)=>parseFloat(n.split(", ")[e]),ex=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return Z_(s[1],e);{const a=r.match(/^matrix\((.+)\)$/);return a?Z_(a[1],n):0}},AO=new Set(["x","y","z"]),kO=ju.filter(n=>!AO.has(n));function CO(n){const e=[];return kO.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const ba={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:ex(4,13),y:ex(5,14)};ba.translateX=ba.x;ba.translateY=ba.y;const bO=(n,e,t)=>{const r=e.measureViewportBox(),s=e.current,a=getComputedStyle(s),{display:u}=a,h={};u==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(p=>{h[p]=ba[p](r,a)}),e.render();const f=e.measureViewportBox();return t.forEach(p=>{const y=e.getValue(p);y&&y.jump(h[p]),n[p]=ba[p](f,a)}),n},RO=(n,e,t={},r={})=>{e={...e},r={...r};const s=Object.keys(e).filter(C1);let a=[],u=!1;const h=[];if(s.forEach(f=>{const p=n.getValue(f);if(!n.hasValue(f))return;let y=t[f],_=Ll(y);const E=e[f];let I;if(Bh(E)){const D=E.length,j=E[0]===null?1:0;y=E[j],_=Ll(y);for(let P=j;P<D&&E[P]!==null;P++)I?Hg(Ll(E[P])===I):I=Ll(E[P])}else I=Ll(E);if(_!==I)if(J_(_)&&J_(I)){const D=p.get();typeof D=="string"&&p.set(parseFloat(D)),typeof E=="string"?e[f]=parseFloat(E):Array.isArray(E)&&I===xe&&(e[f]=E.map(parseFloat))}else _?.transform&&I?.transform&&(y===0||E===0)?y===0?p.set(I.transform(y)):e[f]=_.transform(E):(u||(a=CO(n),u=!0),h.push(f),r[f]=r[f]!==void 0?r[f]:e[f],p.jump(E))}),h.length){const f=h.indexOf("height")>=0?window.pageYOffset:null,p=bO(e,n,h);return a.length&&a.forEach(([y,_])=>{n.getValue(y).set(_)}),n.render(),xd&&f!==null&&window.scrollTo({top:f}),{target:p,transitionEnd:r}}else return{target:e,transitionEnd:r}};function NO(n,e,t,r){return PO(e)?RO(n,e,t,r):{target:e,transitionEnd:r}}const DO=(n,e,t,r)=>{const s=IO(n,e,r);return e=s.target,r=s.transitionEnd,NO(n,e,t,r)},Pm={current:null},b1={current:!1};function jO(){if(b1.current=!0,!!xd)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Pm.current=n.matches;n.addListener(e),e()}else Pm.current=!1}function VO(n,e,t){const{willChange:r}=e;for(const s in e){const a=e[s],u=t[s];if(yn(a))n.addValue(s,a),Wh(r)&&r.add(s);else if(yn(u))n.addValue(s,Ca(a,{owner:n})),Wh(r)&&r.remove(s);else if(u!==a)if(n.hasValue(s)){const h=n.getValue(s);!h.hasAnimated&&h.set(a)}else{const h=n.getStaticValue(s);n.addValue(s,Ca(h!==void 0?h:a,{owner:n}))}}for(const s in t)e[s]===void 0&&n.removeValue(s);return e}const tx=new WeakMap,R1=Object.keys(yu),LO=R1.length,nx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],MO=Mg.length;class OO{constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:s,visualState:a},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ze.render(this.render,!1,!0);const{latestValues:h,renderState:f}=a;this.latestValues=h,this.baseTarget={...h},this.initialValues=t.initial?{...h}:{},this.renderState=f,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.isControllingVariants=Td(t),this.isVariantNode=mI(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...y}=this.scrapeMotionValuesFromProps(t,{});for(const _ in y){const E=y[_];h[_]!==void 0&&yn(E)&&(E.set(h[_],!1),Wh(p)&&p.add(_))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,tx.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),b1.current||jO(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Pm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){tx.delete(this.current),this.projection&&this.projection.unmount(),ui(this.notifyUpdate),ui(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const r=fo.has(e),s=t.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Ze.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),a()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},r,s,a){let u,h;for(let f=0;f<LO;f++){const p=R1[f],{isEnabled:y,Feature:_,ProjectionNode:E,MeasureLayout:I}=yu[p];E&&(u=E),y(t)&&(!this.features[p]&&_&&(this.features[p]=new _(this)),I&&(h=I))}if((this.type==="html"||this.type==="svg")&&!this.projection&&u){this.projection=new u(this.latestValues,this.parent&&this.parent.projection);const{layoutId:f,layout:p,drag:y,dragConstraints:_,layoutScroll:E,layoutRoot:I}=t;this.projection.setOptions({layoutId:f,layout:p,alwaysMeasureLayout:!!y||_&&da(_),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof p=="string"?p:"both",initialPromotionConfig:a,layoutScroll:E,layoutRoot:I})}return h}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):xt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<nx.length;r++){const s=nx[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a=e["on"+s];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=VO(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const t={};for(let r=0;r<MO;r++){const s=Mg[r],a=this.props[s];(gu(a)||a===!1)&&(t[s]=a)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=Ca(t,{owner:this}),this.addValue(e,r)),r}readValue(e){var t;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(t=this.getBaseTargetFromProps(this.props,e))!==null&&t!==void 0?t:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(t=Wg(this.props,r))===null||t===void 0?void 0:t[e]:void 0;if(r&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!yn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new ty),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class N1 extends OO{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...r},{transformValues:s},a){let u=tM(r,e||{},this);if(s&&(t&&(t=s(t)),r&&(r=s(r)),u&&(u=s(u))),a){ZL(this,r,u);const h=DO(this,r,u,t);t=h.transitionEnd,r=h.target}return{transition:e,transitionEnd:t,...r}}}function FO(n){return window.getComputedStyle(n)}class UO extends N1{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(fo.has(t)){const r=Yg(t);return r&&r.default||0}else{const r=FO(e),s=(wI(t)?r.getPropertyValue(t):r[t])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return w1(e,t)}build(e,t,r,s){Ug(e,t,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,t){return qg(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;yn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,r,s){SI(e,t,r,s)}}class BO extends N1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(fo.has(t)){const r=Yg(t);return r&&r.default||0}return t=PI.has(t)?t:Vg(t),e.getAttribute(t)}measureInstanceViewportBox(){return xt()}scrapeMotionValuesFromProps(e,t){return kI(e,t)}build(e,t,r,s){zg(e,t,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,t,r,s){AI(e,t,r,s)}mount(e){this.isSVGTag=$g(e.tagName),super.mount(e)}}const zO=(n,e)=>Fg(n)?new BO(e,{enableHardwareAcceleration:!1}):new UO(e,{enableHardwareAcceleration:!0}),$O={layout:{ProjectionNode:k1,MeasureLayout:x1}},qO={...gM,...LV,...xO,...$O},Ne=Wj((n,e)=>TV(n,e,qO,zO));function D1(){const n=M.useRef(!1);return jg(()=>(n.current=!0,()=>{n.current=!1}),[]),n}function WO(){const n=D1(),[e,t]=M.useState(0),r=M.useCallback(()=>{n.current&&t(e+1)},[e]);return[M.useCallback(()=>Ze.postRender(r),[r]),e]}class HO extends M.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function GO({children:n,isPresent:e}){const t=M.useId(),r=M.useRef(null),s=M.useRef({width:0,height:0,top:0,left:0});return M.useInsertionEffect(()=>{const{width:a,height:u,top:h,left:f}=s.current;if(e||!r.current||!a||!u)return;r.current.dataset.motionPopId=t;const p=document.createElement("style");return document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${u}px !important;
            top: ${h}px !important;
            left: ${f}px !important;
          }
        `),()=>{document.head.removeChild(p)}},[e]),M.createElement(HO,{isPresent:e,childRef:r,sizeRef:s},M.cloneElement(n,{ref:r}))}const Dp=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:s,presenceAffectsLayout:a,mode:u})=>{const h=CI(KO),f=M.useId(),p=M.useMemo(()=>({id:f,initial:e,isPresent:t,custom:s,onExitComplete:y=>{h.set(y,!0);for(const _ of h.values())if(!_)return;r&&r()},register:y=>(h.set(y,!1),()=>h.delete(y))}),a?void 0:[t]);return M.useMemo(()=>{h.forEach((y,_)=>h.set(_,!1))},[t]),M.useEffect(()=>{!t&&!h.size&&r&&r()},[t]),u==="popLayout"&&(n=M.createElement(GO,{isPresent:t},n)),M.createElement(_d.Provider,{value:p},n)};function KO(){return new Map}function QO(n){return M.useEffect(()=>()=>n(),[])}const Hs=n=>n.key||"";function YO(n,e){n.forEach(t=>{const r=Hs(t);e.set(r,t)})}function XO(n){const e=[];return M.Children.forEach(n,t=>{M.isValidElement(t)&&e.push(t)}),e}const JO=({children:n,custom:e,initial:t=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:a=!0,mode:u="sync"})=>{const h=M.useContext(Og).forceRender||WO()[0],f=D1(),p=XO(n);let y=p;const _=M.useRef(new Map).current,E=M.useRef(y),I=M.useRef(new Map).current,D=M.useRef(!0);if(jg(()=>{D.current=!1,YO(p,I),E.current=y}),QO(()=>{D.current=!0,I.clear(),_.clear()}),D.current)return M.createElement(M.Fragment,null,y.map(B=>M.createElement(Dp,{key:Hs(B),isPresent:!0,initial:t?void 0:!1,presenceAffectsLayout:a,mode:u},B)));y=[...y];const j=E.current.map(Hs),P=p.map(Hs),H=j.length;for(let B=0;B<H;B++){const R=j[B];P.indexOf(R)===-1&&!_.has(R)&&_.set(R,void 0)}return u==="wait"&&_.size&&(y=[]),_.forEach((B,R)=>{if(P.indexOf(R)!==-1)return;const K=I.get(R);if(!K)return;const re=j.indexOf(R);let ne=B;if(!ne){const N=()=>{_.delete(R);const A=Array.from(I.keys()).filter(C=>!P.includes(C));if(A.forEach(C=>I.delete(C)),E.current=p.filter(C=>{const V=Hs(C);return V===R||A.includes(V)}),!_.size){if(f.current===!1)return;h(),r&&r()}};ne=M.createElement(Dp,{key:Hs(K),isPresent:!1,onExitComplete:N,custom:e,presenceAffectsLayout:a,mode:u},K),_.set(R,ne)}y.splice(re,0,ne)}),y=y.map(B=>{const R=B.key;return _.has(R)?B:M.createElement(Dp,{key:Hs(B),isPresent:!0,presenceAffectsLayout:a,mode:u},B)}),M.createElement(M.Fragment,null,_.size?y:y.map(B=>M.cloneElement(B)))},ZO=()=>{const[n,e]=M.useState(!1),[t,r]=M.useState(""),{currentUser:s,userProfile:a,logout:u}=di(),h=hi(),f=async()=>{try{await u(),h("/")}catch(y){console.error("Failed to log out:",y)}},p=y=>{y.preventDefault(),t.trim()&&h(`/search?q=${encodeURIComponent(t.trim())}`)};return m.jsxs("nav",{className:"bg-nothing-black border-b border-nothing-gray-800 sticky top-0 z-50",children:[m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[m.jsxs("div",{className:"flex justify-between items-center h-16",children:[m.jsx("div",{className:"flex-shrink-0",children:m.jsxs(He,{to:"/",className:"flex items-center space-x-2",children:[m.jsx("div",{className:"w-8 h-8 bg-nothing-red rounded-full flex items-center justify-center",children:m.jsx("div",{className:"w-4 h-4 bg-nothing-white rounded-full animate-glow"})}),m.jsx("span",{className:"text-xl font-bold text-nothing-white font-nothing",children:"GlyphMart"})]})}),m.jsx("div",{className:"hidden md:block flex-1 max-w-lg mx-8",children:m.jsxs("form",{onSubmit:p,className:"relative",children:[m.jsx("input",{type:"text",value:t,onChange:y=>r(y.target.value),placeholder:"Search glyphs...",className:"w-full bg-nothing-gray-900 border border-nothing-gray-700 rounded-lg py-2 pl-10 pr-4 text-nothing-white placeholder-nothing-gray-400 focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-transparent transition-all duration-200"}),m.jsx(Gs,{className:"absolute left-3 top-2.5 h-5 w-5 text-nothing-gray-400"})]})}),m.jsx("div",{className:"hidden md:flex items-center space-x-4",children:s?m.jsxs(m.Fragment,{children:[m.jsxs(He,{to:"/upload",className:"bg-nothing-red hover:bg-red-700 text-nothing-white px-4 py-2 rounded-lg font-medium transition-colors duration-200 flex items-center space-x-2",children:[m.jsx(cI,{className:"h-4 w-4"}),m.jsx("span",{children:"Upload Glyph"})]}),m.jsxs("div",{className:"relative group",children:[m.jsxs("button",{className:"flex items-center space-x-2 text-nothing-white hover:text-nothing-gray-300 transition-colors duration-200",children:[m.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden border border-nothing-gray-600",children:a?.profilePicture||s.photoURL?m.jsx("img",{src:a?.profilePicture||s.photoURL,alt:"Profile",className:"w-full h-full object-cover"}):m.jsx("div",{className:"w-full h-full bg-nothing-gray-700 flex items-center justify-center",children:m.jsx(Zi,{className:"h-4 w-4"})})}),m.jsx("span",{className:"font-medium",children:a?.username||s.displayName})]}),m.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-nothing-gray-900 border border-nothing-gray-700 rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200",children:m.jsxs("div",{className:"py-1",children:[m.jsxs(He,{to:`/storefront/${a?.username||s.displayName}`,className:"block px-4 py-2 text-sm text-nothing-white hover:bg-nothing-gray-800 transition-colors duration-200 flex items-center space-x-2",children:[m.jsx(Jw,{className:"h-4 w-4"}),m.jsx("span",{children:"My Storefront"})]}),m.jsxs(He,{to:"/liked",className:"block px-4 py-2 text-sm text-nothing-white hover:bg-nothing-gray-800 transition-colors duration-200 flex items-center space-x-2",children:[m.jsx(zn,{className:"h-4 w-4"}),m.jsx("span",{children:"Liked Posts"})]}),m.jsxs(He,{to:"/settings",className:"block px-4 py-2 text-sm text-nothing-white hover:bg-nothing-gray-800 transition-colors duration-200 flex items-center space-x-2",children:[m.jsx(fm,{className:"h-4 w-4"}),m.jsx("span",{children:"Settings"})]}),m.jsxs("button",{onClick:f,className:"w-full text-left block px-4 py-2 text-sm text-nothing-white hover:bg-nothing-gray-800 transition-colors duration-200 flex items-center space-x-2",children:[m.jsx(Yw,{className:"h-4 w-4"}),m.jsx("span",{children:"Logout"})]})]})})]})]}):m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsx(He,{to:"/login",className:"text-nothing-white hover:text-nothing-gray-300 font-medium transition-colors duration-200",children:"Login"}),m.jsx(He,{to:"/signup",className:"bg-nothing-red hover:bg-red-700 text-nothing-white px-4 py-2 rounded-lg font-medium transition-colors duration-200",children:"Sign Up"})]})}),m.jsx("div",{className:"md:hidden",children:m.jsx("button",{onClick:()=>e(!n),className:"text-nothing-white hover:text-nothing-gray-300 transition-colors duration-200",children:n?m.jsx(hI,{className:"h-6 w-6"}):m.jsx(Dj,{className:"h-6 w-6"})})})]}),m.jsx("div",{className:"md:hidden pb-4",children:m.jsxs("form",{onSubmit:p,className:"relative",children:[m.jsx("input",{type:"text",value:t,onChange:y=>r(y.target.value),placeholder:"Search glyphs...",className:"w-full bg-nothing-gray-900 border border-nothing-gray-700 rounded-lg py-2 pl-10 pr-4 text-nothing-white placeholder-nothing-gray-400 focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-transparent transition-all duration-200"}),m.jsx(Gs,{className:"absolute left-3 top-2.5 h-5 w-5 text-nothing-gray-400"})]})})]}),m.jsx(JO,{children:n&&m.jsx(Ne.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden bg-nothing-gray-900 border-t border-nothing-gray-800",children:m.jsx("div",{className:"px-4 py-4 space-y-4",children:s?m.jsxs(m.Fragment,{children:[m.jsx(He,{to:"/upload",className:"block bg-nothing-red hover:bg-red-700 text-nothing-white px-4 py-2 rounded-lg font-medium transition-colors duration-200 text-center",onClick:()=>e(!1),children:"Upload Glyph"}),m.jsxs(He,{to:`/storefront/${a?.username||s.displayName}`,className:"block text-nothing-white hover:text-nothing-gray-300 font-medium transition-colors duration-200 flex items-center space-x-2",onClick:()=>e(!1),children:[m.jsx(Jw,{className:"h-4 w-4"}),m.jsx("span",{children:"My Storefront"})]}),m.jsxs(He,{to:"/liked",className:"block text-nothing-white hover:text-nothing-gray-300 font-medium transition-colors duration-200 flex items-center space-x-2",onClick:()=>e(!1),children:[m.jsx(zn,{className:"h-4 w-4"}),m.jsx("span",{children:"Liked Posts"})]}),m.jsxs(He,{to:"/settings",className:"block text-nothing-white hover:text-nothing-gray-300 font-medium transition-colors duration-200 flex items-center space-x-2",onClick:()=>e(!1),children:[m.jsx(fm,{className:"h-4 w-4"}),m.jsx("span",{children:"Settings"})]}),m.jsxs("button",{onClick:()=>{f(),e(!1)},className:"block w-full text-left text-nothing-white hover:text-nothing-gray-300 font-medium transition-colors duration-200 flex items-center space-x-2",children:[m.jsx(Yw,{className:"h-4 w-4"}),m.jsx("span",{children:"Logout"})]})]}):m.jsxs(m.Fragment,{children:[m.jsx(He,{to:"/login",className:"block text-nothing-white hover:text-nothing-gray-300 font-medium transition-colors duration-200",onClick:()=>e(!1),children:"Login"}),m.jsx(He,{to:"/signup",className:"block bg-nothing-red hover:bg-red-700 text-nothing-white px-4 py-2 rounded-lg font-medium transition-colors duration-200 text-center",onClick:()=>e(!1),children:"Sign Up"})]})})})})]})},e4=()=>{const[n,e]=M.useState([]),[t,r]=M.useState([]),[s,a]=M.useState(!0),[u,h]=M.useState("latest");M.useEffect(()=>{(async()=>{try{const y=Ji(ar(Ge,"glyphs"),ca("createdAt","desc"),ha(12)),E=(await Cr(y)).docs.map(P=>({id:P.id,...P.data()})),I=Ji(ar(Ge,"glyphs"),ca("downloads","desc"),ha(12)),j=(await Cr(I)).docs.map(P=>({id:P.id,...P.data()}));e(E),r(j)}catch(y){console.error("Error fetching glyphs:",y)}finally{a(!1)}})()},[]);const f=({glyph:p})=>m.jsx(Ne.div,{whileHover:{y:-5},className:"bg-nothing-gray-900 border border-nothing-gray-800 rounded-lg overflow-hidden hover:border-nothing-gray-700 transition-all duration-300",children:m.jsxs(He,{to:`/glyph/${p.id}`,children:[m.jsxs("div",{className:"aspect-square bg-nothing-gray-800 relative overflow-hidden",children:[p.images&&p.images.length>0?m.jsx("img",{src:p.images[0],alt:p.title,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"}):m.jsx("div",{className:"w-full h-full flex items-center justify-center",children:m.jsx("div",{className:"w-16 h-16 bg-nothing-red rounded-full flex items-center justify-center glyph-animation",children:m.jsx(sr,{className:"h-8 w-8 text-nothing-white"})})}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-nothing-black/80 via-transparent to-transparent opacity-0 hover:opacity-100 transition-opacity duration-300",children:m.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:m.jsxs("div",{className:"flex items-center justify-between text-nothing-white text-sm",children:[m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(br,{className:"h-4 w-4"}),m.jsx("span",{children:p.downloads||0})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(zn,{className:"h-4 w-4"}),m.jsx("span",{children:p.likes||0})]})]})})})]}),m.jsxs("div",{className:"p-4",children:[m.jsx("h3",{className:"text-nothing-white font-semibold text-lg mb-2 truncate",children:p.title}),m.jsx("p",{className:"text-nothing-gray-400 text-sm mb-3 line-clamp-2",children:p.description}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs(He,{to:`/storefront/${p.creatorUsername}`,className:"text-nothing-red hover:text-red-400 text-sm font-medium transition-colors duration-200",children:["@",p.creatorUsername]}),m.jsxs("div",{className:"flex items-center space-x-4 text-nothing-gray-500 text-sm",children:[m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx(br,{className:"h-3 w-3"}),m.jsx("span",{children:p.downloads||0})]}),m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx(Bn,{className:"h-3 w-3"}),m.jsx("span",{children:p.views||0})]})]})]})]})]})});return s?m.jsx("div",{className:"min-h-screen bg-nothing-black flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"w-16 h-16 bg-nothing-red rounded-full flex items-center justify-center mx-auto mb-4 glyph-animation",children:m.jsx(sr,{className:"h-8 w-8 text-nothing-white"})}),m.jsx("p",{className:"text-nothing-gray-400",children:"Loading latest glyphs..."})]})}):m.jsxs("div",{className:"min-h-screen bg-nothing-black",children:[m.jsxs("section",{className:"relative py-20 px-4 sm:px-6 lg:px-8",children:[m.jsx("div",{className:"max-w-7xl mx-auto text-center",children:m.jsxs(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},children:[m.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-nothing-white mb-6 font-nothing",children:["Glyph",m.jsx("span",{className:"text-nothing-red",children:"Mart"})]}),m.jsx("p",{className:"text-xl md:text-2xl text-nothing-gray-300 mb-8 max-w-3xl mx-auto",children:"Discover, share, and download custom Nothing Phone(3) glyphs created by the community"}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[m.jsx(He,{to:"/browse",className:"bg-nothing-red hover:bg-red-700 text-nothing-white px-8 py-3 rounded-lg font-semibold text-lg transition-colors duration-200",children:"Browse Glyphs"}),m.jsx(He,{to:"/upload",className:"border border-nothing-gray-700 hover:border-nothing-gray-600 text-nothing-white px-8 py-3 rounded-lg font-semibold text-lg transition-colors duration-200",children:"Upload Your Glyph"})]})]})}),m.jsx("div",{className:"absolute top-1/2 left-1/4 transform -translate-y-1/2 opacity-20",children:m.jsx("div",{className:"w-20 h-20 bg-nothing-red rounded-full flex items-center justify-center animate-float",children:m.jsx(sr,{className:"h-10 w-10 text-nothing-white"})})}),m.jsx("div",{className:"absolute top-1/3 right-1/4 transform -translate-y-1/2 opacity-10",children:m.jsx("div",{className:"w-16 h-16 bg-nothing-white rounded-full flex items-center justify-center animate-float",style:{animationDelay:"1s"},children:m.jsx(sr,{className:"h-8 w-8 text-nothing-black"})})})]}),m.jsx("section",{className:"px-4 sm:px-6 lg:px-8 mb-8",children:m.jsx("div",{className:"max-w-7xl mx-auto",children:m.jsxs("div",{className:"flex space-x-4 border-b border-nothing-gray-800",children:[m.jsxs("button",{onClick:()=>h("latest"),className:`flex items-center space-x-2 px-4 py-3 font-medium border-b-2 transition-colors duration-200 ${u==="latest"?"border-nothing-red text-nothing-red":"border-transparent text-nothing-gray-400 hover:text-nothing-white"}`,children:[m.jsx(Pj,{className:"h-4 w-4"}),m.jsx("span",{children:"Latest"})]}),m.jsxs("button",{onClick:()=>h("popular"),className:`flex items-center space-x-2 px-4 py-3 font-medium border-b-2 transition-colors duration-200 ${u==="popular"?"border-nothing-red text-nothing-red":"border-transparent text-nothing-gray-400 hover:text-nothing-white"}`,children:[m.jsx(Vj,{className:"h-4 w-4"}),m.jsx("span",{children:"Popular"})]})]})})}),m.jsx("section",{className:"px-4 sm:px-6 lg:px-8 pb-20",children:m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:(u==="latest"?n:t).map((p,y)=>m.jsx(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:y*.1},children:m.jsx(f,{glyph:p})},p.id))}),(u==="latest"?n:t).length===0&&m.jsxs("div",{className:"text-center py-12",children:[m.jsx("div",{className:"w-16 h-16 bg-nothing-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx(sr,{className:"h-8 w-8 text-nothing-gray-600"})}),m.jsx("p",{className:"text-nothing-gray-400 text-lg",children:"No glyphs found"}),m.jsx("p",{className:"text-nothing-gray-500 text-sm mt-2",children:"Be the first to share your custom Nothing Phone(3) glyph!"})]})]})})]})},t4=()=>{const[n,e]=M.useState({email:"",password:""}),[t,r]=M.useState(!1),[s,a]=M.useState(!1),[u,h]=M.useState(""),{signin:f}=di(),p=hi(),y=E=>{e({...n,[E.target.name]:E.target.value}),h("")},_=async E=>{E.preventDefault(),a(!0),h("");try{await f(n.email,n.password),p("/")}catch(I){switch(console.error("Login error:",I),I.code){case"auth/user-not-found":h("No account found with this email address.");break;case"auth/wrong-password":h("Incorrect password.");break;case"auth/invalid-email":h("Invalid email address.");break;case"auth/too-many-requests":h("Too many failed attempts. Please try again later.");break;default:h("Failed to sign in. Please try again.")}}finally{a(!1)}};return m.jsx("div",{className:"min-h-screen bg-nothing-black flex items-center justify-center px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"max-w-md w-full space-y-8",children:[m.jsxs(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center",children:[m.jsx("div",{className:"flex justify-center mb-6",children:m.jsx("div",{className:"w-16 h-16 bg-nothing-red rounded-full flex items-center justify-center glyph-animation",children:m.jsx(sr,{className:"h-8 w-8 text-nothing-white"})})}),m.jsx("h2",{className:"text-3xl font-bold text-nothing-white font-nothing",children:"Welcome back"}),m.jsx("p",{className:"mt-2 text-nothing-gray-400",children:"Sign in to your GlyphMart account"})]}),m.jsxs(Ne.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"mt-8 space-y-6",onSubmit:_,children:[m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(Dg,{className:"h-5 w-5 text-nothing-gray-400"})}),m.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n.email,onChange:y,className:"appearance-none relative block w-full px-10 py-3 border border-nothing-gray-700 placeholder-nothing-gray-400 text-nothing-white bg-nothing-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-nothing-red focus:z-10 transition-all duration-200",placeholder:"Email address"})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(Wi,{className:"h-5 w-5 text-nothing-gray-400"})}),m.jsx("input",{id:"password",name:"password",type:t?"text":"password",autoComplete:"current-password",required:!0,value:n.password,onChange:y,className:"appearance-none relative block w-full px-10 py-3 pr-10 border border-nothing-gray-700 placeholder-nothing-gray-400 text-nothing-white bg-nothing-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-nothing-red focus:z-10 transition-all duration-200",placeholder:"Password"}),m.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>r(!t),children:t?m.jsx(_a,{className:"h-5 w-5 text-nothing-gray-400 hover:text-nothing-gray-300"}):m.jsx(Bn,{className:"h-5 w-5 text-nothing-gray-400 hover:text-nothing-gray-300"})})]})]})]}),u&&m.jsx(Ne.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-900/20 border border-red-700 text-red-400 px-4 py-3 rounded-lg text-sm",children:u}),m.jsx("div",{className:"flex items-center justify-between",children:m.jsx("div",{className:"text-sm",children:m.jsx(He,{to:"/forgot-password",className:"text-nothing-red hover:text-red-400 transition-colors duration-200",children:"Forgot your password?"})})}),m.jsx("div",{children:m.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-nothing-white bg-nothing-red hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-nothing-red disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:s?m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-nothing-white mr-2"}),"Signing in..."]}):"Sign in"})}),m.jsx("div",{className:"text-center",children:m.jsxs("p",{className:"text-nothing-gray-400",children:["Don't have an account?"," ",m.jsx(He,{to:"/signup",className:"text-nothing-red hover:text-red-400 font-medium transition-colors duration-200",children:"Sign up"})]})})]})]})})},n4=()=>{const[n,e]=M.useState({email:"",username:"",displayName:"",password:"",confirmPassword:""}),[t,r]=M.useState(!1),[s,a]=M.useState(!1),[u,h]=M.useState(!1),[f,p]=M.useState(""),{signup:y}=di(),_=hi(),E=j=>{e({...n,[j.target.name]:j.target.value}),p("")},I=()=>n.password!==n.confirmPassword?(p("Passwords do not match"),!1):n.password.length<6?(p("Password must be at least 6 characters long"),!1):n.username.length<3?(p("Username must be at least 3 characters long"),!1):/^[a-zA-Z0-9_]+$/.test(n.username)?!0:(p("Username can only contain letters, numbers, and underscores"),!1),D=async j=>{if(j.preventDefault(),h(!0),p(""),!I()){h(!1);return}try{await y(n.email,n.password,n.username,n.displayName),_("/")}catch(P){switch(console.error("Signup error:",P),P.code){case"auth/email-already-in-use":p("An account with this email already exists.");break;case"auth/invalid-email":p("Invalid email address.");break;case"auth/weak-password":p("Password is too weak.");break;default:p("Failed to create account. Please try again.")}}finally{h(!1)}};return m.jsx("div",{className:"min-h-screen bg-nothing-black flex items-center justify-center px-4 sm:px-6 lg:px-8 py-12",children:m.jsxs("div",{className:"max-w-md w-full space-y-8",children:[m.jsxs(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center",children:[m.jsx("div",{className:"flex justify-center mb-6",children:m.jsx("div",{className:"w-16 h-16 bg-nothing-red rounded-full flex items-center justify-center glyph-animation",children:m.jsx(sr,{className:"h-8 w-8 text-nothing-white"})})}),m.jsx("h2",{className:"text-3xl font-bold text-nothing-white font-nothing",children:"Join GlyphMart"}),m.jsx("p",{className:"mt-2 text-nothing-gray-400",children:"Create your account and start sharing glyphs"})]}),m.jsxs(Ne.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"mt-8 space-y-6",onSubmit:D,children:[m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(Dg,{className:"h-5 w-5 text-nothing-gray-400"})}),m.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n.email,onChange:E,className:"appearance-none relative block w-full px-10 py-3 border border-nothing-gray-700 placeholder-nothing-gray-400 text-nothing-white bg-nothing-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-nothing-red focus:z-10 transition-all duration-200",placeholder:"Email address"})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"username",className:"sr-only",children:"Username"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(Tj,{className:"h-5 w-5 text-nothing-gray-400"})}),m.jsx("input",{id:"username",name:"username",type:"text",autoComplete:"username",required:!0,value:n.username,onChange:E,className:"appearance-none relative block w-full px-10 py-3 border border-nothing-gray-700 placeholder-nothing-gray-400 text-nothing-white bg-nothing-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-nothing-red focus:z-10 transition-all duration-200",placeholder:"Username"})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"displayName",className:"sr-only",children:"Display Name"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(Zi,{className:"h-5 w-5 text-nothing-gray-400"})}),m.jsx("input",{id:"displayName",name:"displayName",type:"text",autoComplete:"name",required:!0,value:n.displayName,onChange:E,className:"appearance-none relative block w-full px-10 py-3 border border-nothing-gray-700 placeholder-nothing-gray-400 text-nothing-white bg-nothing-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-nothing-red focus:z-10 transition-all duration-200",placeholder:"Display Name"})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(Wi,{className:"h-5 w-5 text-nothing-gray-400"})}),m.jsx("input",{id:"password",name:"password",type:t?"text":"password",autoComplete:"new-password",required:!0,value:n.password,onChange:E,className:"appearance-none relative block w-full px-10 py-3 pr-10 border border-nothing-gray-700 placeholder-nothing-gray-400 text-nothing-white bg-nothing-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-nothing-red focus:z-10 transition-all duration-200",placeholder:"Password"}),m.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>r(!t),children:t?m.jsx(_a,{className:"h-5 w-5 text-nothing-gray-400 hover:text-nothing-gray-300"}):m.jsx(Bn,{className:"h-5 w-5 text-nothing-gray-400 hover:text-nothing-gray-300"})})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"confirmPassword",className:"sr-only",children:"Confirm Password"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(Wi,{className:"h-5 w-5 text-nothing-gray-400"})}),m.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:s?"text":"password",autoComplete:"new-password",required:!0,value:n.confirmPassword,onChange:E,className:"appearance-none relative block w-full px-10 py-3 pr-10 border border-nothing-gray-700 placeholder-nothing-gray-400 text-nothing-white bg-nothing-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-nothing-red focus:z-10 transition-all duration-200",placeholder:"Confirm Password"}),m.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>a(!s),children:s?m.jsx(_a,{className:"h-5 w-5 text-nothing-gray-400 hover:text-nothing-gray-300"}):m.jsx(Bn,{className:"h-5 w-5 text-nothing-gray-400 hover:text-nothing-gray-300"})})]})]})]}),f&&m.jsx(Ne.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-900/20 border border-red-700 text-red-400 px-4 py-3 rounded-lg text-sm",children:f}),m.jsx("div",{children:m.jsx("button",{type:"submit",disabled:u,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-nothing-white bg-nothing-red hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-nothing-red disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:u?m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-nothing-white mr-2"}),"Creating account..."]}):"Create Account"})}),m.jsx("div",{className:"text-center",children:m.jsxs("p",{className:"text-nothing-gray-400",children:["Already have an account?"," ",m.jsx(He,{to:"/login",className:"text-nothing-red hover:text-red-400 font-medium transition-colors duration-200",children:"Sign in"})]})})]})]})})},j1=async()=>{try{return(await(await fetch("https://api.ipify.org?format=json")).json()).ip}catch(n){return console.error("Error getting IP:",n),`fallback_${Math.random().toString(36).substr(2,9)}`}},r4=async(n,e)=>{try{return(await Fa(kt(Ge,"glyphViews",`${n}_${e}`))).exists()}catch(t){return console.error("Error checking view status:",t),!1}},i4=async(n,e)=>{try{return(await Fa(kt(Ge,"glyphDownloads",`${n}_${e}`))).exists()}catch(t){return console.error("Error checking download status:",t),!1}},s4=async n=>{try{const e=await j1(),t=`${n}_${e}`;return await r4(n,e)?!1:(await gd(kt(Ge,"glyphViews",t),{glyphId:n,userIP:e,viewedAt:new Date}),await ka(kt(Ge,"glyphs",n),{views:mu(1)}),!0)}catch(e){return console.error("Error recording view:",e),!1}},rx=async n=>{try{const e=await j1(),t=`${n}_${e}`;return await i4(n,e)?!1:(await gd(kt(Ge,"glyphDownloads",t),{glyphId:n,userIP:e,downloadedAt:new Date}),await ka(kt(Ge,"glyphs",n),{downloads:mu(1)}),!0)}catch(e){return console.error("Error recording download:",e),!1}},V1=async(n,e)=>{if(!e)return!1;try{return(await Fa(kt(Ge,"likes",`${n}_${e}`))).exists()}catch(t){return console.error("Error checking like status:",t),!1}},o4=async(n,e)=>{if(!e)return!1;try{const t=`${n}_${e}`;console.log("Toggling like for:",t);const r=await V1(n,e);return console.log("Current like status:",r),r?(console.log("Removing like"),await FT(kt(Ge,"likes",t)),await ka(kt(Ge,"glyphs",n),{likes:mu(-1)}),!1):(console.log("Adding like"),await gd(kt(Ge,"likes",t),{glyphId:n,userId:e,likedAt:new Date}),await ka(kt(Ge,"glyphs",n),{likes:mu(1)}),!0)}catch(t){return console.error("Error toggling like:",t),!1}},a4=async n=>{if(!n)return[];try{let e=Ji(ar(Ge,"likes"),Yl("userId","==",n)),t=await Cr(e);console.log(`Found ${t.docs.length} likes for user ${n} in new format`);let r=[];if(t.docs.length>0)r=t.docs.map(u=>(console.log("Like document:",u.id,u.data()),u.data().glyphId));else{const u=Ji(ar(Ge,"likes"));(await Cr(u)).docs.forEach(f=>{const p=f.id,y=f.data();if(console.log("Checking like document:",p,y),p.endsWith(`_${n}`)){const _=p.replace(`_${n}`,"");r.push(_)}else y.userId===n&&r.push(y.glyphId)}),console.log(`Found ${r.length} likes for user ${n} in combined search`)}if(r.length===0)return[];const s=[];for(const u of r)try{const h=await Fa(kt(Ge,"glyphs",u));h.exists()?s.push({id:h.id,...h.data()}):console.log(`Glyph ${u} does not exist`)}catch(h){console.error(`Error fetching glyph ${u}:`,h)}return s.sort((u,h)=>{const f=u.createdAt||new Date(0),p=h.createdAt||new Date(0);return new Date(p)-new Date(f)})}catch(e){return console.error("Error getting user liked glyphs:",e),[]}},l4=()=>{const{id:n}=dx(),[e,t]=M.useState(null),[r,s]=M.useState(!0),[a,u]=M.useState(!1),[h,f]=M.useState(!1),[p,y]=M.useState(!1),{currentUser:_}=di(),E=hi();M.useEffect(()=>{n&&(async()=>{try{const R=await Fa(kt(Ge,"glyphs",n));if(R.exists()){const K={id:R.id,...R.data()};if(t(K),await s4(n),_){const re=await V1(n,_.uid);f(re)}}else E("/404")}catch(R){console.error("Error fetching glyph:",R)}finally{s(!1)}})()},[n,E,_]);const I=async()=>{if(!(!e.apkUrl&&!e.githubUrl)){if(e.apkUrl)y(!0);else if(e.githubUrl){window.open(e.githubUrl,"_blank");try{await rx(n)&&t(R=>({...R,downloads:(R.downloads||0)+1}))}catch(B){console.error("Error updating download count:",B)}}}},D=async()=>{u(!0);try{const B=await rx(n),R=document.createElement("a");R.href=e.apkUrl,R.download=`${e.title.replace(/[^a-z0-9]/gi,"_").toLowerCase()}.apk`,document.body.appendChild(R),R.click(),document.body.removeChild(R),B&&t(K=>({...K,downloads:(K.downloads||0)+1}))}catch(B){console.error("Error downloading glyph:",B)}finally{u(!1),y(!1)}},j=async()=>{if(!_){E("/login");return}try{const B=await o4(n,_.uid),R=B?1:-1;f(B),t(K=>({...K,likes:(K.likes||0)+R}))}catch(B){console.error("Error liking glyph:",B)}},P=async()=>{const B=window.location.href;if(navigator.share)try{await navigator.share({title:e.title,text:e.description,url:B})}catch(R){console.error("Error sharing:",R),H(B)}else H(B)},H=async B=>{try{await navigator.clipboard.writeText(B),alert("Link copied to clipboard!")}catch(R){console.error("Error copying to clipboard:",R)}};return r?m.jsx("div",{className:"min-h-screen bg-nothing-black flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"w-16 h-16 bg-nothing-red rounded-full flex items-center justify-center mx-auto mb-4 glyph-animation",children:m.jsx("div",{className:"w-8 h-8 bg-nothing-white rounded-full"})}),m.jsx("p",{className:"text-nothing-gray-400",children:"Loading glyph..."})]})}):e?m.jsxs("div",{className:"min-h-screen bg-nothing-black",children:[m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsx(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"aspect-square bg-nothing-gray-900 rounded-lg overflow-hidden",children:e.images&&e.images.length>0?m.jsx("img",{src:e.images[0],alt:e.title,className:"w-full h-full object-cover"}):m.jsx("div",{className:"w-full h-full flex items-center justify-center",children:m.jsx("div",{className:"w-24 h-24 bg-nothing-red rounded-full flex items-center justify-center glyph-animation",children:m.jsx("div",{className:"w-12 h-12 bg-nothing-white rounded-full"})})})}),e.images&&e.images.length>1&&m.jsx("div",{className:"grid grid-cols-3 gap-2",children:e.images.slice(1,4).map((B,R)=>m.jsx("div",{className:"aspect-square bg-nothing-gray-900 rounded-lg overflow-hidden",children:m.jsx("img",{src:B,alt:`${e.title} ${R+2}`,className:"w-full h-full object-cover"})},R))})]}),m.jsxs(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-nothing-white mb-4 font-nothing",children:e.title}),m.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[m.jsxs(He,{to:`/storefront/${e.creatorUsername||e.creatorId}`,className:"flex items-center space-x-2 text-nothing-red hover:text-red-400 transition-colors duration-200",children:[m.jsx(Zi,{className:"h-4 w-4"}),m.jsxs("span",{className:"font-medium",children:["@",e.creatorUsername||e.creatorId]})]}),m.jsxs("div",{className:"flex items-center space-x-1 text-nothing-gray-400",children:[m.jsx(Ng,{className:"h-4 w-4"}),m.jsx("span",{className:"text-sm",children:e.createdAt?.toDate?.()?.toLocaleDateString()||"Unknown date"})]})]}),m.jsx("p",{className:"text-nothing-gray-300 text-lg leading-relaxed mb-6",children:e.description})]}),m.jsxs("div",{className:"flex items-center space-x-6 py-4 border-y border-nothing-gray-800",children:[m.jsxs("div",{className:"flex items-center space-x-2 text-nothing-gray-400",children:[m.jsx(br,{className:"h-5 w-5"}),m.jsxs("span",{children:[e.downloads||0," downloads"]})]}),m.jsxs("div",{className:"flex items-center space-x-2 text-nothing-gray-400",children:[m.jsx(Bn,{className:"h-5 w-5"}),m.jsxs("span",{children:[e.views||0," views"]})]}),m.jsxs("div",{className:"flex items-center space-x-2 text-nothing-gray-400",children:[m.jsx(zn,{className:"h-5 w-5"}),m.jsxs("span",{children:[e.likes||0," likes"]})]})]}),m.jsxs("div",{className:"flex space-x-4",children:[(e.apkUrl||e.githubUrl)&&m.jsxs("button",{onClick:I,className:"flex-1 bg-nothing-red hover:bg-red-700 text-nothing-white px-6 py-3 rounded-lg font-semibold flex items-center justify-center space-x-2 transition-colors duration-200",children:[m.jsx(br,{className:"h-5 w-5"}),m.jsx("span",{children:e.apkUrl?"Download APK":"View on GitHub"})]}),m.jsxs("button",{onClick:j,className:`px-6 py-3 rounded-lg font-semibold flex items-center justify-center space-x-2 transition-colors duration-200 min-w-[120px] ${h?"bg-nothing-red text-nothing-white":"border border-nothing-gray-700 text-nothing-white hover:border-nothing-gray-600"}`,children:[m.jsx(zn,{className:`h-5 w-5 ${h?"fill-current":""}`}),m.jsx("span",{children:h?"Liked":"Like"})]}),m.jsx("button",{onClick:P,className:"px-6 py-3 border border-nothing-gray-700 text-nothing-white hover:border-nothing-gray-600 rounded-lg font-semibold flex items-center justify-center space-x-2 transition-colors duration-200",children:m.jsx(jj,{className:"h-5 w-5"})})]}),(e.githubUrl||e.instructions)&&m.jsxs("div",{className:"space-y-3",children:[m.jsx("h3",{className:"text-lg font-semibold text-nothing-white",children:e.githubUrl&&e.instructions?"Links & Instructions":e.githubUrl?"Repository":"Instructions"}),e.githubUrl&&m.jsxs("a",{href:e.githubUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-nothing-gray-300 hover:text-nothing-white transition-colors duration-200",children:[m.jsx(uI,{className:"h-5 w-5"}),m.jsx("span",{children:"View on GitHub"}),m.jsx(Aj,{className:"h-4 w-4"})]}),e.instructions&&m.jsxs("div",{className:"bg-nothing-gray-900 border border-nothing-gray-800 rounded-lg p-4",children:[m.jsx("h4",{className:"text-nothing-white font-medium mb-2",children:"Installation Instructions"}),m.jsx("p",{className:"text-nothing-gray-300 text-sm whitespace-pre-wrap",children:e.instructions})]})]})]})]})}),p&&m.jsx("div",{className:"fixed inset-0 bg-nothing-black/80 flex items-center justify-center z-50 p-4",children:m.jsxs(Ne.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-nothing-gray-900 border border-nothing-gray-800 rounded-lg p-6 max-w-md w-full",children:[m.jsxs("div",{className:"flex items-start space-x-3 mb-4",children:[m.jsx(xj,{className:"h-6 w-6 text-yellow-500 flex-shrink-0 mt-0.5"}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-nothing-white mb-2",children:"Download Disclaimer"}),m.jsx("p",{className:"text-nothing-gray-300 text-sm",children:"This APK is shared by the community. GlyphMart does not guarantee the safety or functionality of third-party files. Download and install at your own risk."})]})]}),m.jsxs("div",{className:"flex space-x-3",children:[m.jsx("button",{onClick:D,disabled:a,className:"flex-1 bg-nothing-red hover:bg-red-700 text-nothing-white px-4 py-2 rounded-lg font-medium transition-colors duration-200 disabled:opacity-50",children:a?"Downloading...":"I Understand, Download"}),m.jsx("button",{onClick:()=>y(!1),className:"px-4 py-2 border border-nothing-gray-700 text-nothing-white hover:border-nothing-gray-600 rounded-lg font-medium transition-colors duration-200",children:"Cancel"})]})]})})]}):m.jsx("div",{className:"min-h-screen bg-nothing-black flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx("h1",{className:"text-2xl font-bold text-nothing-white mb-4",children:"Glyph not found"}),m.jsx(He,{to:"/",className:"text-nothing-red hover:text-red-400",children:"Return to home"})]})})},u4=()=>{const{username:n}=dx(),[e,t]=M.useState(null),[r,s]=M.useState([]),[a,u]=M.useState(!0),[h,f]=M.useState("latest"),[p,y]=M.useState(""),_=P=>{console.log(P),y(H=>H+`
`+P)};M.useEffect(()=>{n&&(async()=>{try{_("Fetching storefront for username: "+n);let H=Ji(ar(Ge,"users"),Yl("username","==",n)),B=await Cr(H);if(B.empty&&(_("No user found by username, trying displayName"),H=Ji(ar(Ge,"users"),Yl("displayName","==",n)),B=await Cr(H)),B.empty){_("No user found with username or displayName: "+n),u(!1);return}const R=B.docs[0].data();_("Found user data: "+JSON.stringify({uid:R.uid,username:R.username,displayName:R.displayName})),t(R),_("Fetching glyphs for creatorId: "+R.uid);let K=Ji(ar(Ge,"glyphs"),Yl("creatorId","==",R.uid)),ne=(await Cr(K)).docs.map(N=>({id:N.id,...N.data()}));ne=ne.sort((N,A)=>{const C=N.createdAt?.toDate?N.createdAt.toDate():new Date(N.createdAt||0);return(A.createdAt?.toDate?A.createdAt.toDate():new Date(A.createdAt||0))-C}),_("Found glyphs: "+ne.length),ne.length>0?_("First glyph: "+JSON.stringify({id:ne[0].id,title:ne[0].title,creatorId:ne[0].creatorId})):_("No glyphs found for this user. Check if glyphs were created with the correct creatorId."),s(ne)}catch(H){_("Error fetching user data: "+H.message),console.error("Error fetching user data:",H)}finally{u(!1)}})()},[n]);const E=()=>{switch(h){case"popular":return[...r].sort((P,H)=>(H.downloads||0)-(P.downloads||0));case"liked":return[...r].sort((P,H)=>(H.likes||0)-(P.likes||0));default:return r}},I=({glyph:P})=>m.jsx(Ne.div,{whileHover:{y:-5},className:"bg-nothing-gray-900 border border-nothing-gray-800 rounded-lg overflow-hidden hover:border-nothing-gray-700 transition-all duration-300",children:m.jsxs(He,{to:`/glyph/${P.id}`,children:[m.jsxs("div",{className:"aspect-square bg-nothing-gray-800 relative overflow-hidden",children:[P.images&&P.images.length>0?m.jsx("img",{src:P.images[0],alt:P.title,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"}):m.jsx("div",{className:"w-full h-full flex items-center justify-center",children:m.jsx("div",{className:"w-16 h-16 bg-nothing-red rounded-full flex items-center justify-center glyph-animation",children:m.jsx(sr,{className:"h-8 w-8 text-nothing-white"})})}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-nothing-black/80 via-transparent to-transparent opacity-0 hover:opacity-100 transition-opacity duration-300",children:m.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:m.jsxs("div",{className:"flex items-center justify-between text-nothing-white text-sm",children:[m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(br,{className:"h-4 w-4"}),m.jsx("span",{children:P.downloads||0})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(zn,{className:"h-4 w-4"}),m.jsx("span",{children:P.likes||0})]})]})})})]}),m.jsxs("div",{className:"p-4",children:[m.jsx("h3",{className:"text-nothing-white font-semibold text-lg mb-2 truncate",children:P.title}),m.jsx("p",{className:"text-nothing-gray-400 text-sm mb-3 line-clamp-2",children:P.description}),m.jsxs("div",{className:"flex items-center justify-between text-nothing-gray-500 text-sm",children:[m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx(br,{className:"h-3 w-3"}),m.jsx("span",{children:P.downloads||0})]}),m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx(Bn,{className:"h-3 w-3"}),m.jsx("span",{children:P.views||0})]}),m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx(zn,{className:"h-3 w-3"}),m.jsx("span",{children:P.likes||0})]})]}),m.jsx("span",{className:"text-xs",children:P.createdAt?.toDate?.()?.toLocaleDateString()||"Unknown"})]})]})]})});if(a)return m.jsx("div",{className:"min-h-screen bg-nothing-black flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"w-16 h-16 bg-nothing-red rounded-full flex items-center justify-center mx-auto mb-4 glyph-animation",children:m.jsx(sr,{className:"h-8 w-8 text-nothing-white"})}),m.jsx("p",{className:"text-nothing-gray-400",children:"Loading storefront..."})]})});if(!e)return m.jsx("div",{className:"min-h-screen bg-nothing-black flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx("h1",{className:"text-2xl font-bold text-nothing-white mb-4",children:"User not found"}),m.jsxs("p",{className:"text-nothing-gray-400 mb-6",children:["The user @",n," does not exist."]}),m.jsx(He,{to:"/",className:"bg-nothing-red hover:bg-red-700 text-nothing-white px-6 py-3 rounded-lg font-medium transition-colors duration-200",children:"Return to home"})]})});const D=r.reduce((P,H)=>P+(H.downloads||0),0),j=r.reduce((P,H)=>P+(H.likes||0),0);return m.jsxs("div",{className:"min-h-screen bg-nothing-black",children:[m.jsxs("div",{className:"bg-nothing-gray-900 border-b border-nothing-gray-800 relative overflow-hidden",children:[e.bannerImage&&m.jsxs("div",{className:"absolute inset-0 w-full h-full",children:[m.jsx("img",{src:e.bannerImage,alt:"Profile banner",className:"w-full h-full object-cover opacity-30"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-nothing-gray-900 via-nothing-gray-900/80 to-nothing-gray-900/40"})]}),m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 relative z-10",children:m.jsxs(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[m.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden mx-auto mb-6 border-4 border-nothing-white shadow-lg",children:e.profilePicture?m.jsx("img",{src:e.profilePicture,alt:e.displayName||e.username,className:"w-full h-full object-cover"}):m.jsx("div",{className:"w-full h-full bg-nothing-red flex items-center justify-center",children:m.jsx("span",{className:"text-2xl font-bold text-nothing-white",children:e.displayName?.charAt(0).toUpperCase()||e.username?.charAt(0).toUpperCase()})})}),m.jsx("h1",{className:"text-3xl font-bold text-nothing-white mb-2 font-nothing",children:e.username}),m.jsxs("p",{className:"text-nothing-red text-lg mb-4",children:["@",e.username]}),e.bio&&m.jsx("p",{className:"text-nothing-gray-300 max-w-2xl mx-auto mb-6",children:e.bio}),m.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 text-nothing-gray-400 text-sm mb-6",children:[e.location&&m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx(Nj,{className:"h-4 w-4"}),m.jsx("span",{children:e.location})]}),e.website&&m.jsxs("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-1 hover:text-nothing-white transition-colors duration-200",children:[m.jsx(bj,{className:"h-4 w-4"}),m.jsx("span",{children:"Website"})]}),m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx(Ng,{className:"h-4 w-4"}),m.jsxs("span",{children:["Joined ",e.createdAt?.toDate?.()?.toLocaleDateString()||"Unknown"]})]})]}),m.jsxs("div",{className:"flex items-center justify-center space-x-8",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-2xl font-bold text-nothing-white",children:r.length}),m.jsx("div",{className:"text-nothing-gray-400 text-sm",children:"Glyphs"})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-2xl font-bold text-nothing-white",children:D}),m.jsx("div",{className:"text-nothing-gray-400 text-sm",children:"Downloads"})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-2xl font-bold text-nothing-white",children:j}),m.jsx("div",{className:"text-nothing-gray-400 text-sm",children:"Likes"})]})]})]})})]}),m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[m.jsxs("div",{className:"flex space-x-4 border-b border-nothing-gray-800 mb-8",children:[m.jsx("button",{onClick:()=>f("latest"),className:`px-4 py-3 font-medium border-b-2 transition-colors duration-200 ${h==="latest"?"border-nothing-red text-nothing-red":"border-transparent text-nothing-gray-400 hover:text-nothing-white"}`,children:"Latest"}),m.jsx("button",{onClick:()=>f("popular"),className:`px-4 py-3 font-medium border-b-2 transition-colors duration-200 ${h==="popular"?"border-nothing-red text-nothing-red":"border-transparent text-nothing-gray-400 hover:text-nothing-white"}`,children:"Most Downloaded"}),m.jsx("button",{onClick:()=>f("liked"),className:`px-4 py-3 font-medium border-b-2 transition-colors duration-200 ${h==="liked"?"border-nothing-red text-nothing-red":"border-transparent text-nothing-gray-400 hover:text-nothing-white"}`,children:"Most Liked"})]}),r.length>0?m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:E().map((P,H)=>m.jsx(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:H*.1},children:m.jsx(I,{glyph:P})},P.id))}):m.jsxs("div",{className:"text-center py-12",children:[m.jsx("div",{className:"w-16 h-16 bg-nothing-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx(sr,{className:"h-8 w-8 text-nothing-gray-600"})}),m.jsx("h3",{className:"text-nothing-white text-lg font-medium mb-2",children:"No glyphs yet"}),m.jsxs("p",{className:"text-nothing-gray-400",children:[e.username," hasn't shared any glyphs yet."]})]})]}),p&&m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:m.jsxs("div",{className:"bg-nothing-gray-900 border border-nothing-gray-700 rounded-lg p-4",children:[m.jsx("h3",{className:"text-nothing-white font-bold mb-2",children:"Debug Info:"}),m.jsx("pre",{className:"text-nothing-gray-300 text-xs whitespace-pre-wrap overflow-auto",children:p})]})})]})},c4=()=>{const[n,e]=M.useState({title:"",description:"",images:[""],apkUrl:"",githubUrl:"",instructions:""}),[t,r]=M.useState(!1),[s,a]=M.useState(""),[u,h]=M.useState(""),{currentUser:f,userProfile:p}=di(),y=hi(),_=async()=>{try{const R=(await Cr(ar(Ge,"glyphs"))).docs.map(ne=>({id:ne.id,...ne.data()})),K=R.filter(ne=>ne.creatorId===f.uid),re=`Total glyphs in database: ${R.length}
My glyphs: ${K.length}
My UID: ${f.uid}
My username: ${p?.username}
My displayName: ${f.displayName}

My glyphs:
`+K.map(ne=>`- ${ne.title} (ID: ${ne.id})`).join(`
`);h(re),console.log("Debug info:",re)}catch(B){console.error("Error checking glyphs:",B),h("Error checking glyphs: "+B.message)}};if(!f)return y("/login"),null;const E=B=>{const{name:R,value:K}=B.target;e(re=>({...re,[R]:K})),a("")},I=(B,R)=>{const K=[...n.images];K[B]=R,e(re=>({...re,images:K}))},D=()=>{n.images.length<5&&e(B=>({...B,images:[...B.images,""]}))},j=B=>{if(n.images.length>1){const R=n.images.filter((K,re)=>re!==B);e(K=>({...K,images:R}))}},P=()=>{if(!n.title.trim())return a("Title is required"),!1;if(!n.description.trim())return a("Description is required"),!1;if(!n.apkUrl.trim()&&!n.githubUrl.trim())return a("Either APK download URL or GitHub repository URL is required"),!1;const B=/^https?:\/\/.+/;if(n.apkUrl.trim()&&!B.test(n.apkUrl))return a("APK URL must be a valid HTTP/HTTPS URL"),!1;if(n.githubUrl.trim()&&!B.test(n.githubUrl))return a("GitHub URL must be a valid HTTP/HTTPS URL"),!1;const R=n.images.filter(K=>K.trim());for(const K of R)if(!B.test(K))return a("All image URLs must be valid HTTP/HTTPS URLs"),!1;return!0},H=async B=>{if(B.preventDefault(),r(!0),a(""),!P()){r(!1);return}try{const R=n.images.filter(ne=>ne.trim()),K={title:n.title.trim(),description:n.description.trim(),images:R.length>0?R:[],apkUrl:n.apkUrl.trim()||null,githubUrl:n.githubUrl.trim()||null,instructions:n.instructions.trim()||null,creatorId:f.uid,creatorUsername:p?.username,downloads:0,views:0,likes:0,createdAt:new Date};console.log("Creating glyph with data:",K);const re=await H2(ar(Ge,"glyphs"),K);console.log("Glyph created with ID:",re.id),p&&await ka(kt(Ge,"users",f.uid),{glyphsCount:mu(1)}),y(`/glyph/${re.id}`)}catch(R){console.error("Error creating glyph:",R),a("Failed to upload glyph. Please try again.")}finally{r(!1)}};return m.jsx("div",{className:"min-h-screen bg-nothing-black py-12",children:m.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:[m.jsxs(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[m.jsx("div",{className:"w-16 h-16 bg-nothing-red rounded-full flex items-center justify-center mx-auto mb-6 glyph-animation",children:m.jsx(Zw,{className:"h-8 w-8 text-nothing-white"})}),m.jsx("h1",{className:"text-3xl font-bold text-nothing-white font-nothing mb-4",children:"Share Your Glyph"}),m.jsx("p",{className:"text-nothing-gray-400",children:"Upload your custom Nothing Phone(3) glyph and share it with the community"})]}),m.jsx(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-nothing-gray-900 border border-nothing-gray-800 rounded-lg p-8",children:m.jsxs("form",{onSubmit:H,className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-nothing-white mb-2",children:"Glyph Title *"}),m.jsx("input",{type:"text",id:"title",name:"title",value:n.title,onChange:E,placeholder:"e.g., Custom Boot Animation Glyph",className:"w-full px-4 py-3 bg-nothing-gray-800 border border-nothing-gray-700 rounded-lg text-nothing-white placeholder-nothing-gray-400 focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-transparent transition-all duration-200",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-nothing-white mb-2",children:"Description *"}),m.jsx("textarea",{id:"description",name:"description",value:n.description,onChange:E,rows:4,placeholder:"Describe your glyph, what it does, and any special features...",className:"w-full px-4 py-3 bg-nothing-gray-800 border border-nothing-gray-700 rounded-lg text-nothing-white placeholder-nothing-gray-400 focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-transparent transition-all duration-200 resize-vertical",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-nothing-white mb-2",children:"Image URLs (Optional)"}),m.jsx("p",{className:"text-sm text-nothing-gray-400 mb-4",children:"Add URLs to images showcasing your glyph (screenshots, demos, etc.)"}),n.images.map((B,R)=>m.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[m.jsxs("div",{className:"relative flex-1",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(dm,{className:"h-5 w-5 text-nothing-gray-400"})}),m.jsx("input",{type:"url",value:B,onChange:K=>I(R,K.target.value),placeholder:"https://example.com/image.jpg",className:"w-full pl-10 pr-4 py-3 bg-nothing-gray-800 border border-nothing-gray-700 rounded-lg text-nothing-white placeholder-nothing-gray-400 focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-transparent transition-all duration-200"})]}),n.images.length>1&&m.jsx("button",{type:"button",onClick:()=>j(R),className:"p-2 text-nothing-gray-400 hover:text-nothing-red transition-colors duration-200",children:m.jsx(hI,{className:"h-5 w-5"})})]},R)),n.images.length<5&&m.jsxs("button",{type:"button",onClick:D,className:"flex items-center space-x-2 text-nothing-red hover:text-red-400 text-sm font-medium transition-colors duration-200",children:[m.jsx(cI,{className:"h-4 w-4"}),m.jsx("span",{children:"Add another image"})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"apkUrl",className:"block text-sm font-medium text-nothing-white mb-2",children:"APK Download URL"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(Rj,{className:"h-5 w-5 text-nothing-gray-400"})}),m.jsx("input",{type:"url",id:"apkUrl",name:"apkUrl",value:n.apkUrl,onChange:E,placeholder:"https://github.com/username/repo/releases/download/v1.0/glyph.apk",className:"w-full pl-10 pr-4 py-3 bg-nothing-gray-800 border border-nothing-gray-700 rounded-lg text-nothing-white placeholder-nothing-gray-400 focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-transparent transition-all duration-200"})]}),m.jsx("p",{className:"text-sm text-nothing-gray-400 mt-2",children:"Direct link to your APK file (GitHub Releases, Google Drive, etc.)"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"githubUrl",className:"block text-sm font-medium text-nothing-white mb-2",children:"GitHub Repository"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(uI,{className:"h-5 w-5 text-nothing-gray-400"})}),m.jsx("input",{type:"url",id:"githubUrl",name:"githubUrl",value:n.githubUrl,onChange:E,placeholder:"https://github.com/username/repository",className:"w-full pl-10 pr-4 py-3 bg-nothing-gray-800 border border-nothing-gray-700 rounded-lg text-nothing-white placeholder-nothing-gray-400 focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-transparent transition-all duration-200"})]}),m.jsx("p",{className:"text-sm text-nothing-gray-400 mt-2",children:"Link to your GitHub repository with source code"})]}),m.jsx("div",{className:"bg-blue-900/20 border border-blue-700 text-blue-400 px-4 py-3 rounded-lg",children:m.jsxs("div",{className:"flex items-start space-x-3",children:[m.jsx("div",{className:"flex-shrink-0 mt-0.5",children:m.jsx("div",{className:"w-4 h-4 bg-blue-400 rounded-full flex items-center justify-center",children:m.jsx("span",{className:"text-blue-900 text-xs font-bold",children:"!"})})}),m.jsxs("div",{className:"text-sm",children:[m.jsx("p",{className:"font-medium mb-1",children:"Download Requirement"}),m.jsx("p",{children:"You must provide either an APK download URL or a GitHub repository link (or both). Users need a way to access your glyph."})]})]})}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"instructions",className:"block text-sm font-medium text-nothing-white mb-2",children:"Installation Instructions (Optional)"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute top-3 left-3 pointer-events-none",children:m.jsx(kj,{className:"h-5 w-5 text-nothing-gray-400"})}),m.jsx("textarea",{id:"instructions",name:"instructions",value:n.instructions,onChange:E,rows:4,placeholder:`1. Download the APK file
2. Enable installation from unknown sources
3. Install the APK
4. Open Nothing Glyph Composer...`,className:"w-full pl-10 pr-4 py-3 bg-nothing-gray-800 border border-nothing-gray-700 rounded-lg text-nothing-white placeholder-nothing-gray-400 focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-transparent transition-all duration-200 resize-vertical"})]})]}),s&&m.jsxs(Ne.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-900/20 border border-red-700 text-red-400 px-4 py-3 rounded-lg flex items-start space-x-3",children:[m.jsx(hm,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}),m.jsx("span",{className:"text-sm",children:s})]}),m.jsx("div",{className:"bg-yellow-900/20 border border-yellow-700 text-yellow-400 px-4 py-3 rounded-lg",children:m.jsxs("div",{className:"flex items-start space-x-3",children:[m.jsx(hm,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}),m.jsxs("div",{className:"text-sm",children:[m.jsx("p",{className:"font-medium mb-1",children:"Important Disclaimer"}),m.jsx("p",{children:"By uploading your glyph, you confirm that you own the rights to share this content. GlyphMart is not responsible for the safety or functionality of user-generated content."})]})]})}),m.jsxs("div",{className:"flex justify-end space-x-4",children:[m.jsx("button",{type:"button",onClick:()=>y("/"),className:"px-6 py-3 border border-nothing-gray-700 text-nothing-white hover:border-nothing-gray-600 rounded-lg font-medium transition-colors duration-200",children:"Cancel"}),m.jsx("button",{type:"submit",disabled:t,className:"px-6 py-3 bg-nothing-red hover:bg-red-700 text-nothing-white rounded-lg font-medium transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:t?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-nothing-white"}),m.jsx("span",{children:"Uploading..."})]}):m.jsxs(m.Fragment,{children:[m.jsx(Zw,{className:"h-4 w-4"}),m.jsx("span",{children:"Share Glyph"})]})})]})]})}),m.jsxs(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-nothing-gray-900 rounded-lg p-6 border border-nothing-gray-800 mt-6",children:[m.jsx("h2",{className:"text-nothing-white text-lg font-bold mb-4",children:"Debug: Check My Glyphs"}),m.jsx("button",{type:"button",onClick:_,className:"px-4 py-2 bg-nothing-gray-800 hover:bg-nothing-gray-700 text-nothing-white rounded-lg font-medium transition-colors duration-200 mb-4",children:"Check Database"}),u&&m.jsx("div",{className:"bg-nothing-gray-800 rounded-lg p-4",children:m.jsx("pre",{className:"text-nothing-gray-300 text-xs whitespace-pre-wrap overflow-auto",children:u})})]})]})})},h4=()=>{const[n,e]=JP(),[t,r]=M.useState(n.get("q")||""),[s,a]=M.useState([]),[u,h]=M.useState(!1),[f,p]=M.useState("latest"),[y,_]=M.useState("all");M.useEffect(()=>{const P=n.get("q");P&&(r(P),E(P))},[n]);const E=async(P,H=f,B=y)=>{if(P.trim()){h(!0);try{let R=ar(Ge,"glyphs");switch(H){case"popular":R=P(R,ca("downloads","desc"),ha(100));break;case"liked":R=P(R,ca("likes","desc"),ha(100));break;case"viewed":R=P(R,ca("views","desc"),ha(100));break;default:R=P(R,ca("createdAt","desc"),ha(100))}const re=(await Cr(R)).docs.map(A=>({id:A.id,...A.data()})),ne=P.toLowerCase(),N=re.filter(A=>A.title.toLowerCase().includes(ne)||A.description.toLowerCase().includes(ne)||A.creatorUsername.toLowerCase().includes(ne));a(N)}catch(R){console.error("Error searching glyphs:",R),a([])}finally{h(!1)}}},I=P=>{P.preventDefault(),t.trim()&&(e({q:t.trim()}),E(t.trim()))},D=P=>{p(P),t.trim()&&E(t,P,y)},j=({glyph:P})=>m.jsx(Ne.div,{whileHover:{y:-5},className:"bg-nothing-gray-900 border border-nothing-gray-800 rounded-lg overflow-hidden hover:border-nothing-gray-700 transition-all duration-300",children:m.jsxs(He,{to:`/glyph/${P.id}`,children:[m.jsxs("div",{className:"aspect-square bg-nothing-gray-800 relative overflow-hidden",children:[P.images&&P.images.length>0?m.jsx("img",{src:P.images[0],alt:P.title,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"}):m.jsx("div",{className:"w-full h-full flex items-center justify-center",children:m.jsx("div",{className:"w-16 h-16 bg-nothing-red rounded-full flex items-center justify-center glyph-animation",children:m.jsx(sr,{className:"h-8 w-8 text-nothing-white"})})}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-nothing-black/80 via-transparent to-transparent opacity-0 hover:opacity-100 transition-opacity duration-300",children:m.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:m.jsxs("div",{className:"flex items-center justify-between text-nothing-white text-sm",children:[m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(br,{className:"h-4 w-4"}),m.jsx("span",{children:P.downloads||0})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(zn,{className:"h-4 w-4"}),m.jsx("span",{children:P.likes||0})]})]})})})]}),m.jsxs("div",{className:"p-4",children:[m.jsx("h3",{className:"text-nothing-white font-semibold text-lg mb-2 truncate",children:P.title}),m.jsx("p",{className:"text-nothing-gray-400 text-sm mb-3 line-clamp-2",children:P.description}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs(He,{to:`/storefront/${P.creatorUsername}`,className:"text-nothing-red hover:text-red-400 text-sm font-medium transition-colors duration-200 flex items-center space-x-1",children:[m.jsx(Zi,{className:"h-3 w-3"}),m.jsxs("span",{children:["@",P.creatorUsername]})]}),m.jsxs("div",{className:"flex items-center space-x-4 text-nothing-gray-500 text-sm",children:[m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx(br,{className:"h-3 w-3"}),m.jsx("span",{children:P.downloads||0})]}),m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx(Bn,{className:"h-3 w-3"}),m.jsx("span",{children:P.views||0})]})]})]})]})]})});return m.jsx("div",{className:"min-h-screen bg-nothing-black",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[m.jsx("div",{className:"text-center mb-8",children:m.jsxs(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[m.jsx("div",{className:"w-16 h-16 bg-nothing-red rounded-full flex items-center justify-center mx-auto mb-6 glyph-animation",children:m.jsx(Gs,{className:"h-8 w-8 text-nothing-white"})}),m.jsx("h1",{className:"text-3xl font-bold text-nothing-white font-nothing mb-4",children:"Search Glyphs"}),m.jsx("p",{className:"text-nothing-gray-400 max-w-2xl mx-auto",children:"Discover custom Nothing Phone(3) glyphs created by the community"})]})}),m.jsx(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"max-w-2xl mx-auto mb-8",children:m.jsxs("form",{onSubmit:I,className:"relative",children:[m.jsx("input",{type:"text",value:t,onChange:P=>r(P.target.value),placeholder:"Search for glyphs, creators, or keywords...",className:"w-full px-6 py-4 pl-14 pr-16 bg-nothing-gray-900 border border-nothing-gray-700 rounded-lg text-nothing-white placeholder-nothing-gray-400 focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-transparent transition-all duration-200 text-lg"}),m.jsx(Gs,{className:"absolute left-4 top-4 h-6 w-6 text-nothing-gray-400"}),m.jsx("button",{type:"submit",className:"absolute right-2 top-2 bottom-2 px-4 bg-nothing-red hover:bg-red-700 text-nothing-white rounded-md font-medium transition-colors duration-200",children:"Search"})]})}),(s.length>0||u)&&m.jsxs(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsx("span",{className:"text-nothing-gray-400 text-sm",children:u?"Searching...":`${s.length} results found`}),t&&m.jsxs("span",{className:"text-nothing-white text-sm",children:['for "',m.jsx("span",{className:"text-nothing-red",children:t}),'"']})]}),m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(Cj,{className:"h-4 w-4 text-nothing-gray-400"}),m.jsx("span",{className:"text-nothing-gray-400 text-sm",children:"Sort by:"})]}),m.jsx("div",{className:"flex space-x-2",children:[{value:"latest",label:"Latest",icon:Ej},{value:"popular",label:"Popular",icon:br},{value:"liked",label:"Most Liked",icon:zn},{value:"viewed",label:"Most Viewed",icon:Bn}].map(({value:P,label:H,icon:B})=>m.jsxs("button",{onClick:()=>D(P),className:`flex items-center space-x-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors duration-200 ${f===P?"bg-nothing-red text-nothing-white":"bg-nothing-gray-800 text-nothing-gray-300 hover:bg-nothing-gray-700"}`,children:[m.jsx(B,{className:"h-4 w-4"}),m.jsx("span",{className:"hidden sm:inline",children:H})]},P))})]})]}),u&&m.jsx("div",{className:"flex items-center justify-center py-12",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"w-16 h-16 bg-nothing-red rounded-full flex items-center justify-center mx-auto mb-4 glyph-animation",children:m.jsx(Gs,{className:"h-8 w-8 text-nothing-white"})}),m.jsx("p",{className:"text-nothing-gray-400",children:"Searching glyphs..."})]})}),!u&&s.length>0&&m.jsx(Ne.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:s.map((P,H)=>m.jsx(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:H*.1},children:m.jsx(j,{glyph:P})},P.id))}),!u&&t&&s.length===0&&m.jsxs(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12",children:[m.jsx("div",{className:"w-16 h-16 bg-nothing-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx(Gs,{className:"h-8 w-8 text-nothing-gray-600"})}),m.jsx("h3",{className:"text-nothing-white text-lg font-medium mb-2",children:"No results found"}),m.jsx("p",{className:"text-nothing-gray-400 mb-6",children:"Try searching with different keywords or browse all glyphs."}),m.jsx(He,{to:"/",className:"bg-nothing-red hover:bg-red-700 text-nothing-white px-6 py-3 rounded-lg font-medium transition-colors duration-200",children:"Browse All Glyphs"})]}),!u&&!t&&m.jsxs(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12",children:[m.jsx("div",{className:"w-16 h-16 bg-nothing-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx(Gs,{className:"h-8 w-8 text-nothing-gray-600"})}),m.jsx("h3",{className:"text-nothing-white text-lg font-medium mb-2",children:"Start searching"}),m.jsx("p",{className:"text-nothing-gray-400 mb-6",children:"Enter a search term to find glyphs, creators, or specific features."}),m.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:["boot animation","notification","charging","custom"].map(P=>m.jsx("button",{onClick:()=>{r(P),e({q:P}),E(P)},className:"px-3 py-1 bg-nothing-gray-800 hover:bg-nothing-gray-700 text-nothing-gray-300 rounded-full text-sm transition-colors duration-200",children:P},P))})]})]})})},d4=()=>{const[n,e]=M.useState([]),[t,r]=M.useState(!0),{currentUser:s}=di();return M.useEffect(()=>{(async()=>{if(!s){r(!1);return}try{console.log("Fetching liked glyphs for user:",s.uid);const u=await a4(s.uid);console.log("Retrieved liked glyphs:",u),e(u)}catch(u){console.error("Error fetching liked glyphs:",u)}finally{r(!1)}})()},[s]),s?t?m.jsx("div",{className:"min-h-screen bg-nothing-black text-nothing-white flex items-center justify-center",children:m.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-nothing-red"})}):m.jsx("div",{className:"min-h-screen bg-nothing-black text-nothing-white",children:m.jsxs("div",{className:"container mx-auto px-4 py-8",children:[m.jsxs(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:[m.jsxs("h1",{className:"text-4xl font-bold mb-2 flex items-center",children:[m.jsx(zn,{className:"h-8 w-8 mr-3 text-nothing-red fill-current"}),"Liked Posts"]}),m.jsxs("p",{className:"text-nothing-gray-400",children:[n.length," glyph",n.length!==1?"s":""," you've liked"]})]}),n.length>0?m.jsx(Ne.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.2},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:n.map((a,u)=>m.jsx(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:u*.1},className:"group",children:m.jsx(He,{to:`/glyph/${a.id}`,children:m.jsxs("div",{className:"bg-nothing-gray-900 rounded-lg overflow-hidden border border-nothing-gray-800 hover:border-nothing-gray-700 transition-all duration-300 hover:scale-105",children:[m.jsxs("div",{className:"aspect-square bg-nothing-gray-800 relative overflow-hidden",children:[a.images&&a.images.length>0?m.jsx("img",{src:a.images[0],alt:a.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}):m.jsx("div",{className:"w-full h-full flex items-center justify-center",children:m.jsx("div",{className:"text-nothing-gray-500 text-6xl",children:"📱"})}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-nothing-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:m.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:m.jsxs("div",{className:"flex items-center justify-between text-nothing-white text-sm",children:[m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(br,{className:"h-4 w-4"}),m.jsx("span",{children:a.downloads||0})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(Bn,{className:"h-4 w-4"}),m.jsx("span",{children:a.views||0})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(zn,{className:"h-4 w-4 fill-current text-nothing-red"}),m.jsx("span",{children:a.likes||0})]})]})})})]}),m.jsxs("div",{className:"p-4",children:[m.jsx("h3",{className:"font-semibold text-nothing-white mb-2 line-clamp-2",children:a.title}),m.jsx("p",{className:"text-nothing-gray-400 text-sm mb-3 line-clamp-2",children:a.description}),m.jsxs("div",{className:"flex items-center justify-between text-xs text-nothing-gray-500",children:[m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx(Zi,{className:"h-3 w-3"}),m.jsx("span",{children:a.creatorUsername})]}),m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx(Ng,{className:"h-3 w-3"}),m.jsx("span",{children:a.createdAt?.toDate?a.createdAt.toDate().toLocaleDateString():new Date(a.createdAt).toLocaleDateString()})]})]})]})]})})},a.id))}):m.jsxs(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"text-center py-16",children:[m.jsx(zn,{className:"h-16 w-16 mx-auto mb-4 text-nothing-gray-600"}),m.jsx("h2",{className:"text-2xl font-bold mb-2 text-nothing-gray-400",children:"No liked posts yet"}),m.jsx("p",{className:"text-nothing-gray-500 mb-6",children:"Start exploring glyphs and like the ones you love!"}),m.jsx(He,{to:"/",className:"bg-nothing-red text-nothing-white px-6 py-3 rounded-lg font-semibold hover:bg-red-600 transition-colors duration-200",children:"Explore Glyphs"})]})]})}):m.jsx("div",{className:"min-h-screen bg-nothing-black text-nothing-white flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Please log in to view your liked posts"}),m.jsx(He,{to:"/login",className:"bg-nothing-red text-nothing-white px-6 py-3 rounded-lg font-semibold hover:bg-red-600 transition-colors duration-200",children:"Log In"})]})})},f4=()=>{const{currentUser:n,userProfile:e,logout:t}=di(),r=hi(),[s,a]=M.useState({displayName:"",username:"",email:"",bio:"",profilePicture:"",bannerImage:""}),[u,h]=M.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[f,p]=M.useState(!1),[y,_]=M.useState(!1),[E,I]=M.useState(!1),[D,j]=M.useState(!1),[P,H]=M.useState(""),[B,R]=M.useState(""),[K,re]=M.useState("profile"),[ne,N]=M.useState(""),[A,C]=M.useState(!1);M.useEffect(()=>{n&&e&&a({displayName:n.displayName||"",username:e.username||"",email:n.email||"",bio:e.bio||"",profilePicture:e.profilePicture||n.photoURL||"",bannerImage:e.bannerImage||""})},[n,e]);const V=async k=>{k.preventDefault(),j(!0),R(""),H("");try{s.displayName!==n.displayName&&await Gp(n,{displayName:s.displayName}),s.profilePicture!==n.photoURL&&await Gp(n,{photoURL:s.profilePicture}),s.email!==n.email&&await RC(n,s.email),await ka(kt(Ge,"users",n.uid),{username:s.username,displayName:s.displayName,bio:s.bio,profilePicture:s.profilePicture,bannerImage:s.bannerImage,updatedAt:new Date}),H("Profile updated successfully!")}catch(ce){console.error("Error updating profile:",ce),ce.code==="auth/requires-recent-login"?R("Please log out and log back in before updating your email."):R("Failed to update profile: "+ce.message)}finally{j(!1)}},U=async k=>{if(k.preventDefault(),j(!0),R(""),H(""),u.newPassword!==u.confirmPassword){R("New passwords do not match"),j(!1);return}if(u.newPassword.length<6){R("Password must be at least 6 characters long"),j(!1);return}try{const ce=ts.credential(n.email,u.currentPassword);await H0(n,ce),await NC(n,u.newPassword),H("Password updated successfully!"),h({currentPassword:"",newPassword:"",confirmPassword:""})}catch(ce){console.error("Error updating password:",ce),ce.code==="auth/wrong-password"?R("Current password is incorrect"):R("Failed to update password: "+ce.message)}finally{j(!1)}},z=async()=>{R(""),H(""),C(!0);try{if(!ne){R("Please enter your current password to confirm deletion."),C(!1);return}const k=ts.credential(n.email,ne);await H0(n,k);const ce=ar(Ge,"glyphs"),tt=Ji(ce,Yl("creatorId","==",n.uid)),De=await Cr(tt),Ce=Q2(Ge);De.forEach(fe=>{Ce.delete(fe.ref)}),await Ce.commit();const se=kt(Ge,"users",n.uid);await FT(se),await n.delete(),H("Account and all glyphs deleted successfully."),t(),r("/")}catch(k){R("Failed to delete account: "+(k.message||k.code))}finally{C(!1)}};return n?m.jsx("div",{className:"min-h-screen bg-nothing-black text-nothing-white",children:m.jsxs("div",{className:"container mx-auto px-4 py-8",children:[m.jsxs(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:[m.jsxs("h1",{className:"text-4xl font-bold mb-2 flex items-center",children:[m.jsx(fm,{className:"h-8 w-8 mr-3 text-nothing-red"}),"Settings"]}),m.jsx("p",{className:"text-nothing-gray-400",children:"Manage your account and preferences"})]}),P&&m.jsxs(Ne.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-green-900/20 border border-green-700 text-green-400 px-4 py-3 rounded-lg mb-6 flex items-center",children:[m.jsx(Sj,{className:"h-5 w-5 mr-2"}),P]}),B&&m.jsxs(Ne.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-900/20 border border-red-700 text-red-400 px-4 py-3 rounded-lg mb-6 flex items-center",children:[m.jsx(hm,{className:"h-5 w-5 mr-2"}),B]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[m.jsx(Ne.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"lg:col-span-1",children:m.jsx("div",{className:"bg-nothing-gray-900 rounded-lg p-6 border border-nothing-gray-800",children:m.jsxs("nav",{className:"space-y-2",children:[m.jsxs("button",{onClick:()=>re("profile"),className:`w-full text-left px-4 py-3 rounded-lg font-medium transition-colors duration-200 flex items-center space-x-3 ${K==="profile"?"bg-nothing-red text-nothing-white":"text-nothing-gray-400 hover:text-nothing-white hover:bg-nothing-gray-800"}`,children:[m.jsx(Zi,{className:"h-5 w-5"}),m.jsx("span",{children:"Profile"})]}),m.jsxs("button",{onClick:()=>re("security"),className:`w-full text-left px-4 py-3 rounded-lg font-medium transition-colors duration-200 flex items-center space-x-3 ${K==="security"?"bg-nothing-red text-nothing-white":"text-nothing-gray-400 hover:text-nothing-white hover:bg-nothing-gray-800"}`,children:[m.jsx(Wi,{className:"h-5 w-5"}),m.jsx("span",{children:"Security"})]})]})})}),m.jsxs(Ne.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5},className:"lg:col-span-3",children:[K==="profile"&&m.jsxs("div",{className:"bg-nothing-gray-900 rounded-lg p-6 border border-nothing-gray-800",children:[m.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Profile Information"}),m.jsxs("form",{onSubmit:V,className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-nothing-gray-300 mb-2",children:"Banner Image"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"w-full h-32 bg-nothing-gray-800 rounded-lg border border-nothing-gray-700 overflow-hidden mb-3",children:s.bannerImage?m.jsx("img",{src:s.bannerImage,alt:"Banner preview",className:"w-full h-full object-cover"}):m.jsx("div",{className:"w-full h-full flex items-center justify-center",children:m.jsx(dm,{className:"h-8 w-8 text-nothing-gray-600"})})}),m.jsxs("div",{className:"relative",children:[m.jsx(dm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-nothing-gray-500"}),m.jsx("input",{type:"url",value:s.bannerImage,onChange:k=>a(ce=>({...ce,bannerImage:k.target.value})),className:"w-full pl-10 pr-4 py-3 bg-nothing-gray-800 border border-nothing-gray-700 rounded-lg text-nothing-white placeholder-nothing-gray-500 focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-transparent",placeholder:"https://example.com/banner-image.jpg"})]})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-nothing-gray-300 mb-2",children:"Profile Picture"}),m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsx("div",{className:"w-20 h-20 bg-nothing-gray-800 rounded-full border border-nothing-gray-700 overflow-hidden flex-shrink-0",children:s.profilePicture?m.jsx("img",{src:s.profilePicture,alt:"Profile preview",className:"w-full h-full object-cover"}):m.jsx("div",{className:"w-full h-full flex items-center justify-center",children:m.jsx(Zi,{className:"h-8 w-8 text-nothing-gray-600"})})}),m.jsxs("div",{className:"flex-1 relative",children:[m.jsx(Ij,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-nothing-gray-500"}),m.jsx("input",{type:"url",value:s.profilePicture,onChange:k=>a(ce=>({...ce,profilePicture:k.target.value})),className:"w-full pl-10 pr-4 py-3 bg-nothing-gray-800 border border-nothing-gray-700 rounded-lg text-nothing-white placeholder-nothing-gray-500 focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-transparent",placeholder:"https://example.com/profile-picture.jpg"})]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-nothing-gray-300 mb-2",children:"Display Name"}),m.jsxs("div",{className:"relative",children:[m.jsx(Zi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-nothing-gray-500"}),m.jsx("input",{type:"text",value:s.displayName,onChange:k=>a(ce=>({...ce,displayName:k.target.value})),className:"w-full pl-10 pr-4 py-3 bg-nothing-gray-800 border border-nothing-gray-700 rounded-lg text-nothing-white placeholder-nothing-gray-500 focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-transparent",placeholder:"Your display name"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-nothing-gray-300 mb-2",children:"Username"}),m.jsx("input",{type:"text",value:s.username,onChange:k=>a(ce=>({...ce,username:k.target.value})),className:"w-full px-4 py-3 bg-nothing-gray-800 border border-nothing-gray-700 rounded-lg text-nothing-white placeholder-nothing-gray-500 focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-transparent",placeholder:"Your username"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-nothing-gray-300 mb-2",children:"Email Address"}),m.jsxs("div",{className:"relative",children:[m.jsx(Dg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-nothing-gray-500"}),m.jsx("input",{type:"email",value:s.email,onChange:k=>a(ce=>({...ce,email:k.target.value})),className:"w-full pl-10 pr-4 py-3 bg-nothing-gray-800 border border-nothing-gray-700 rounded-lg text-nothing-white placeholder-nothing-gray-500 focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-transparent",placeholder:"your@email.com"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-nothing-gray-300 mb-2",children:"Bio"}),m.jsx("textarea",{value:s.bio,onChange:k=>a(ce=>({...ce,bio:k.target.value})),rows:4,className:"w-full px-4 py-3 bg-nothing-gray-800 border border-nothing-gray-700 rounded-lg text-nothing-white placeholder-nothing-gray-500 focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-transparent resize-none",placeholder:"Tell us about yourself..."})]}),m.jsx("button",{type:"submit",disabled:D,className:"w-full md:w-auto px-6 py-3 bg-nothing-red hover:bg-red-700 text-nothing-white rounded-lg font-medium transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:D?m.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-nothing-white"}):m.jsxs(m.Fragment,{children:[m.jsx(Xw,{className:"h-5 w-5"}),m.jsx("span",{children:"Save Changes"})]})})]})]}),K==="security"&&m.jsxs("div",{className:"space-y-8",children:[m.jsxs("div",{className:"bg-nothing-gray-900 rounded-lg p-6 border border-nothing-gray-800",children:[m.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Change Password"}),m.jsxs("form",{onSubmit:U,className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-nothing-gray-300 mb-2",children:"Current Password"}),m.jsxs("div",{className:"relative",children:[m.jsx(Wi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-nothing-gray-500"}),m.jsx("input",{type:f?"text":"password",value:u.currentPassword,onChange:k=>h(ce=>({...ce,currentPassword:k.target.value})),className:"w-full pl-10 pr-12 py-3 bg-nothing-gray-800 border border-nothing-gray-700 rounded-lg text-nothing-white placeholder-nothing-gray-500 focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-transparent",placeholder:"Enter current password"}),m.jsx("button",{type:"button",onClick:()=>p(!f),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-nothing-gray-500 hover:text-nothing-white",children:f?m.jsx(_a,{className:"h-5 w-5"}):m.jsx(Bn,{className:"h-5 w-5"})})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-nothing-gray-300 mb-2",children:"New Password"}),m.jsxs("div",{className:"relative",children:[m.jsx(Wi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-nothing-gray-500"}),m.jsx("input",{type:y?"text":"password",value:u.newPassword,onChange:k=>h(ce=>({...ce,newPassword:k.target.value})),className:"w-full pl-10 pr-12 py-3 bg-nothing-gray-800 border border-nothing-gray-700 rounded-lg text-nothing-white placeholder-nothing-gray-500 focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-transparent",placeholder:"Enter new password"}),m.jsx("button",{type:"button",onClick:()=>_(!y),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-nothing-gray-500 hover:text-nothing-white",children:y?m.jsx(_a,{className:"h-5 w-5"}):m.jsx(Bn,{className:"h-5 w-5"})})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-nothing-gray-300 mb-2",children:"Confirm New Password"}),m.jsxs("div",{className:"relative",children:[m.jsx(Wi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-nothing-gray-500"}),m.jsx("input",{type:E?"text":"password",value:u.confirmPassword,onChange:k=>h(ce=>({...ce,confirmPassword:k.target.value})),className:"w-full pl-10 pr-12 py-3 bg-nothing-gray-800 border border-nothing-gray-700 rounded-lg text-nothing-white placeholder-nothing-gray-500 focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-transparent",placeholder:"Confirm new password"}),m.jsx("button",{type:"button",onClick:()=>I(!E),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-nothing-gray-500 hover:text-nothing-white",children:E?m.jsx(_a,{className:"h-5 w-5"}):m.jsx(Bn,{className:"h-5 w-5"})})]})]}),m.jsx("button",{type:"submit",disabled:D,className:"w-full md:w-auto px-6 py-3 bg-nothing-red hover:bg-red-700 text-nothing-white rounded-lg font-medium transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:D?m.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-nothing-white"}):m.jsxs(m.Fragment,{children:[m.jsx(Xw,{className:"h-5 w-5"}),m.jsx("span",{children:"Update Password"})]})})]})]}),m.jsxs("div",{className:"bg-red-900/10 border border-red-700/30 rounded-lg p-6",children:[m.jsx("h2",{className:"text-2xl font-bold mb-4 text-red-400",children:"Danger Zone"}),m.jsx("p",{className:"text-nothing-gray-400 mb-6",children:"Once you delete your account, there is no going back. This will permanently delete all your glyphs and data. Please be certain."}),m.jsxs("form",{onSubmit:k=>{k.preventDefault(),z()},className:"space-y-4",children:[m.jsx("label",{className:"block text-sm font-medium text-nothing-gray-300 mb-2",children:"Current Password"}),m.jsxs("div",{className:"relative mb-4",children:[m.jsx(Wi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-nothing-gray-500"}),m.jsx("input",{type:"password",value:ne,onChange:k=>N(k.target.value),className:"w-full pl-10 pr-4 py-3 bg-nothing-gray-800 border border-nothing-gray-700 rounded-lg text-nothing-white placeholder-nothing-gray-500 focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-transparent",placeholder:"Enter your current password",required:!0})]}),m.jsx("button",{type:"submit",disabled:A,className:"px-6 py-3 bg-red-600 hover:bg-red-700 text-nothing-white rounded-lg font-medium transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:A?"Deleting...":"Delete Account"})]})]})]})]})]})]})}):(r("/login"),null)},jp=({children:n})=>{const{currentUser:e}=di();return e?n:m.jsx(yx,{to:"/login"})},ix=({children:n})=>{const{currentUser:e}=di();return e?m.jsx(yx,{to:"/"}):n};function p4(){return m.jsx(vj,{children:m.jsx(KP,{children:m.jsxs("div",{className:"App",children:[m.jsx(ZO,{}),m.jsxs(UP,{children:[m.jsx(Tr,{path:"/",element:m.jsx(e4,{})}),m.jsx(Tr,{path:"/login",element:m.jsx(ix,{children:m.jsx(t4,{})})}),m.jsx(Tr,{path:"/signup",element:m.jsx(ix,{children:m.jsx(n4,{})})}),m.jsx(Tr,{path:"/glyph/:id",element:m.jsx(l4,{})}),m.jsx(Tr,{path:"/storefront/:username",element:m.jsx(u4,{})}),m.jsx(Tr,{path:"/upload",element:m.jsx(jp,{children:m.jsx(c4,{})})}),m.jsx(Tr,{path:"/search",element:m.jsx(h4,{})}),m.jsx(Tr,{path:"/liked",element:m.jsx(jp,{children:m.jsx(d4,{})})}),m.jsx(Tr,{path:"/settings",element:m.jsx(jp,{children:m.jsx(f4,{})})})]})]})})})}QS.createRoot(document.getElementById("root")).render(m.jsx(M.StrictMode,{children:m.jsx(p4,{})}));
