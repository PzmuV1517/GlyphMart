function JS(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in n)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function ZS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Rf={exports:{}},Sl={},jf={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dv;function eI(){if(Dv)return Ve;Dv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),x=Symbol.iterator;function E(L){return L===null||typeof L!="object"?null:(L=x&&L[x]||L["@@iterator"],typeof L=="function"?L:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,k={};function A(L,J,fe){this.props=L,this.context=J,this.refs=k,this.updater=fe||I}A.prototype.isReactComponent={},A.prototype.setState=function(L,J){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,J,"setState")},A.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function z(){}z.prototype=A.prototype;function G(L,J,fe){this.props=L,this.context=J,this.refs=k,this.updater=fe||I}var O=G.prototype=new z;O.constructor=G,D(O,A.prototype),O.isPureReactComponent=!0;var Y=Array.isArray,Z=Object.prototype.hasOwnProperty,se={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function b(L,J,fe){var le,ce={},ve=null,je=null;if(J!=null)for(le in J.ref!==void 0&&(je=J.ref),J.key!==void 0&&(ve=""+J.key),J)Z.call(J,le)&&!R.hasOwnProperty(le)&&(ce[le]=J[le]);var Be=arguments.length-2;if(Be===1)ce.children=fe;else if(1<Be){for(var qe=Array(Be),st=0;st<Be;st++)qe[st]=arguments[st+2];ce.children=qe}if(L&&L.defaultProps)for(le in Be=L.defaultProps,Be)ce[le]===void 0&&(ce[le]=Be[le]);return{$$typeof:n,type:L,key:ve,ref:je,props:ce,_owner:se.current}}function P(L,J){return{$$typeof:n,type:L.type,key:J,ref:L.ref,props:L.props,_owner:L._owner}}function V(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function U(L){var J={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(fe){return J[fe]})}var B=/\/+/g;function N(L,J){return typeof L=="object"&&L!==null&&L.key!=null?U(""+L.key):J.toString(36)}function be(L,J,fe,le,ce){var ve=typeof L;(ve==="undefined"||ve==="boolean")&&(L=null);var je=!1;if(L===null)je=!0;else switch(ve){case"string":case"number":je=!0;break;case"object":switch(L.$$typeof){case n:case e:je=!0}}if(je)return je=L,ce=ce(je),L=le===""?"."+N(je,0):le,Y(ce)?(fe="",L!=null&&(fe=L.replace(B,"$&/")+"/"),be(ce,J,fe,"",function(st){return st})):ce!=null&&(V(ce)&&(ce=P(ce,fe+(!ce.key||je&&je.key===ce.key?"":(""+ce.key).replace(B,"$&/")+"/")+L)),J.push(ce)),1;if(je=0,le=le===""?".":le+":",Y(L))for(var Be=0;Be<L.length;Be++){ve=L[Be];var qe=le+N(ve,Be);je+=be(ve,J,fe,qe,ce)}else if(qe=E(L),typeof qe=="function")for(L=qe.call(L),Be=0;!(ve=L.next()).done;)ve=ve.value,qe=le+N(ve,Be++),je+=be(ve,J,fe,qe,ce);else if(ve==="object")throw J=String(L),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return je}function $e(L,J,fe){if(L==null)return L;var le=[],ce=0;return be(L,le,"","",function(ve){return J.call(fe,ve,ce++)}),le}function Re(L){if(L._status===-1){var J=L._result;J=J(),J.then(function(fe){(L._status===0||L._status===-1)&&(L._status=1,L._result=fe)},function(fe){(L._status===0||L._status===-1)&&(L._status=2,L._result=fe)}),L._status===-1&&(L._status=0,L._result=J)}if(L._status===1)return L._result.default;throw L._result}var Ce={current:null},oe={transition:null},$={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:oe,ReactCurrentOwner:se};function X(){throw Error("act(...) is not supported in production builds of React.")}return Ve.Children={map:$e,forEach:function(L,J,fe){$e(L,function(){J.apply(this,arguments)},fe)},count:function(L){var J=0;return $e(L,function(){J++}),J},toArray:function(L){return $e(L,function(J){return J})||[]},only:function(L){if(!V(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Ve.Component=A,Ve.Fragment=t,Ve.Profiler=o,Ve.PureComponent=G,Ve.StrictMode=r,Ve.Suspense=p,Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$,Ve.act=X,Ve.cloneElement=function(L,J,fe){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var le=D({},L.props),ce=L.key,ve=L.ref,je=L._owner;if(J!=null){if(J.ref!==void 0&&(ve=J.ref,je=se.current),J.key!==void 0&&(ce=""+J.key),L.type&&L.type.defaultProps)var Be=L.type.defaultProps;for(qe in J)Z.call(J,qe)&&!R.hasOwnProperty(qe)&&(le[qe]=J[qe]===void 0&&Be!==void 0?Be[qe]:J[qe])}var qe=arguments.length-2;if(qe===1)le.children=fe;else if(1<qe){Be=Array(qe);for(var st=0;st<qe;st++)Be[st]=arguments[st+2];le.children=Be}return{$$typeof:n,type:L.type,key:ce,ref:ve,props:le,_owner:je}},Ve.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:a,_context:L},L.Consumer=L},Ve.createElement=b,Ve.createFactory=function(L){var J=b.bind(null,L);return J.type=L,J},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(L){return{$$typeof:h,render:L}},Ve.isValidElement=V,Ve.lazy=function(L){return{$$typeof:w,_payload:{_status:-1,_result:L},_init:Re}},Ve.memo=function(L,J){return{$$typeof:m,type:L,compare:J===void 0?null:J}},Ve.startTransition=function(L){var J=oe.transition;oe.transition={};try{L()}finally{oe.transition=J}},Ve.unstable_act=X,Ve.useCallback=function(L,J){return Ce.current.useCallback(L,J)},Ve.useContext=function(L){return Ce.current.useContext(L)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(L){return Ce.current.useDeferredValue(L)},Ve.useEffect=function(L,J){return Ce.current.useEffect(L,J)},Ve.useId=function(){return Ce.current.useId()},Ve.useImperativeHandle=function(L,J,fe){return Ce.current.useImperativeHandle(L,J,fe)},Ve.useInsertionEffect=function(L,J){return Ce.current.useInsertionEffect(L,J)},Ve.useLayoutEffect=function(L,J){return Ce.current.useLayoutEffect(L,J)},Ve.useMemo=function(L,J){return Ce.current.useMemo(L,J)},Ve.useReducer=function(L,J,fe){return Ce.current.useReducer(L,J,fe)},Ve.useRef=function(L){return Ce.current.useRef(L)},Ve.useState=function(L){return Ce.current.useState(L)},Ve.useSyncExternalStore=function(L,J,fe){return Ce.current.useSyncExternalStore(L,J,fe)},Ve.useTransition=function(){return Ce.current.useTransition()},Ve.version="18.3.1",Ve}var Vv;function im(){return Vv||(Vv=1,jf.exports=eI()),jf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv;function tI(){if(Lv)return Sl;Lv=1;var n=im(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(h,p,m){var w,x={},E=null,I=null;m!==void 0&&(E=""+m),p.key!==void 0&&(E=""+p.key),p.ref!==void 0&&(I=p.ref);for(w in p)r.call(p,w)&&!a.hasOwnProperty(w)&&(x[w]=p[w]);if(h&&h.defaultProps)for(w in p=h.defaultProps,p)x[w]===void 0&&(x[w]=p[w]);return{$$typeof:e,type:h,key:E,ref:I,props:x,_owner:o.current}}return Sl.Fragment=t,Sl.jsx=u,Sl.jsxs=u,Sl}var Ov;function nI(){return Ov||(Ov=1,Rf.exports=tI()),Rf.exports}var f=nI(),j=im();const Rh=ZS(j),rI=JS({__proto__:null,default:Rh},[j]);var Oc={},Df={exports:{}},hn={},Vf={exports:{}},Lf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv;function iI(){return Mv||(Mv=1,function(n){function e(oe,$){var X=oe.length;oe.push($);e:for(;0<X;){var L=X-1>>>1,J=oe[L];if(0<o(J,$))oe[L]=$,oe[X]=J,X=L;else break e}}function t(oe){return oe.length===0?null:oe[0]}function r(oe){if(oe.length===0)return null;var $=oe[0],X=oe.pop();if(X!==$){oe[0]=X;e:for(var L=0,J=oe.length,fe=J>>>1;L<fe;){var le=2*(L+1)-1,ce=oe[le],ve=le+1,je=oe[ve];if(0>o(ce,X))ve<J&&0>o(je,ce)?(oe[L]=je,oe[ve]=X,L=ve):(oe[L]=ce,oe[le]=X,L=le);else if(ve<J&&0>o(je,X))oe[L]=je,oe[ve]=X,L=ve;else break e}}return $}function o(oe,$){var X=oe.sortIndex-$.sortIndex;return X!==0?X:oe.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var p=[],m=[],w=1,x=null,E=3,I=!1,D=!1,k=!1,A=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(oe){for(var $=t(m);$!==null;){if($.callback===null)r(m);else if($.startTime<=oe)r(m),$.sortIndex=$.expirationTime,e(p,$);else break;$=t(m)}}function Y(oe){if(k=!1,O(oe),!D)if(t(p)!==null)D=!0,Re(Z);else{var $=t(m);$!==null&&Ce(Y,$.startTime-oe)}}function Z(oe,$){D=!1,k&&(k=!1,z(b),b=-1),I=!0;var X=E;try{for(O($),x=t(p);x!==null&&(!(x.expirationTime>$)||oe&&!U());){var L=x.callback;if(typeof L=="function"){x.callback=null,E=x.priorityLevel;var J=L(x.expirationTime<=$);$=n.unstable_now(),typeof J=="function"?x.callback=J:x===t(p)&&r(p),O($)}else r(p);x=t(p)}if(x!==null)var fe=!0;else{var le=t(m);le!==null&&Ce(Y,le.startTime-$),fe=!1}return fe}finally{x=null,E=X,I=!1}}var se=!1,R=null,b=-1,P=5,V=-1;function U(){return!(n.unstable_now()-V<P)}function B(){if(R!==null){var oe=n.unstable_now();V=oe;var $=!0;try{$=R(!0,oe)}finally{$?N():(se=!1,R=null)}}else se=!1}var N;if(typeof G=="function")N=function(){G(B)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,$e=be.port2;be.port1.onmessage=B,N=function(){$e.postMessage(null)}}else N=function(){A(B,0)};function Re(oe){R=oe,se||(se=!0,N())}function Ce(oe,$){b=A(function(){oe(n.unstable_now())},$)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(oe){oe.callback=null},n.unstable_continueExecution=function(){D||I||(D=!0,Re(Z))},n.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<oe?Math.floor(1e3/oe):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(oe){switch(E){case 1:case 2:case 3:var $=3;break;default:$=E}var X=E;E=$;try{return oe()}finally{E=X}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(oe,$){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var X=E;E=oe;try{return $()}finally{E=X}},n.unstable_scheduleCallback=function(oe,$,X){var L=n.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?L+X:L):X=L,oe){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=X+J,oe={id:w++,callback:$,priorityLevel:oe,startTime:X,expirationTime:J,sortIndex:-1},X>L?(oe.sortIndex=X,e(m,oe),t(p)===null&&oe===t(m)&&(k?(z(b),b=-1):k=!0,Ce(Y,X-L))):(oe.sortIndex=J,e(p,oe),D||I||(D=!0,Re(Z))),oe},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(oe){var $=E;return function(){var X=E;E=$;try{return oe.apply(this,arguments)}finally{E=X}}}}(Lf)),Lf}var Uv;function sI(){return Uv||(Uv=1,Vf.exports=iI()),Vf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv;function oI(){if(Fv)return hn;Fv=1;var n=im(),e=sI();function t(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(i,s){u(i,s),u(i+"Capture",s)}function u(i,s){for(o[i]=s,i=0;i<s.length;i++)r.add(s[i])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},x={};function E(i){return p.call(x,i)?!0:p.call(w,i)?!1:m.test(i)?x[i]=!0:(w[i]=!0,!1)}function I(i,s,l,d){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function D(i,s,l,d){if(s===null||typeof s>"u"||I(i,s,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function k(i,s,l,d,g,v,T){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=g,this.mustUseProperty=l,this.propertyName=i,this.type=s,this.sanitizeURL=v,this.removeEmptyString=T}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){A[i]=new k(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];A[s]=new k(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){A[i]=new k(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){A[i]=new k(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){A[i]=new k(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){A[i]=new k(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){A[i]=new k(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){A[i]=new k(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){A[i]=new k(i,5,!1,i.toLowerCase(),null,!1,!1)});var z=/[\-:]([a-z])/g;function G(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(z,G);A[s]=new k(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(z,G);A[s]=new k(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(z,G);A[s]=new k(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){A[i]=new k(i,1,!1,i.toLowerCase(),null,!1,!1)}),A.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){A[i]=new k(i,1,!1,i.toLowerCase(),null,!0,!0)});function O(i,s,l,d){var g=A.hasOwnProperty(s)?A[s]:null;(g!==null?g.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(D(s,l,g,d)&&(l=null),d||g===null?E(s)&&(l===null?i.removeAttribute(s):i.setAttribute(s,""+l)):g.mustUseProperty?i[g.propertyName]=l===null?g.type===3?!1:"":l:(s=g.attributeName,d=g.attributeNamespace,l===null?i.removeAttribute(s):(g=g.type,l=g===3||g===4&&l===!0?"":""+l,d?i.setAttributeNS(d,s,l):i.setAttribute(s,l))))}var Y=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Z=Symbol.for("react.element"),se=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),U=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),$e=Symbol.for("react.memo"),Re=Symbol.for("react.lazy"),Ce=Symbol.for("react.offscreen"),oe=Symbol.iterator;function $(i){return i===null||typeof i!="object"?null:(i=oe&&i[oe]||i["@@iterator"],typeof i=="function"?i:null)}var X=Object.assign,L;function J(i){if(L===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);L=s&&s[1]||""}return`
`+L+i}var fe=!1;function le(i,s){if(!i||fe)return"";fe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(K){var d=K}Reflect.construct(i,[],s)}else{try{s.call()}catch(K){d=K}i.call(s.prototype)}else{try{throw Error()}catch(K){d=K}i()}}catch(K){if(K&&d&&typeof K.stack=="string"){for(var g=K.stack.split(`
`),v=d.stack.split(`
`),T=g.length-1,C=v.length-1;1<=T&&0<=C&&g[T]!==v[C];)C--;for(;1<=T&&0<=C;T--,C--)if(g[T]!==v[C]){if(T!==1||C!==1)do if(T--,C--,0>C||g[T]!==v[C]){var M=`
`+g[T].replace(" at new "," at ");return i.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",i.displayName)),M}while(1<=T&&0<=C);break}}}finally{fe=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?J(i):""}function ce(i){switch(i.tag){case 5:return J(i.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return i=le(i.type,!1),i;case 11:return i=le(i.type.render,!1),i;case 1:return i=le(i.type,!0),i;default:return""}}function ve(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case R:return"Fragment";case se:return"Portal";case P:return"Profiler";case b:return"StrictMode";case N:return"Suspense";case be:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case U:return(i.displayName||"Context")+".Consumer";case V:return(i._context.displayName||"Context")+".Provider";case B:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case $e:return s=i.displayName||null,s!==null?s:ve(i.type)||"Memo";case Re:s=i._payload,i=i._init;try{return ve(i(s))}catch{}}return null}function je(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(s);case 8:return s===b?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Be(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function qe(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function st(i){var s=qe(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),d=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,v=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return g.call(this)},set:function(T){d=""+T,v.call(this,T)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(T){d=""+T},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Dt(i){i._valueTracker||(i._valueTracker=st(i))}function ss(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return i&&(d=qe(i)?i.checked?"true":"false":i.value),i=d,i!==l?(s.setValue(i),!0):!1}function ui(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function os(i,s){var l=s.checked;return X({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function ao(i,s){var l=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;l=Be(s.value!=null?s.value:l),i._wrapperState={initialChecked:d,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Ca(i,s){s=s.checked,s!=null&&O(i,"checked",s,!1)}function Na(i,s){Ca(i,s);var l=Be(s.value),d=s.type;if(l!=null)d==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(d==="submit"||d==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?lo(i,s.type,l):s.hasOwnProperty("defaultValue")&&lo(i,s.type,Be(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function Eu(i,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,l||s===i.value||(i.value=s),i.defaultValue=s}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function lo(i,s,l){(s!=="number"||ui(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var Rr=Array.isArray;function jr(i,s,l,d){if(i=i.options,s){s={};for(var g=0;g<l.length;g++)s["$"+l[g]]=!0;for(l=0;l<i.length;l++)g=s.hasOwnProperty("$"+i[l].value),i[l].selected!==g&&(i[l].selected=g),g&&d&&(i[l].defaultSelected=!0)}else{for(l=""+Be(l),s=null,g=0;g<i.length;g++){if(i[g].value===l){i[g].selected=!0,d&&(i[g].defaultSelected=!0);return}s!==null||i[g].disabled||(s=i[g])}s!==null&&(s.selected=!0)}}function Ra(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return X({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function uo(i,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(Rr(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}i._wrapperState={initialValue:Be(l)}}function co(i,s){var l=Be(s.value),d=Be(s.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),s.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),d!=null&&(i.defaultValue=""+d)}function ja(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function _t(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Et(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?_t(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Dr,Da=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,d,g){MSApp.execUnsafeLocalFunction(function(){return i(s,l,d,g)})}:i}(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(Dr=Dr||document.createElement("div"),Dr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Dr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function ci(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var as={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ls=["Webkit","ms","Moz","O"];Object.keys(as).forEach(function(i){ls.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),as[s]=as[i]})});function Va(i,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||as.hasOwnProperty(i)&&as[i]?(""+s).trim():s+"px"}function La(i,s){i=i.style;for(var l in s)if(s.hasOwnProperty(l)){var d=l.indexOf("--")===0,g=Va(l,s[l],d);l==="float"&&(l="cssFloat"),d?i.setProperty(l,g):i[l]=g}}var Oa=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ma(i,s){if(s){if(Oa[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Ua(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var us=null;function ho(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var fo=null,Sn=null,ur=null;function po(i){if(i=ul(i)){if(typeof fo!="function")throw Error(t(280));var s=i.stateNode;s&&(s=Ju(s),fo(i.stateNode,i.type,s))}}function cr(i){Sn?ur?ur.push(i):ur=[i]:Sn=i}function Fa(){if(Sn){var i=Sn,s=ur;if(ur=Sn=null,po(i),s)for(i=0;i<s.length;i++)po(s[i])}}function cs(i,s){return i(s)}function Ba(){}var Vr=!1;function za(i,s,l){if(Vr)return i(s,l);Vr=!0;try{return cs(i,s,l)}finally{Vr=!1,(Sn!==null||ur!==null)&&(Ba(),Fa())}}function dt(i,s){var l=i.stateNode;if(l===null)return null;var d=Ju(l);if(d===null)return null;l=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var mo=!1;if(h)try{var Fn={};Object.defineProperty(Fn,"passive",{get:function(){mo=!0}}),window.addEventListener("test",Fn,Fn),window.removeEventListener("test",Fn,Fn)}catch{mo=!1}function hs(i,s,l,d,g,v,T,C,M){var K=Array.prototype.slice.call(arguments,3);try{s.apply(l,K)}catch(te){this.onError(te)}}var ds=!1,go=null,Bn=!1,$a=null,sd={onError:function(i){ds=!0,go=i}};function yo(i,s,l,d,g,v,T,C,M){ds=!1,go=null,hs.apply(sd,arguments)}function Tu(i,s,l,d,g,v,T,C,M){if(yo.apply(this,arguments),ds){if(ds){var K=go;ds=!1,go=null}else throw Error(t(198));Bn||(Bn=!0,$a=K)}}function zn(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function fs(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function $n(i){if(zn(i)!==i)throw Error(t(188))}function Su(i){var s=i.alternate;if(!s){if(s=zn(i),s===null)throw Error(t(188));return s!==i?null:i}for(var l=i,d=s;;){var g=l.return;if(g===null)break;var v=g.alternate;if(v===null){if(d=g.return,d!==null){l=d;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===l)return $n(g),i;if(v===d)return $n(g),s;v=v.sibling}throw Error(t(188))}if(l.return!==d.return)l=g,d=v;else{for(var T=!1,C=g.child;C;){if(C===l){T=!0,l=g,d=v;break}if(C===d){T=!0,d=g,l=v;break}C=C.sibling}if(!T){for(C=v.child;C;){if(C===l){T=!0,l=v,d=g;break}if(C===d){T=!0,d=v,l=g;break}C=C.sibling}if(!T)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:s}function Ha(i){return i=Su(i),i!==null?vo(i):null}function vo(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=vo(i);if(s!==null)return s;i=i.sibling}return null}var wo=e.unstable_scheduleCallback,Wa=e.unstable_cancelCallback,Iu=e.unstable_shouldYield,od=e.unstable_requestPaint,Je=e.unstable_now,bu=e.unstable_getCurrentPriorityLevel,ps=e.unstable_ImmediatePriority,hi=e.unstable_UserBlockingPriority,In=e.unstable_NormalPriority,qa=e.unstable_LowPriority,Pu=e.unstable_IdlePriority,ms=null,mn=null;function Au(i){if(mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(ms,i,void 0,(i.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:Cu,Ga=Math.log,ku=Math.LN2;function Cu(i){return i>>>=0,i===0?32:31-(Ga(i)/ku|0)|0}var xo=64,_o=4194304;function di(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function gs(i,s){var l=i.pendingLanes;if(l===0)return 0;var d=0,g=i.suspendedLanes,v=i.pingedLanes,T=l&268435455;if(T!==0){var C=T&~g;C!==0?d=di(C):(v&=T,v!==0&&(d=di(v)))}else T=l&~g,T!==0?d=di(T):v!==0&&(d=di(v));if(d===0)return 0;if(s!==0&&s!==d&&(s&g)===0&&(g=d&-d,v=s&-s,g>=v||g===16&&(v&4194240)!==0))return s;if((d&4)!==0&&(d|=l&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=d;0<s;)l=31-Jt(s),g=1<<l,d|=i[l],s&=~g;return d}function ad(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lr(i,s){for(var l=i.suspendedLanes,d=i.pingedLanes,g=i.expirationTimes,v=i.pendingLanes;0<v;){var T=31-Jt(v),C=1<<T,M=g[T];M===-1?((C&l)===0||(C&d)!==0)&&(g[T]=ad(C,s)):M<=s&&(i.expiredLanes|=C),v&=~C}}function gn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function ys(){var i=xo;return xo<<=1,(xo&4194240)===0&&(xo=64),i}function fi(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function pi(i,s,l){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-Jt(s),i[s]=l}function Ye(i,s){var l=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var d=i.eventTimes;for(i=i.expirationTimes;0<l;){var g=31-Jt(l),v=1<<g;s[g]=0,d[g]=-1,i[g]=-1,l&=~v}}function mi(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var d=31-Jt(l),g=1<<d;g&s|i[d]&s&&(i[d]|=s),l&=~g}}var Oe=0;function gi(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Nu,Eo,Ru,ju,Du,Ka=!1,hr=[],Vt=null,Hn=null,Wn=null,yi=new Map,bn=new Map,dr=[],ld="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vu(i,s){switch(i){case"focusin":case"focusout":Vt=null;break;case"dragenter":case"dragleave":Hn=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":yi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":bn.delete(s.pointerId)}}function rn(i,s,l,d,g,v){return i===null||i.nativeEvent!==v?(i={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:v,targetContainers:[g]},s!==null&&(s=ul(s),s!==null&&Eo(s)),i):(i.eventSystemFlags|=d,s=i.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),i)}function ud(i,s,l,d,g){switch(s){case"focusin":return Vt=rn(Vt,i,s,l,d,g),!0;case"dragenter":return Hn=rn(Hn,i,s,l,d,g),!0;case"mouseover":return Wn=rn(Wn,i,s,l,d,g),!0;case"pointerover":var v=g.pointerId;return yi.set(v,rn(yi.get(v)||null,i,s,l,d,g)),!0;case"gotpointercapture":return v=g.pointerId,bn.set(v,rn(bn.get(v)||null,i,s,l,d,g)),!0}return!1}function Lu(i){var s=Es(i.target);if(s!==null){var l=zn(s);if(l!==null){if(s=l.tag,s===13){if(s=fs(l),s!==null){i.blockedOn=s,Du(i.priority,function(){Ru(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Or(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=To(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var d=new l.constructor(l.type,l);us=d,l.target.dispatchEvent(d),us=null}else return s=ul(l),s!==null&&Eo(s),i.blockedOn=l,!1;s.shift()}return!0}function vs(i,s,l){Or(i)&&l.delete(s)}function Ou(){Ka=!1,Vt!==null&&Or(Vt)&&(Vt=null),Hn!==null&&Or(Hn)&&(Hn=null),Wn!==null&&Or(Wn)&&(Wn=null),yi.forEach(vs),bn.forEach(vs)}function qn(i,s){i.blockedOn===s&&(i.blockedOn=null,Ka||(Ka=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ou)))}function Gn(i){function s(g){return qn(g,i)}if(0<hr.length){qn(hr[0],i);for(var l=1;l<hr.length;l++){var d=hr[l];d.blockedOn===i&&(d.blockedOn=null)}}for(Vt!==null&&qn(Vt,i),Hn!==null&&qn(Hn,i),Wn!==null&&qn(Wn,i),yi.forEach(s),bn.forEach(s),l=0;l<dr.length;l++)d=dr[l],d.blockedOn===i&&(d.blockedOn=null);for(;0<dr.length&&(l=dr[0],l.blockedOn===null);)Lu(l),l.blockedOn===null&&dr.shift()}var Mr=Y.ReactCurrentBatchConfig,vi=!0;function rt(i,s,l,d){var g=Oe,v=Mr.transition;Mr.transition=null;try{Oe=1,Qa(i,s,l,d)}finally{Oe=g,Mr.transition=v}}function cd(i,s,l,d){var g=Oe,v=Mr.transition;Mr.transition=null;try{Oe=4,Qa(i,s,l,d)}finally{Oe=g,Mr.transition=v}}function Qa(i,s,l,d){if(vi){var g=To(i,s,l,d);if(g===null)_d(i,s,d,ws,l),Vu(i,d);else if(ud(g,i,s,l,d))d.stopPropagation();else if(Vu(i,d),s&4&&-1<ld.indexOf(i)){for(;g!==null;){var v=ul(g);if(v!==null&&Nu(v),v=To(i,s,l,d),v===null&&_d(i,s,d,ws,l),v===g)break;g=v}g!==null&&d.stopPropagation()}else _d(i,s,d,null,l)}}var ws=null;function To(i,s,l,d){if(ws=null,i=ho(d),i=Es(i),i!==null)if(s=zn(i),s===null)i=null;else if(l=s.tag,l===13){if(i=fs(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return ws=i,null}function Ya(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bu()){case ps:return 1;case hi:return 4;case In:case qa:return 16;case Pu:return 536870912;default:return 16}default:return 16}}var yn=null,So=null,sn=null;function Xa(){if(sn)return sn;var i,s=So,l=s.length,d,g="value"in yn?yn.value:yn.textContent,v=g.length;for(i=0;i<l&&s[i]===g[i];i++);var T=l-i;for(d=1;d<=T&&s[l-d]===g[v-d];d++);return sn=g.slice(i,1<d?1-d:void 0)}function Io(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function fr(){return!0}function Ja(){return!1}function Lt(i){function s(l,d,g,v,T){this._reactName=l,this._targetInst=g,this.type=d,this.nativeEvent=v,this.target=T,this.currentTarget=null;for(var C in i)i.hasOwnProperty(C)&&(l=i[C],this[C]=l?l(v):v[C]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?fr:Ja,this.isPropagationStopped=Ja,this}return X(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=fr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=fr)},persist:function(){},isPersistent:fr}),s}var Kn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bo=Lt(Kn),pr=X({},Kn,{view:0,detail:0}),hd=Lt(pr),Po,Ur,wi,xs=X({},pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==wi&&(wi&&i.type==="mousemove"?(Po=i.screenX-wi.screenX,Ur=i.screenY-wi.screenY):Ur=Po=0,wi=i),Po)},movementY:function(i){return"movementY"in i?i.movementY:Ur}}),Ao=Lt(xs),Za=X({},xs,{dataTransfer:0}),Mu=Lt(Za),ko=X({},pr,{relatedTarget:0}),Co=Lt(ko),Uu=X({},Kn,{animationName:0,elapsedTime:0,pseudoElement:0}),Fr=Lt(Uu),Fu=X({},Kn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Bu=Lt(Fu),zu=X({},Kn,{data:0}),el=Lt(zu),No={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hu(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=$u[i])?!!s[i]:!1}function mr(){return Hu}var c=X({},pr,{key:function(i){if(i.key){var s=No[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Io(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Zt[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mr,charCode:function(i){return i.type==="keypress"?Io(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Io(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),y=Lt(c),_=X({},xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=Lt(_),H=X({},pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mr}),Q=Lt(H),ue=X({},Kn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ke=Lt(ue),Tt=X({},xs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ue=Lt(Tt),kt=[9,13,27,32],yt=h&&"CompositionEvent"in window,Pn=null;h&&"documentMode"in document&&(Pn=document.documentMode);var vn=h&&"TextEvent"in window&&!Pn,_s=h&&(!yt||Pn&&8<Pn&&11>=Pn),Ro=" ",Ag=!1;function kg(i,s){switch(i){case"keyup":return kt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var jo=!1;function Q1(i,s){switch(i){case"compositionend":return Cg(s);case"keypress":return s.which!==32?null:(Ag=!0,Ro);case"textInput":return i=s.data,i===Ro&&Ag?null:i;default:return null}}function Y1(i,s){if(jo)return i==="compositionend"||!yt&&kg(i,s)?(i=Xa(),sn=So=yn=null,jo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return _s&&s.locale!=="ko"?null:s.data;default:return null}}var X1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ng(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!X1[i.type]:s==="textarea"}function Rg(i,s,l,d){cr(d),s=Qu(s,"onChange"),0<s.length&&(l=new bo("onChange","change",null,l,d),i.push({event:l,listeners:s}))}var tl=null,nl=null;function J1(i){Yg(i,0)}function Wu(i){var s=Mo(i);if(ss(s))return i}function Z1(i,s){if(i==="change")return s}var jg=!1;if(h){var dd;if(h){var fd="oninput"in document;if(!fd){var Dg=document.createElement("div");Dg.setAttribute("oninput","return;"),fd=typeof Dg.oninput=="function"}dd=fd}else dd=!1;jg=dd&&(!document.documentMode||9<document.documentMode)}function Vg(){tl&&(tl.detachEvent("onpropertychange",Lg),nl=tl=null)}function Lg(i){if(i.propertyName==="value"&&Wu(nl)){var s=[];Rg(s,nl,i,ho(i)),za(J1,s)}}function eS(i,s,l){i==="focusin"?(Vg(),tl=s,nl=l,tl.attachEvent("onpropertychange",Lg)):i==="focusout"&&Vg()}function tS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Wu(nl)}function nS(i,s){if(i==="click")return Wu(s)}function rS(i,s){if(i==="input"||i==="change")return Wu(s)}function iS(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Qn=typeof Object.is=="function"?Object.is:iS;function rl(i,s){if(Qn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var g=l[d];if(!p.call(s,g)||!Qn(i[g],s[g]))return!1}return!0}function Og(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Mg(i,s){var l=Og(i);i=0;for(var d;l;){if(l.nodeType===3){if(d=i+l.textContent.length,i<=s&&d>=s)return{node:l,offset:s-i};i=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Og(l)}}function Ug(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Ug(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Fg(){for(var i=window,s=ui();s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=ui(i.document)}return s}function pd(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function sS(i){var s=Fg(),l=i.focusedElem,d=i.selectionRange;if(s!==l&&l&&l.ownerDocument&&Ug(l.ownerDocument.documentElement,l)){if(d!==null&&pd(l)){if(s=d.start,i=d.end,i===void 0&&(i=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(i,l.value.length);else if(i=(s=l.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var g=l.textContent.length,v=Math.min(d.start,g);d=d.end===void 0?v:Math.min(d.end,g),!i.extend&&v>d&&(g=d,d=v,v=g),g=Mg(l,v);var T=Mg(l,d);g&&T&&(i.rangeCount!==1||i.anchorNode!==g.node||i.anchorOffset!==g.offset||i.focusNode!==T.node||i.focusOffset!==T.offset)&&(s=s.createRange(),s.setStart(g.node,g.offset),i.removeAllRanges(),v>d?(i.addRange(s),i.extend(T.node,T.offset)):(s.setEnd(T.node,T.offset),i.addRange(s)))}}for(s=[],i=l;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)i=s[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var oS=h&&"documentMode"in document&&11>=document.documentMode,Do=null,md=null,il=null,gd=!1;function Bg(i,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;gd||Do==null||Do!==ui(d)||(d=Do,"selectionStart"in d&&pd(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),il&&rl(il,d)||(il=d,d=Qu(md,"onSelect"),0<d.length&&(s=new bo("onSelect","select",null,s,l),i.push({event:s,listeners:d}),s.target=Do)))}function qu(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var Vo={animationend:qu("Animation","AnimationEnd"),animationiteration:qu("Animation","AnimationIteration"),animationstart:qu("Animation","AnimationStart"),transitionend:qu("Transition","TransitionEnd")},yd={},zg={};h&&(zg=document.createElement("div").style,"AnimationEvent"in window||(delete Vo.animationend.animation,delete Vo.animationiteration.animation,delete Vo.animationstart.animation),"TransitionEvent"in window||delete Vo.transitionend.transition);function Gu(i){if(yd[i])return yd[i];if(!Vo[i])return i;var s=Vo[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in zg)return yd[i]=s[l];return i}var $g=Gu("animationend"),Hg=Gu("animationiteration"),Wg=Gu("animationstart"),qg=Gu("transitionend"),Gg=new Map,Kg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xi(i,s){Gg.set(i,s),a(s,[i])}for(var vd=0;vd<Kg.length;vd++){var wd=Kg[vd],aS=wd.toLowerCase(),lS=wd[0].toUpperCase()+wd.slice(1);xi(aS,"on"+lS)}xi($g,"onAnimationEnd"),xi(Hg,"onAnimationIteration"),xi(Wg,"onAnimationStart"),xi("dblclick","onDoubleClick"),xi("focusin","onFocus"),xi("focusout","onBlur"),xi(qg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uS=new Set("cancel close invalid load scroll toggle".split(" ").concat(sl));function Qg(i,s,l){var d=i.type||"unknown-event";i.currentTarget=l,Tu(d,s,void 0,i),i.currentTarget=null}function Yg(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var d=i[l],g=d.event;d=d.listeners;e:{var v=void 0;if(s)for(var T=d.length-1;0<=T;T--){var C=d[T],M=C.instance,K=C.currentTarget;if(C=C.listener,M!==v&&g.isPropagationStopped())break e;Qg(g,C,K),v=M}else for(T=0;T<d.length;T++){if(C=d[T],M=C.instance,K=C.currentTarget,C=C.listener,M!==v&&g.isPropagationStopped())break e;Qg(g,C,K),v=M}}}if(Bn)throw i=$a,Bn=!1,$a=null,i}function tt(i,s){var l=s[Pd];l===void 0&&(l=s[Pd]=new Set);var d=i+"__bubble";l.has(d)||(Xg(s,i,2,!1),l.add(d))}function xd(i,s,l){var d=0;s&&(d|=4),Xg(l,i,d,s)}var Ku="_reactListening"+Math.random().toString(36).slice(2);function ol(i){if(!i[Ku]){i[Ku]=!0,r.forEach(function(l){l!=="selectionchange"&&(uS.has(l)||xd(l,!1,i),xd(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Ku]||(s[Ku]=!0,xd("selectionchange",!1,s))}}function Xg(i,s,l,d){switch(Ya(s)){case 1:var g=rt;break;case 4:g=cd;break;default:g=Qa}l=g.bind(null,s,l,i),g=void 0,!mo||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),d?g!==void 0?i.addEventListener(s,l,{capture:!0,passive:g}):i.addEventListener(s,l,!0):g!==void 0?i.addEventListener(s,l,{passive:g}):i.addEventListener(s,l,!1)}function _d(i,s,l,d,g){var v=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var T=d.tag;if(T===3||T===4){var C=d.stateNode.containerInfo;if(C===g||C.nodeType===8&&C.parentNode===g)break;if(T===4)for(T=d.return;T!==null;){var M=T.tag;if((M===3||M===4)&&(M=T.stateNode.containerInfo,M===g||M.nodeType===8&&M.parentNode===g))return;T=T.return}for(;C!==null;){if(T=Es(C),T===null)return;if(M=T.tag,M===5||M===6){d=v=T;continue e}C=C.parentNode}}d=d.return}za(function(){var K=v,te=ho(l),re=[];e:{var ee=Gg.get(i);if(ee!==void 0){var he=bo,pe=i;switch(i){case"keypress":if(Io(l)===0)break e;case"keydown":case"keyup":he=y;break;case"focusin":pe="focus",he=Co;break;case"focusout":pe="blur",he=Co;break;case"beforeblur":case"afterblur":he=Co;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=Ao;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=Mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=Q;break;case $g:case Hg:case Wg:he=Fr;break;case qg:he=Ke;break;case"scroll":he=hd;break;case"wheel":he=Ue;break;case"copy":case"cut":case"paste":he=Bu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=S}var me=(s&4)!==0,ft=!me&&i==="scroll",W=me?ee!==null?ee+"Capture":null:ee;me=[];for(var F=K,q;F!==null;){q=F;var ae=q.stateNode;if(q.tag===5&&ae!==null&&(q=ae,W!==null&&(ae=dt(F,W),ae!=null&&me.push(al(F,ae,q)))),ft)break;F=F.return}0<me.length&&(ee=new he(ee,pe,null,l,te),re.push({event:ee,listeners:me}))}}if((s&7)===0){e:{if(ee=i==="mouseover"||i==="pointerover",he=i==="mouseout"||i==="pointerout",ee&&l!==us&&(pe=l.relatedTarget||l.fromElement)&&(Es(pe)||pe[Br]))break e;if((he||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,he?(pe=l.relatedTarget||l.toElement,he=K,pe=pe?Es(pe):null,pe!==null&&(ft=zn(pe),pe!==ft||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(he=null,pe=K),he!==pe)){if(me=Ao,ae="onMouseLeave",W="onMouseEnter",F="mouse",(i==="pointerout"||i==="pointerover")&&(me=S,ae="onPointerLeave",W="onPointerEnter",F="pointer"),ft=he==null?ee:Mo(he),q=pe==null?ee:Mo(pe),ee=new me(ae,F+"leave",he,l,te),ee.target=ft,ee.relatedTarget=q,ae=null,Es(te)===K&&(me=new me(W,F+"enter",pe,l,te),me.target=q,me.relatedTarget=ft,ae=me),ft=ae,he&&pe)t:{for(me=he,W=pe,F=0,q=me;q;q=Lo(q))F++;for(q=0,ae=W;ae;ae=Lo(ae))q++;for(;0<F-q;)me=Lo(me),F--;for(;0<q-F;)W=Lo(W),q--;for(;F--;){if(me===W||W!==null&&me===W.alternate)break t;me=Lo(me),W=Lo(W)}me=null}else me=null;he!==null&&Jg(re,ee,he,me,!1),pe!==null&&ft!==null&&Jg(re,ft,pe,me,!0)}}e:{if(ee=K?Mo(K):window,he=ee.nodeName&&ee.nodeName.toLowerCase(),he==="select"||he==="input"&&ee.type==="file")var ye=Z1;else if(Ng(ee))if(jg)ye=rS;else{ye=tS;var we=eS}else(he=ee.nodeName)&&he.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(ye=nS);if(ye&&(ye=ye(i,K))){Rg(re,ye,l,te);break e}we&&we(i,ee,K),i==="focusout"&&(we=ee._wrapperState)&&we.controlled&&ee.type==="number"&&lo(ee,"number",ee.value)}switch(we=K?Mo(K):window,i){case"focusin":(Ng(we)||we.contentEditable==="true")&&(Do=we,md=K,il=null);break;case"focusout":il=md=Do=null;break;case"mousedown":gd=!0;break;case"contextmenu":case"mouseup":case"dragend":gd=!1,Bg(re,l,te);break;case"selectionchange":if(oS)break;case"keydown":case"keyup":Bg(re,l,te)}var xe;if(yt)e:{switch(i){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else jo?kg(i,l)&&(Ie="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ie="onCompositionStart");Ie&&(_s&&l.locale!=="ko"&&(jo||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&jo&&(xe=Xa()):(yn=te,So="value"in yn?yn.value:yn.textContent,jo=!0)),we=Qu(K,Ie),0<we.length&&(Ie=new el(Ie,i,null,l,te),re.push({event:Ie,listeners:we}),xe?Ie.data=xe:(xe=Cg(l),xe!==null&&(Ie.data=xe)))),(xe=vn?Q1(i,l):Y1(i,l))&&(K=Qu(K,"onBeforeInput"),0<K.length&&(te=new el("onBeforeInput","beforeinput",null,l,te),re.push({event:te,listeners:K}),te.data=xe))}Yg(re,s)})}function al(i,s,l){return{instance:i,listener:s,currentTarget:l}}function Qu(i,s){for(var l=s+"Capture",d=[];i!==null;){var g=i,v=g.stateNode;g.tag===5&&v!==null&&(g=v,v=dt(i,l),v!=null&&d.unshift(al(i,v,g)),v=dt(i,s),v!=null&&d.push(al(i,v,g))),i=i.return}return d}function Lo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Jg(i,s,l,d,g){for(var v=s._reactName,T=[];l!==null&&l!==d;){var C=l,M=C.alternate,K=C.stateNode;if(M!==null&&M===d)break;C.tag===5&&K!==null&&(C=K,g?(M=dt(l,v),M!=null&&T.unshift(al(l,M,C))):g||(M=dt(l,v),M!=null&&T.push(al(l,M,C)))),l=l.return}T.length!==0&&i.push({event:s,listeners:T})}var cS=/\r\n?/g,hS=/\u0000|\uFFFD/g;function Zg(i){return(typeof i=="string"?i:""+i).replace(cS,`
`).replace(hS,"")}function Yu(i,s,l){if(s=Zg(s),Zg(i)!==s&&l)throw Error(t(425))}function Xu(){}var Ed=null,Td=null;function Sd(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Id=typeof setTimeout=="function"?setTimeout:void 0,dS=typeof clearTimeout=="function"?clearTimeout:void 0,ey=typeof Promise=="function"?Promise:void 0,fS=typeof queueMicrotask=="function"?queueMicrotask:typeof ey<"u"?function(i){return ey.resolve(null).then(i).catch(pS)}:Id;function pS(i){setTimeout(function(){throw i})}function bd(i,s){var l=s,d=0;do{var g=l.nextSibling;if(i.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(d===0){i.removeChild(g),Gn(s);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=g}while(l);Gn(s)}function _i(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function ty(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}var Oo=Math.random().toString(36).slice(2),gr="__reactFiber$"+Oo,ll="__reactProps$"+Oo,Br="__reactContainer$"+Oo,Pd="__reactEvents$"+Oo,mS="__reactListeners$"+Oo,gS="__reactHandles$"+Oo;function Es(i){var s=i[gr];if(s)return s;for(var l=i.parentNode;l;){if(s=l[Br]||l[gr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=ty(i);i!==null;){if(l=i[gr])return l;i=ty(i)}return s}i=l,l=i.parentNode}return null}function ul(i){return i=i[gr]||i[Br],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Mo(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Ju(i){return i[ll]||null}var Ad=[],Uo=-1;function Ei(i){return{current:i}}function nt(i){0>Uo||(i.current=Ad[Uo],Ad[Uo]=null,Uo--)}function Ze(i,s){Uo++,Ad[Uo]=i.current,i.current=s}var Ti={},$t=Ei(Ti),on=Ei(!1),Ts=Ti;function Fo(i,s){var l=i.type.contextTypes;if(!l)return Ti;var d=i.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var g={},v;for(v in l)g[v]=s[v];return d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=g),g}function an(i){return i=i.childContextTypes,i!=null}function Zu(){nt(on),nt($t)}function ny(i,s,l){if($t.current!==Ti)throw Error(t(168));Ze($t,s),Ze(on,l)}function ry(i,s,l){var d=i.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var g in d)if(!(g in s))throw Error(t(108,je(i)||"Unknown",g));return X({},l,d)}function ec(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Ti,Ts=$t.current,Ze($t,i),Ze(on,on.current),!0}function iy(i,s,l){var d=i.stateNode;if(!d)throw Error(t(169));l?(i=ry(i,s,Ts),d.__reactInternalMemoizedMergedChildContext=i,nt(on),nt($t),Ze($t,i)):nt(on),Ze(on,l)}var zr=null,tc=!1,kd=!1;function sy(i){zr===null?zr=[i]:zr.push(i)}function yS(i){tc=!0,sy(i)}function Si(){if(!kd&&zr!==null){kd=!0;var i=0,s=Oe;try{var l=zr;for(Oe=1;i<l.length;i++){var d=l[i];do d=d(!0);while(d!==null)}zr=null,tc=!1}catch(g){throw zr!==null&&(zr=zr.slice(i+1)),wo(ps,Si),g}finally{Oe=s,kd=!1}}return null}var Bo=[],zo=0,nc=null,rc=0,An=[],kn=0,Ss=null,$r=1,Hr="";function Is(i,s){Bo[zo++]=rc,Bo[zo++]=nc,nc=i,rc=s}function oy(i,s,l){An[kn++]=$r,An[kn++]=Hr,An[kn++]=Ss,Ss=i;var d=$r;i=Hr;var g=32-Jt(d)-1;d&=~(1<<g),l+=1;var v=32-Jt(s)+g;if(30<v){var T=g-g%5;v=(d&(1<<T)-1).toString(32),d>>=T,g-=T,$r=1<<32-Jt(s)+g|l<<g|d,Hr=v+i}else $r=1<<v|l<<g|d,Hr=i}function Cd(i){i.return!==null&&(Is(i,1),oy(i,1,0))}function Nd(i){for(;i===nc;)nc=Bo[--zo],Bo[zo]=null,rc=Bo[--zo],Bo[zo]=null;for(;i===Ss;)Ss=An[--kn],An[kn]=null,Hr=An[--kn],An[kn]=null,$r=An[--kn],An[kn]=null}var wn=null,xn=null,it=!1,Yn=null;function ay(i,s){var l=jn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=i,s=i.deletions,s===null?(i.deletions=[l],i.flags|=16):s.push(l)}function ly(i,s){switch(i.tag){case 5:var l=i.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,wn=i,xn=_i(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,wn=i,xn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Ss!==null?{id:$r,overflow:Hr}:null,i.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=jn(18,null,null,0),l.stateNode=s,l.return=i,i.child=l,wn=i,xn=null,!0):!1;default:return!1}}function Rd(i){return(i.mode&1)!==0&&(i.flags&128)===0}function jd(i){if(it){var s=xn;if(s){var l=s;if(!ly(i,s)){if(Rd(i))throw Error(t(418));s=_i(l.nextSibling);var d=wn;s&&ly(i,s)?ay(d,l):(i.flags=i.flags&-4097|2,it=!1,wn=i)}}else{if(Rd(i))throw Error(t(418));i.flags=i.flags&-4097|2,it=!1,wn=i}}}function uy(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;wn=i}function ic(i){if(i!==wn)return!1;if(!it)return uy(i),it=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!Sd(i.type,i.memoizedProps)),s&&(s=xn)){if(Rd(i))throw cy(),Error(t(418));for(;s;)ay(i,s),s=_i(s.nextSibling)}if(uy(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(s===0){xn=_i(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}i=i.nextSibling}xn=null}}else xn=wn?_i(i.stateNode.nextSibling):null;return!0}function cy(){for(var i=xn;i;)i=_i(i.nextSibling)}function $o(){xn=wn=null,it=!1}function Dd(i){Yn===null?Yn=[i]:Yn.push(i)}var vS=Y.ReactCurrentBatchConfig;function cl(i,s,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,i));var g=d,v=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===v?s.ref:(s=function(T){var C=g.refs;T===null?delete C[v]:C[v]=T},s._stringRef=v,s)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function sc(i,s){throw i=Object.prototype.toString.call(s),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function hy(i){var s=i._init;return s(i._payload)}function dy(i){function s(W,F){if(i){var q=W.deletions;q===null?(W.deletions=[F],W.flags|=16):q.push(F)}}function l(W,F){if(!i)return null;for(;F!==null;)s(W,F),F=F.sibling;return null}function d(W,F){for(W=new Map;F!==null;)F.key!==null?W.set(F.key,F):W.set(F.index,F),F=F.sibling;return W}function g(W,F){return W=Ri(W,F),W.index=0,W.sibling=null,W}function v(W,F,q){return W.index=q,i?(q=W.alternate,q!==null?(q=q.index,q<F?(W.flags|=2,F):q):(W.flags|=2,F)):(W.flags|=1048576,F)}function T(W){return i&&W.alternate===null&&(W.flags|=2),W}function C(W,F,q,ae){return F===null||F.tag!==6?(F=bf(q,W.mode,ae),F.return=W,F):(F=g(F,q),F.return=W,F)}function M(W,F,q,ae){var ye=q.type;return ye===R?te(W,F,q.props.children,ae,q.key):F!==null&&(F.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Re&&hy(ye)===F.type)?(ae=g(F,q.props),ae.ref=cl(W,F,q),ae.return=W,ae):(ae=kc(q.type,q.key,q.props,null,W.mode,ae),ae.ref=cl(W,F,q),ae.return=W,ae)}function K(W,F,q,ae){return F===null||F.tag!==4||F.stateNode.containerInfo!==q.containerInfo||F.stateNode.implementation!==q.implementation?(F=Pf(q,W.mode,ae),F.return=W,F):(F=g(F,q.children||[]),F.return=W,F)}function te(W,F,q,ae,ye){return F===null||F.tag!==7?(F=js(q,W.mode,ae,ye),F.return=W,F):(F=g(F,q),F.return=W,F)}function re(W,F,q){if(typeof F=="string"&&F!==""||typeof F=="number")return F=bf(""+F,W.mode,q),F.return=W,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Z:return q=kc(F.type,F.key,F.props,null,W.mode,q),q.ref=cl(W,null,F),q.return=W,q;case se:return F=Pf(F,W.mode,q),F.return=W,F;case Re:var ae=F._init;return re(W,ae(F._payload),q)}if(Rr(F)||$(F))return F=js(F,W.mode,q,null),F.return=W,F;sc(W,F)}return null}function ee(W,F,q,ae){var ye=F!==null?F.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return ye!==null?null:C(W,F,""+q,ae);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case Z:return q.key===ye?M(W,F,q,ae):null;case se:return q.key===ye?K(W,F,q,ae):null;case Re:return ye=q._init,ee(W,F,ye(q._payload),ae)}if(Rr(q)||$(q))return ye!==null?null:te(W,F,q,ae,null);sc(W,q)}return null}function he(W,F,q,ae,ye){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return W=W.get(q)||null,C(F,W,""+ae,ye);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case Z:return W=W.get(ae.key===null?q:ae.key)||null,M(F,W,ae,ye);case se:return W=W.get(ae.key===null?q:ae.key)||null,K(F,W,ae,ye);case Re:var we=ae._init;return he(W,F,q,we(ae._payload),ye)}if(Rr(ae)||$(ae))return W=W.get(q)||null,te(F,W,ae,ye,null);sc(F,ae)}return null}function pe(W,F,q,ae){for(var ye=null,we=null,xe=F,Ie=F=0,Rt=null;xe!==null&&Ie<q.length;Ie++){xe.index>Ie?(Rt=xe,xe=null):Rt=xe.sibling;var He=ee(W,xe,q[Ie],ae);if(He===null){xe===null&&(xe=Rt);break}i&&xe&&He.alternate===null&&s(W,xe),F=v(He,F,Ie),we===null?ye=He:we.sibling=He,we=He,xe=Rt}if(Ie===q.length)return l(W,xe),it&&Is(W,Ie),ye;if(xe===null){for(;Ie<q.length;Ie++)xe=re(W,q[Ie],ae),xe!==null&&(F=v(xe,F,Ie),we===null?ye=xe:we.sibling=xe,we=xe);return it&&Is(W,Ie),ye}for(xe=d(W,xe);Ie<q.length;Ie++)Rt=he(xe,W,Ie,q[Ie],ae),Rt!==null&&(i&&Rt.alternate!==null&&xe.delete(Rt.key===null?Ie:Rt.key),F=v(Rt,F,Ie),we===null?ye=Rt:we.sibling=Rt,we=Rt);return i&&xe.forEach(function(ji){return s(W,ji)}),it&&Is(W,Ie),ye}function me(W,F,q,ae){var ye=$(q);if(typeof ye!="function")throw Error(t(150));if(q=ye.call(q),q==null)throw Error(t(151));for(var we=ye=null,xe=F,Ie=F=0,Rt=null,He=q.next();xe!==null&&!He.done;Ie++,He=q.next()){xe.index>Ie?(Rt=xe,xe=null):Rt=xe.sibling;var ji=ee(W,xe,He.value,ae);if(ji===null){xe===null&&(xe=Rt);break}i&&xe&&ji.alternate===null&&s(W,xe),F=v(ji,F,Ie),we===null?ye=ji:we.sibling=ji,we=ji,xe=Rt}if(He.done)return l(W,xe),it&&Is(W,Ie),ye;if(xe===null){for(;!He.done;Ie++,He=q.next())He=re(W,He.value,ae),He!==null&&(F=v(He,F,Ie),we===null?ye=He:we.sibling=He,we=He);return it&&Is(W,Ie),ye}for(xe=d(W,xe);!He.done;Ie++,He=q.next())He=he(xe,W,Ie,He.value,ae),He!==null&&(i&&He.alternate!==null&&xe.delete(He.key===null?Ie:He.key),F=v(He,F,Ie),we===null?ye=He:we.sibling=He,we=He);return i&&xe.forEach(function(XS){return s(W,XS)}),it&&Is(W,Ie),ye}function ft(W,F,q,ae){if(typeof q=="object"&&q!==null&&q.type===R&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case Z:e:{for(var ye=q.key,we=F;we!==null;){if(we.key===ye){if(ye=q.type,ye===R){if(we.tag===7){l(W,we.sibling),F=g(we,q.props.children),F.return=W,W=F;break e}}else if(we.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Re&&hy(ye)===we.type){l(W,we.sibling),F=g(we,q.props),F.ref=cl(W,we,q),F.return=W,W=F;break e}l(W,we);break}else s(W,we);we=we.sibling}q.type===R?(F=js(q.props.children,W.mode,ae,q.key),F.return=W,W=F):(ae=kc(q.type,q.key,q.props,null,W.mode,ae),ae.ref=cl(W,F,q),ae.return=W,W=ae)}return T(W);case se:e:{for(we=q.key;F!==null;){if(F.key===we)if(F.tag===4&&F.stateNode.containerInfo===q.containerInfo&&F.stateNode.implementation===q.implementation){l(W,F.sibling),F=g(F,q.children||[]),F.return=W,W=F;break e}else{l(W,F);break}else s(W,F);F=F.sibling}F=Pf(q,W.mode,ae),F.return=W,W=F}return T(W);case Re:return we=q._init,ft(W,F,we(q._payload),ae)}if(Rr(q))return pe(W,F,q,ae);if($(q))return me(W,F,q,ae);sc(W,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,F!==null&&F.tag===6?(l(W,F.sibling),F=g(F,q),F.return=W,W=F):(l(W,F),F=bf(q,W.mode,ae),F.return=W,W=F),T(W)):l(W,F)}return ft}var Ho=dy(!0),fy=dy(!1),oc=Ei(null),ac=null,Wo=null,Vd=null;function Ld(){Vd=Wo=ac=null}function Od(i){var s=oc.current;nt(oc),i._currentValue=s}function Md(i,s,l){for(;i!==null;){var d=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),i===l)break;i=i.return}}function qo(i,s){ac=i,Vd=Wo=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&s)!==0&&(ln=!0),i.firstContext=null)}function Cn(i){var s=i._currentValue;if(Vd!==i)if(i={context:i,memoizedValue:s,next:null},Wo===null){if(ac===null)throw Error(t(308));Wo=i,ac.dependencies={lanes:0,firstContext:i}}else Wo=Wo.next=i;return s}var bs=null;function Ud(i){bs===null?bs=[i]:bs.push(i)}function py(i,s,l,d){var g=s.interleaved;return g===null?(l.next=l,Ud(s)):(l.next=g.next,g.next=l),s.interleaved=l,Wr(i,d)}function Wr(i,s){i.lanes|=s;var l=i.alternate;for(l!==null&&(l.lanes|=s),l=i,i=i.return;i!==null;)i.childLanes|=s,l=i.alternate,l!==null&&(l.childLanes|=s),l=i,i=i.return;return l.tag===3?l.stateNode:null}var Ii=!1;function Fd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function my(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function qr(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function bi(i,s,l){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(ze&2)!==0){var g=d.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),d.pending=s,Wr(i,l)}return g=d.interleaved,g===null?(s.next=s,Ud(d)):(s.next=g.next,g.next=s),d.interleaved=s,Wr(i,l)}function lc(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var d=s.lanes;d&=i.pendingLanes,l|=d,s.lanes=l,mi(i,l)}}function gy(i,s){var l=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var g=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};v===null?g=v=T:v=v.next=T,l=l.next}while(l!==null);v===null?g=v=s:v=v.next=s}else g=v=s;l={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:d.shared,effects:d.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}function uc(i,s,l,d){var g=i.updateQueue;Ii=!1;var v=g.firstBaseUpdate,T=g.lastBaseUpdate,C=g.shared.pending;if(C!==null){g.shared.pending=null;var M=C,K=M.next;M.next=null,T===null?v=K:T.next=K,T=M;var te=i.alternate;te!==null&&(te=te.updateQueue,C=te.lastBaseUpdate,C!==T&&(C===null?te.firstBaseUpdate=K:C.next=K,te.lastBaseUpdate=M))}if(v!==null){var re=g.baseState;T=0,te=K=M=null,C=v;do{var ee=C.lane,he=C.eventTime;if((d&ee)===ee){te!==null&&(te=te.next={eventTime:he,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var pe=i,me=C;switch(ee=s,he=l,me.tag){case 1:if(pe=me.payload,typeof pe=="function"){re=pe.call(he,re,ee);break e}re=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=me.payload,ee=typeof pe=="function"?pe.call(he,re,ee):pe,ee==null)break e;re=X({},re,ee);break e;case 2:Ii=!0}}C.callback!==null&&C.lane!==0&&(i.flags|=64,ee=g.effects,ee===null?g.effects=[C]:ee.push(C))}else he={eventTime:he,lane:ee,tag:C.tag,payload:C.payload,callback:C.callback,next:null},te===null?(K=te=he,M=re):te=te.next=he,T|=ee;if(C=C.next,C===null){if(C=g.shared.pending,C===null)break;ee=C,C=ee.next,ee.next=null,g.lastBaseUpdate=ee,g.shared.pending=null}}while(!0);if(te===null&&(M=re),g.baseState=M,g.firstBaseUpdate=K,g.lastBaseUpdate=te,s=g.shared.interleaved,s!==null){g=s;do T|=g.lane,g=g.next;while(g!==s)}else v===null&&(g.shared.lanes=0);ks|=T,i.lanes=T,i.memoizedState=re}}function yy(i,s,l){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var d=i[s],g=d.callback;if(g!==null){if(d.callback=null,d=l,typeof g!="function")throw Error(t(191,g));g.call(d)}}}var hl={},yr=Ei(hl),dl=Ei(hl),fl=Ei(hl);function Ps(i){if(i===hl)throw Error(t(174));return i}function Bd(i,s){switch(Ze(fl,s),Ze(dl,i),Ze(yr,hl),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Et(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=Et(s,i)}nt(yr),Ze(yr,s)}function Go(){nt(yr),nt(dl),nt(fl)}function vy(i){Ps(fl.current);var s=Ps(yr.current),l=Et(s,i.type);s!==l&&(Ze(dl,i),Ze(yr,l))}function zd(i){dl.current===i&&(nt(yr),nt(dl))}var ot=Ei(0);function cc(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var $d=[];function Hd(){for(var i=0;i<$d.length;i++)$d[i]._workInProgressVersionPrimary=null;$d.length=0}var hc=Y.ReactCurrentDispatcher,Wd=Y.ReactCurrentBatchConfig,As=0,at=null,St=null,Ct=null,dc=!1,pl=!1,ml=0,wS=0;function Ht(){throw Error(t(321))}function qd(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!Qn(i[l],s[l]))return!1;return!0}function Gd(i,s,l,d,g,v){if(As=v,at=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,hc.current=i===null||i.memoizedState===null?TS:SS,i=l(d,g),pl){v=0;do{if(pl=!1,ml=0,25<=v)throw Error(t(301));v+=1,Ct=St=null,s.updateQueue=null,hc.current=IS,i=l(d,g)}while(pl)}if(hc.current=mc,s=St!==null&&St.next!==null,As=0,Ct=St=at=null,dc=!1,s)throw Error(t(300));return i}function Kd(){var i=ml!==0;return ml=0,i}function vr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?at.memoizedState=Ct=i:Ct=Ct.next=i,Ct}function Nn(){if(St===null){var i=at.alternate;i=i!==null?i.memoizedState:null}else i=St.next;var s=Ct===null?at.memoizedState:Ct.next;if(s!==null)Ct=s,St=i;else{if(i===null)throw Error(t(310));St=i,i={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},Ct===null?at.memoizedState=Ct=i:Ct=Ct.next=i}return Ct}function gl(i,s){return typeof s=="function"?s(i):s}function Qd(i){var s=Nn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var d=St,g=d.baseQueue,v=l.pending;if(v!==null){if(g!==null){var T=g.next;g.next=v.next,v.next=T}d.baseQueue=g=v,l.pending=null}if(g!==null){v=g.next,d=d.baseState;var C=T=null,M=null,K=v;do{var te=K.lane;if((As&te)===te)M!==null&&(M=M.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),d=K.hasEagerState?K.eagerState:i(d,K.action);else{var re={lane:te,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};M===null?(C=M=re,T=d):M=M.next=re,at.lanes|=te,ks|=te}K=K.next}while(K!==null&&K!==v);M===null?T=d:M.next=C,Qn(d,s.memoizedState)||(ln=!0),s.memoizedState=d,s.baseState=T,s.baseQueue=M,l.lastRenderedState=d}if(i=l.interleaved,i!==null){g=i;do v=g.lane,at.lanes|=v,ks|=v,g=g.next;while(g!==i)}else g===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Yd(i){var s=Nn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var d=l.dispatch,g=l.pending,v=s.memoizedState;if(g!==null){l.pending=null;var T=g=g.next;do v=i(v,T.action),T=T.next;while(T!==g);Qn(v,s.memoizedState)||(ln=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),l.lastRenderedState=v}return[v,d]}function wy(){}function xy(i,s){var l=at,d=Nn(),g=s(),v=!Qn(d.memoizedState,g);if(v&&(d.memoizedState=g,ln=!0),d=d.queue,Xd(Ty.bind(null,l,d,i),[i]),d.getSnapshot!==s||v||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,yl(9,Ey.bind(null,l,d,g,s),void 0,null),Nt===null)throw Error(t(349));(As&30)!==0||_y(l,s,g)}return g}function _y(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=at.updateQueue,s===null?(s={lastEffect:null,stores:null},at.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function Ey(i,s,l,d){s.value=l,s.getSnapshot=d,Sy(s)&&Iy(i)}function Ty(i,s,l){return l(function(){Sy(s)&&Iy(i)})}function Sy(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!Qn(i,l)}catch{return!0}}function Iy(i){var s=Wr(i,1);s!==null&&er(s,i,1,-1)}function by(i){var s=vr();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gl,lastRenderedState:i},s.queue=i,i=i.dispatch=ES.bind(null,at,i),[s.memoizedState,i]}function yl(i,s,l,d){return i={tag:i,create:s,destroy:l,deps:d,next:null},s=at.updateQueue,s===null?(s={lastEffect:null,stores:null},at.updateQueue=s,s.lastEffect=i.next=i):(l=s.lastEffect,l===null?s.lastEffect=i.next=i:(d=l.next,l.next=i,i.next=d,s.lastEffect=i)),i}function Py(){return Nn().memoizedState}function fc(i,s,l,d){var g=vr();at.flags|=i,g.memoizedState=yl(1|s,l,void 0,d===void 0?null:d)}function pc(i,s,l,d){var g=Nn();d=d===void 0?null:d;var v=void 0;if(St!==null){var T=St.memoizedState;if(v=T.destroy,d!==null&&qd(d,T.deps)){g.memoizedState=yl(s,l,v,d);return}}at.flags|=i,g.memoizedState=yl(1|s,l,v,d)}function Ay(i,s){return fc(8390656,8,i,s)}function Xd(i,s){return pc(2048,8,i,s)}function ky(i,s){return pc(4,2,i,s)}function Cy(i,s){return pc(4,4,i,s)}function Ny(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Ry(i,s,l){return l=l!=null?l.concat([i]):null,pc(4,4,Ny.bind(null,s,i),l)}function Jd(){}function jy(i,s){var l=Nn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&qd(s,d[1])?d[0]:(l.memoizedState=[i,s],i)}function Dy(i,s){var l=Nn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&qd(s,d[1])?d[0]:(i=i(),l.memoizedState=[i,s],i)}function Vy(i,s,l){return(As&21)===0?(i.baseState&&(i.baseState=!1,ln=!0),i.memoizedState=l):(Qn(l,s)||(l=ys(),at.lanes|=l,ks|=l,i.baseState=!0),s)}function xS(i,s){var l=Oe;Oe=l!==0&&4>l?l:4,i(!0);var d=Wd.transition;Wd.transition={};try{i(!1),s()}finally{Oe=l,Wd.transition=d}}function Ly(){return Nn().memoizedState}function _S(i,s,l){var d=Ci(i);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},Oy(i))My(s,l);else if(l=py(i,s,l,d),l!==null){var g=tn();er(l,i,d,g),Uy(l,s,d)}}function ES(i,s,l){var d=Ci(i),g={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(Oy(i))My(s,g);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var T=s.lastRenderedState,C=v(T,l);if(g.hasEagerState=!0,g.eagerState=C,Qn(C,T)){var M=s.interleaved;M===null?(g.next=g,Ud(s)):(g.next=M.next,M.next=g),s.interleaved=g;return}}catch{}finally{}l=py(i,s,g,d),l!==null&&(g=tn(),er(l,i,d,g),Uy(l,s,d))}}function Oy(i){var s=i.alternate;return i===at||s!==null&&s===at}function My(i,s){pl=dc=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function Uy(i,s,l){if((l&4194240)!==0){var d=s.lanes;d&=i.pendingLanes,l|=d,s.lanes=l,mi(i,l)}}var mc={readContext:Cn,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},TS={readContext:Cn,useCallback:function(i,s){return vr().memoizedState=[i,s===void 0?null:s],i},useContext:Cn,useEffect:Ay,useImperativeHandle:function(i,s,l){return l=l!=null?l.concat([i]):null,fc(4194308,4,Ny.bind(null,s,i),l)},useLayoutEffect:function(i,s){return fc(4194308,4,i,s)},useInsertionEffect:function(i,s){return fc(4,2,i,s)},useMemo:function(i,s){var l=vr();return s=s===void 0?null:s,i=i(),l.memoizedState=[i,s],i},useReducer:function(i,s,l){var d=vr();return s=l!==void 0?l(s):s,d.memoizedState=d.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},d.queue=i,i=i.dispatch=_S.bind(null,at,i),[d.memoizedState,i]},useRef:function(i){var s=vr();return i={current:i},s.memoizedState=i},useState:by,useDebugValue:Jd,useDeferredValue:function(i){return vr().memoizedState=i},useTransition:function(){var i=by(!1),s=i[0];return i=xS.bind(null,i[1]),vr().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,l){var d=at,g=vr();if(it){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),Nt===null)throw Error(t(349));(As&30)!==0||_y(d,s,l)}g.memoizedState=l;var v={value:l,getSnapshot:s};return g.queue=v,Ay(Ty.bind(null,d,v,i),[i]),d.flags|=2048,yl(9,Ey.bind(null,d,v,l,s),void 0,null),l},useId:function(){var i=vr(),s=Nt.identifierPrefix;if(it){var l=Hr,d=$r;l=(d&~(1<<32-Jt(d)-1)).toString(32)+l,s=":"+s+"R"+l,l=ml++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=wS++,s=":"+s+"r"+l.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},SS={readContext:Cn,useCallback:jy,useContext:Cn,useEffect:Xd,useImperativeHandle:Ry,useInsertionEffect:ky,useLayoutEffect:Cy,useMemo:Dy,useReducer:Qd,useRef:Py,useState:function(){return Qd(gl)},useDebugValue:Jd,useDeferredValue:function(i){var s=Nn();return Vy(s,St.memoizedState,i)},useTransition:function(){var i=Qd(gl)[0],s=Nn().memoizedState;return[i,s]},useMutableSource:wy,useSyncExternalStore:xy,useId:Ly,unstable_isNewReconciler:!1},IS={readContext:Cn,useCallback:jy,useContext:Cn,useEffect:Xd,useImperativeHandle:Ry,useInsertionEffect:ky,useLayoutEffect:Cy,useMemo:Dy,useReducer:Yd,useRef:Py,useState:function(){return Yd(gl)},useDebugValue:Jd,useDeferredValue:function(i){var s=Nn();return St===null?s.memoizedState=i:Vy(s,St.memoizedState,i)},useTransition:function(){var i=Yd(gl)[0],s=Nn().memoizedState;return[i,s]},useMutableSource:wy,useSyncExternalStore:xy,useId:Ly,unstable_isNewReconciler:!1};function Xn(i,s){if(i&&i.defaultProps){s=X({},s),i=i.defaultProps;for(var l in i)s[l]===void 0&&(s[l]=i[l]);return s}return s}function Zd(i,s,l,d){s=i.memoizedState,l=l(d,s),l=l==null?s:X({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var gc={isMounted:function(i){return(i=i._reactInternals)?zn(i)===i:!1},enqueueSetState:function(i,s,l){i=i._reactInternals;var d=tn(),g=Ci(i),v=qr(d,g);v.payload=s,l!=null&&(v.callback=l),s=bi(i,v,g),s!==null&&(er(s,i,g,d),lc(s,i,g))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var d=tn(),g=Ci(i),v=qr(d,g);v.tag=1,v.payload=s,l!=null&&(v.callback=l),s=bi(i,v,g),s!==null&&(er(s,i,g,d),lc(s,i,g))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=tn(),d=Ci(i),g=qr(l,d);g.tag=2,s!=null&&(g.callback=s),s=bi(i,g,d),s!==null&&(er(s,i,d,l),lc(s,i,d))}};function Fy(i,s,l,d,g,v,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,v,T):s.prototype&&s.prototype.isPureReactComponent?!rl(l,d)||!rl(g,v):!0}function By(i,s,l){var d=!1,g=Ti,v=s.contextType;return typeof v=="object"&&v!==null?v=Cn(v):(g=an(s)?Ts:$t.current,d=s.contextTypes,v=(d=d!=null)?Fo(i,g):Ti),s=new s(l,v),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=gc,i.stateNode=s,s._reactInternals=i,d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=g,i.__reactInternalMemoizedMaskedChildContext=v),s}function zy(i,s,l,d){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==i&&gc.enqueueReplaceState(s,s.state,null)}function ef(i,s,l,d){var g=i.stateNode;g.props=l,g.state=i.memoizedState,g.refs={},Fd(i);var v=s.contextType;typeof v=="object"&&v!==null?g.context=Cn(v):(v=an(s)?Ts:$t.current,g.context=Fo(i,v)),g.state=i.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(Zd(i,s,v,l),g.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(s=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),s!==g.state&&gc.enqueueReplaceState(g,g.state,null),uc(i,l,g,d),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308)}function Ko(i,s){try{var l="",d=s;do l+=ce(d),d=d.return;while(d);var g=l}catch(v){g=`
Error generating stack: `+v.message+`
`+v.stack}return{value:i,source:s,stack:g,digest:null}}function tf(i,s,l){return{value:i,source:null,stack:l??null,digest:s??null}}function nf(i,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var bS=typeof WeakMap=="function"?WeakMap:Map;function $y(i,s,l){l=qr(-1,l),l.tag=3,l.payload={element:null};var d=s.value;return l.callback=function(){Tc||(Tc=!0,vf=d),nf(i,s)},l}function Hy(i,s,l){l=qr(-1,l),l.tag=3;var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var g=s.value;l.payload=function(){return d(g)},l.callback=function(){nf(i,s)}}var v=i.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){nf(i,s),typeof d!="function"&&(Ai===null?Ai=new Set([this]):Ai.add(this));var T=s.stack;this.componentDidCatch(s.value,{componentStack:T!==null?T:""})}),l}function Wy(i,s,l){var d=i.pingCache;if(d===null){d=i.pingCache=new bS;var g=new Set;d.set(s,g)}else g=d.get(s),g===void 0&&(g=new Set,d.set(s,g));g.has(l)||(g.add(l),i=FS.bind(null,i,s,l),s.then(i,i))}function qy(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function Gy(i,s,l,d,g){return(i.mode&1)===0?(i===s?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=qr(-1,1),s.tag=2,bi(l,s,1))),l.lanes|=1),i):(i.flags|=65536,i.lanes=g,i)}var PS=Y.ReactCurrentOwner,ln=!1;function en(i,s,l,d){s.child=i===null?fy(s,null,l,d):Ho(s,i.child,l,d)}function Ky(i,s,l,d,g){l=l.render;var v=s.ref;return qo(s,g),d=Gd(i,s,l,d,v,g),l=Kd(),i!==null&&!ln?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~g,Gr(i,s,g)):(it&&l&&Cd(s),s.flags|=1,en(i,s,d,g),s.child)}function Qy(i,s,l,d,g){if(i===null){var v=l.type;return typeof v=="function"&&!If(v)&&v.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=v,Yy(i,s,v,d,g)):(i=kc(l.type,null,d,s,s.mode,g),i.ref=s.ref,i.return=s,s.child=i)}if(v=i.child,(i.lanes&g)===0){var T=v.memoizedProps;if(l=l.compare,l=l!==null?l:rl,l(T,d)&&i.ref===s.ref)return Gr(i,s,g)}return s.flags|=1,i=Ri(v,d),i.ref=s.ref,i.return=s,s.child=i}function Yy(i,s,l,d,g){if(i!==null){var v=i.memoizedProps;if(rl(v,d)&&i.ref===s.ref)if(ln=!1,s.pendingProps=d=v,(i.lanes&g)!==0)(i.flags&131072)!==0&&(ln=!0);else return s.lanes=i.lanes,Gr(i,s,g)}return rf(i,s,l,d,g)}function Xy(i,s,l){var d=s.pendingProps,g=d.children,v=i!==null?i.memoizedState:null;if(d.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(Yo,_n),_n|=l;else{if((l&1073741824)===0)return i=v!==null?v.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,Ze(Yo,_n),_n|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=v!==null?v.baseLanes:l,Ze(Yo,_n),_n|=d}else v!==null?(d=v.baseLanes|l,s.memoizedState=null):d=l,Ze(Yo,_n),_n|=d;return en(i,s,g,l),s.child}function Jy(i,s){var l=s.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function rf(i,s,l,d,g){var v=an(l)?Ts:$t.current;return v=Fo(s,v),qo(s,g),l=Gd(i,s,l,d,v,g),d=Kd(),i!==null&&!ln?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~g,Gr(i,s,g)):(it&&d&&Cd(s),s.flags|=1,en(i,s,l,g),s.child)}function Zy(i,s,l,d,g){if(an(l)){var v=!0;ec(s)}else v=!1;if(qo(s,g),s.stateNode===null)vc(i,s),By(s,l,d),ef(s,l,d,g),d=!0;else if(i===null){var T=s.stateNode,C=s.memoizedProps;T.props=C;var M=T.context,K=l.contextType;typeof K=="object"&&K!==null?K=Cn(K):(K=an(l)?Ts:$t.current,K=Fo(s,K));var te=l.getDerivedStateFromProps,re=typeof te=="function"||typeof T.getSnapshotBeforeUpdate=="function";re||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(C!==d||M!==K)&&zy(s,T,d,K),Ii=!1;var ee=s.memoizedState;T.state=ee,uc(s,d,T,g),M=s.memoizedState,C!==d||ee!==M||on.current||Ii?(typeof te=="function"&&(Zd(s,l,te,d),M=s.memoizedState),(C=Ii||Fy(s,l,C,d,ee,M,K))?(re||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(s.flags|=4194308)):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=M),T.props=d,T.state=M,T.context=K,d=C):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{T=s.stateNode,my(i,s),C=s.memoizedProps,K=s.type===s.elementType?C:Xn(s.type,C),T.props=K,re=s.pendingProps,ee=T.context,M=l.contextType,typeof M=="object"&&M!==null?M=Cn(M):(M=an(l)?Ts:$t.current,M=Fo(s,M));var he=l.getDerivedStateFromProps;(te=typeof he=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(C!==re||ee!==M)&&zy(s,T,d,M),Ii=!1,ee=s.memoizedState,T.state=ee,uc(s,d,T,g);var pe=s.memoizedState;C!==re||ee!==pe||on.current||Ii?(typeof he=="function"&&(Zd(s,l,he,d),pe=s.memoizedState),(K=Ii||Fy(s,l,K,d,ee,pe,M)||!1)?(te||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(d,pe,M),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(d,pe,M)),typeof T.componentDidUpdate=="function"&&(s.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof T.componentDidUpdate!="function"||C===i.memoizedProps&&ee===i.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&ee===i.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=pe),T.props=d,T.state=pe,T.context=M,d=K):(typeof T.componentDidUpdate!="function"||C===i.memoizedProps&&ee===i.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&ee===i.memoizedState||(s.flags|=1024),d=!1)}return sf(i,s,l,d,v,g)}function sf(i,s,l,d,g,v){Jy(i,s);var T=(s.flags&128)!==0;if(!d&&!T)return g&&iy(s,l,!1),Gr(i,s,v);d=s.stateNode,PS.current=s;var C=T&&typeof l.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,i!==null&&T?(s.child=Ho(s,i.child,null,v),s.child=Ho(s,null,C,v)):en(i,s,C,v),s.memoizedState=d.state,g&&iy(s,l,!0),s.child}function ev(i){var s=i.stateNode;s.pendingContext?ny(i,s.pendingContext,s.pendingContext!==s.context):s.context&&ny(i,s.context,!1),Bd(i,s.containerInfo)}function tv(i,s,l,d,g){return $o(),Dd(g),s.flags|=256,en(i,s,l,d),s.child}var of={dehydrated:null,treeContext:null,retryLane:0};function af(i){return{baseLanes:i,cachePool:null,transitions:null}}function nv(i,s,l){var d=s.pendingProps,g=ot.current,v=!1,T=(s.flags&128)!==0,C;if((C=T)||(C=i!==null&&i.memoizedState===null?!1:(g&2)!==0),C?(v=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(g|=1),Ze(ot,g&1),i===null)return jd(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((s.mode&1)===0?s.lanes=1:i.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(T=d.children,i=d.fallback,v?(d=s.mode,v=s.child,T={mode:"hidden",children:T},(d&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=T):v=Cc(T,d,0,null),i=js(i,d,l,null),v.return=s,i.return=s,v.sibling=i,s.child=v,s.child.memoizedState=af(l),s.memoizedState=of,i):lf(s,T));if(g=i.memoizedState,g!==null&&(C=g.dehydrated,C!==null))return AS(i,s,T,d,C,g,l);if(v){v=d.fallback,T=s.mode,g=i.child,C=g.sibling;var M={mode:"hidden",children:d.children};return(T&1)===0&&s.child!==g?(d=s.child,d.childLanes=0,d.pendingProps=M,s.deletions=null):(d=Ri(g,M),d.subtreeFlags=g.subtreeFlags&14680064),C!==null?v=Ri(C,v):(v=js(v,T,l,null),v.flags|=2),v.return=s,d.return=s,d.sibling=v,s.child=d,d=v,v=s.child,T=i.child.memoizedState,T=T===null?af(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},v.memoizedState=T,v.childLanes=i.childLanes&~l,s.memoizedState=of,d}return v=i.child,i=v.sibling,d=Ri(v,{mode:"visible",children:d.children}),(s.mode&1)===0&&(d.lanes=l),d.return=s,d.sibling=null,i!==null&&(l=s.deletions,l===null?(s.deletions=[i],s.flags|=16):l.push(i)),s.child=d,s.memoizedState=null,d}function lf(i,s){return s=Cc({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function yc(i,s,l,d){return d!==null&&Dd(d),Ho(s,i.child,null,l),i=lf(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function AS(i,s,l,d,g,v,T){if(l)return s.flags&256?(s.flags&=-257,d=tf(Error(t(422))),yc(i,s,T,d)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(v=d.fallback,g=s.mode,d=Cc({mode:"visible",children:d.children},g,0,null),v=js(v,g,T,null),v.flags|=2,d.return=s,v.return=s,d.sibling=v,s.child=d,(s.mode&1)!==0&&Ho(s,i.child,null,T),s.child.memoizedState=af(T),s.memoizedState=of,v);if((s.mode&1)===0)return yc(i,s,T,null);if(g.data==="$!"){if(d=g.nextSibling&&g.nextSibling.dataset,d)var C=d.dgst;return d=C,v=Error(t(419)),d=tf(v,d,void 0),yc(i,s,T,d)}if(C=(T&i.childLanes)!==0,ln||C){if(d=Nt,d!==null){switch(T&-T){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(d.suspendedLanes|T))!==0?0:g,g!==0&&g!==v.retryLane&&(v.retryLane=g,Wr(i,g),er(d,i,g,-1))}return Sf(),d=tf(Error(t(421))),yc(i,s,T,d)}return g.data==="$?"?(s.flags|=128,s.child=i.child,s=BS.bind(null,i),g._reactRetry=s,null):(i=v.treeContext,xn=_i(g.nextSibling),wn=s,it=!0,Yn=null,i!==null&&(An[kn++]=$r,An[kn++]=Hr,An[kn++]=Ss,$r=i.id,Hr=i.overflow,Ss=s),s=lf(s,d.children),s.flags|=4096,s)}function rv(i,s,l){i.lanes|=s;var d=i.alternate;d!==null&&(d.lanes|=s),Md(i.return,s,l)}function uf(i,s,l,d,g){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:g}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=l,v.tailMode=g)}function iv(i,s,l){var d=s.pendingProps,g=d.revealOrder,v=d.tail;if(en(i,s,d.children,l),d=ot.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&rv(i,l,s);else if(i.tag===19)rv(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}if(Ze(ot,d),(s.mode&1)===0)s.memoizedState=null;else switch(g){case"forwards":for(l=s.child,g=null;l!==null;)i=l.alternate,i!==null&&cc(i)===null&&(g=l),l=l.sibling;l=g,l===null?(g=s.child,s.child=null):(g=l.sibling,l.sibling=null),uf(s,!1,g,l,v);break;case"backwards":for(l=null,g=s.child,s.child=null;g!==null;){if(i=g.alternate,i!==null&&cc(i)===null){s.child=g;break}i=g.sibling,g.sibling=l,l=g,g=i}uf(s,!0,l,null,v);break;case"together":uf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function vc(i,s){(s.mode&1)===0&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function Gr(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),ks|=s.lanes,(l&s.childLanes)===0)return null;if(i!==null&&s.child!==i.child)throw Error(t(153));if(s.child!==null){for(i=s.child,l=Ri(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Ri(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function kS(i,s,l){switch(s.tag){case 3:ev(s),$o();break;case 5:vy(s);break;case 1:an(s.type)&&ec(s);break;case 4:Bd(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,g=s.memoizedProps.value;Ze(oc,d._currentValue),d._currentValue=g;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(Ze(ot,ot.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?nv(i,s,l):(Ze(ot,ot.current&1),i=Gr(i,s,l),i!==null?i.sibling:null);Ze(ot,ot.current&1);break;case 19:if(d=(l&s.childLanes)!==0,(i.flags&128)!==0){if(d)return iv(i,s,l);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Ze(ot,ot.current),d)break;return null;case 22:case 23:return s.lanes=0,Xy(i,s,l)}return Gr(i,s,l)}var sv,cf,ov,av;sv=function(i,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},cf=function(){},ov=function(i,s,l,d){var g=i.memoizedProps;if(g!==d){i=s.stateNode,Ps(yr.current);var v=null;switch(l){case"input":g=os(i,g),d=os(i,d),v=[];break;case"select":g=X({},g,{value:void 0}),d=X({},d,{value:void 0}),v=[];break;case"textarea":g=Ra(i,g),d=Ra(i,d),v=[];break;default:typeof g.onClick!="function"&&typeof d.onClick=="function"&&(i.onclick=Xu)}Ma(l,d);var T;l=null;for(K in g)if(!d.hasOwnProperty(K)&&g.hasOwnProperty(K)&&g[K]!=null)if(K==="style"){var C=g[K];for(T in C)C.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(o.hasOwnProperty(K)?v||(v=[]):(v=v||[]).push(K,null));for(K in d){var M=d[K];if(C=g?.[K],d.hasOwnProperty(K)&&M!==C&&(M!=null||C!=null))if(K==="style")if(C){for(T in C)!C.hasOwnProperty(T)||M&&M.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in M)M.hasOwnProperty(T)&&C[T]!==M[T]&&(l||(l={}),l[T]=M[T])}else l||(v||(v=[]),v.push(K,l)),l=M;else K==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,C=C?C.__html:void 0,M!=null&&C!==M&&(v=v||[]).push(K,M)):K==="children"?typeof M!="string"&&typeof M!="number"||(v=v||[]).push(K,""+M):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(o.hasOwnProperty(K)?(M!=null&&K==="onScroll"&&tt("scroll",i),v||C===M||(v=[])):(v=v||[]).push(K,M))}l&&(v=v||[]).push("style",l);var K=v;(s.updateQueue=K)&&(s.flags|=4)}},av=function(i,s,l,d){l!==d&&(s.flags|=4)};function vl(i,s){if(!it)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function Wt(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,d=0;if(s)for(var g=i.child;g!==null;)l|=g.lanes|g.childLanes,d|=g.subtreeFlags&14680064,d|=g.flags&14680064,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)l|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=d,i.childLanes=l,s}function CS(i,s,l){var d=s.pendingProps;switch(Nd(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(s),null;case 1:return an(s.type)&&Zu(),Wt(s),null;case 3:return d=s.stateNode,Go(),nt(on),nt($t),Hd(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(ic(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Yn!==null&&(_f(Yn),Yn=null))),cf(i,s),Wt(s),null;case 5:zd(s);var g=Ps(fl.current);if(l=s.type,i!==null&&s.stateNode!=null)ov(i,s,l,d,g),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(t(166));return Wt(s),null}if(i=Ps(yr.current),ic(s)){d=s.stateNode,l=s.type;var v=s.memoizedProps;switch(d[gr]=s,d[ll]=v,i=(s.mode&1)!==0,l){case"dialog":tt("cancel",d),tt("close",d);break;case"iframe":case"object":case"embed":tt("load",d);break;case"video":case"audio":for(g=0;g<sl.length;g++)tt(sl[g],d);break;case"source":tt("error",d);break;case"img":case"image":case"link":tt("error",d),tt("load",d);break;case"details":tt("toggle",d);break;case"input":ao(d,v),tt("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!v.multiple},tt("invalid",d);break;case"textarea":uo(d,v),tt("invalid",d)}Ma(l,v),g=null;for(var T in v)if(v.hasOwnProperty(T)){var C=v[T];T==="children"?typeof C=="string"?d.textContent!==C&&(v.suppressHydrationWarning!==!0&&Yu(d.textContent,C,i),g=["children",C]):typeof C=="number"&&d.textContent!==""+C&&(v.suppressHydrationWarning!==!0&&Yu(d.textContent,C,i),g=["children",""+C]):o.hasOwnProperty(T)&&C!=null&&T==="onScroll"&&tt("scroll",d)}switch(l){case"input":Dt(d),Eu(d,v,!0);break;case"textarea":Dt(d),ja(d);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(d.onclick=Xu)}d=g,s.updateQueue=d,d!==null&&(s.flags|=4)}else{T=g.nodeType===9?g:g.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=_t(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=T.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof d.is=="string"?i=T.createElement(l,{is:d.is}):(i=T.createElement(l),l==="select"&&(T=i,d.multiple?T.multiple=!0:d.size&&(T.size=d.size))):i=T.createElementNS(i,l),i[gr]=s,i[ll]=d,sv(i,s,!1,!1),s.stateNode=i;e:{switch(T=Ua(l,d),l){case"dialog":tt("cancel",i),tt("close",i),g=d;break;case"iframe":case"object":case"embed":tt("load",i),g=d;break;case"video":case"audio":for(g=0;g<sl.length;g++)tt(sl[g],i);g=d;break;case"source":tt("error",i),g=d;break;case"img":case"image":case"link":tt("error",i),tt("load",i),g=d;break;case"details":tt("toggle",i),g=d;break;case"input":ao(i,d),g=os(i,d),tt("invalid",i);break;case"option":g=d;break;case"select":i._wrapperState={wasMultiple:!!d.multiple},g=X({},d,{value:void 0}),tt("invalid",i);break;case"textarea":uo(i,d),g=Ra(i,d),tt("invalid",i);break;default:g=d}Ma(l,g),C=g;for(v in C)if(C.hasOwnProperty(v)){var M=C[v];v==="style"?La(i,M):v==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&Da(i,M)):v==="children"?typeof M=="string"?(l!=="textarea"||M!=="")&&ci(i,M):typeof M=="number"&&ci(i,""+M):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(o.hasOwnProperty(v)?M!=null&&v==="onScroll"&&tt("scroll",i):M!=null&&O(i,v,M,T))}switch(l){case"input":Dt(i),Eu(i,d,!1);break;case"textarea":Dt(i),ja(i);break;case"option":d.value!=null&&i.setAttribute("value",""+Be(d.value));break;case"select":i.multiple=!!d.multiple,v=d.value,v!=null?jr(i,!!d.multiple,v,!1):d.defaultValue!=null&&jr(i,!!d.multiple,d.defaultValue,!0);break;default:typeof g.onClick=="function"&&(i.onclick=Xu)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Wt(s),null;case 6:if(i&&s.stateNode!=null)av(i,s,i.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(t(166));if(l=Ps(fl.current),Ps(yr.current),ic(s)){if(d=s.stateNode,l=s.memoizedProps,d[gr]=s,(v=d.nodeValue!==l)&&(i=wn,i!==null))switch(i.tag){case 3:Yu(d.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Yu(d.nodeValue,l,(i.mode&1)!==0)}v&&(s.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[gr]=s,s.stateNode=d}return Wt(s),null;case 13:if(nt(ot),d=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(it&&xn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)cy(),$o(),s.flags|=98560,v=!1;else if(v=ic(s),d!==null&&d.dehydrated!==null){if(i===null){if(!v)throw Error(t(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[gr]=s}else $o(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Wt(s),v=!1}else Yn!==null&&(_f(Yn),Yn=null),v=!0;if(!v)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(d=d!==null,d!==(i!==null&&i.memoizedState!==null)&&d&&(s.child.flags|=8192,(s.mode&1)!==0&&(i===null||(ot.current&1)!==0?It===0&&(It=3):Sf())),s.updateQueue!==null&&(s.flags|=4),Wt(s),null);case 4:return Go(),cf(i,s),i===null&&ol(s.stateNode.containerInfo),Wt(s),null;case 10:return Od(s.type._context),Wt(s),null;case 17:return an(s.type)&&Zu(),Wt(s),null;case 19:if(nt(ot),v=s.memoizedState,v===null)return Wt(s),null;if(d=(s.flags&128)!==0,T=v.rendering,T===null)if(d)vl(v,!1);else{if(It!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(T=cc(i),T!==null){for(s.flags|=128,vl(v,!1),d=T.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=l,l=s.child;l!==null;)v=l,i=d,v.flags&=14680066,T=v.alternate,T===null?(v.childLanes=0,v.lanes=i,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=T.childLanes,v.lanes=T.lanes,v.child=T.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=T.memoizedProps,v.memoizedState=T.memoizedState,v.updateQueue=T.updateQueue,v.type=T.type,i=T.dependencies,v.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return Ze(ot,ot.current&1|2),s.child}i=i.sibling}v.tail!==null&&Je()>Xo&&(s.flags|=128,d=!0,vl(v,!1),s.lanes=4194304)}else{if(!d)if(i=cc(T),i!==null){if(s.flags|=128,d=!0,l=i.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),vl(v,!0),v.tail===null&&v.tailMode==="hidden"&&!T.alternate&&!it)return Wt(s),null}else 2*Je()-v.renderingStartTime>Xo&&l!==1073741824&&(s.flags|=128,d=!0,vl(v,!1),s.lanes=4194304);v.isBackwards?(T.sibling=s.child,s.child=T):(l=v.last,l!==null?l.sibling=T:s.child=T,v.last=T)}return v.tail!==null?(s=v.tail,v.rendering=s,v.tail=s.sibling,v.renderingStartTime=Je(),s.sibling=null,l=ot.current,Ze(ot,d?l&1|2:l&1),s):(Wt(s),null);case 22:case 23:return Tf(),d=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==d&&(s.flags|=8192),d&&(s.mode&1)!==0?(_n&1073741824)!==0&&(Wt(s),s.subtreeFlags&6&&(s.flags|=8192)):Wt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function NS(i,s){switch(Nd(s),s.tag){case 1:return an(s.type)&&Zu(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Go(),nt(on),nt($t),Hd(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 5:return zd(s),null;case 13:if(nt(ot),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(t(340));$o()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return nt(ot),null;case 4:return Go(),null;case 10:return Od(s.type._context),null;case 22:case 23:return Tf(),null;case 24:return null;default:return null}}var wc=!1,qt=!1,RS=typeof WeakSet=="function"?WeakSet:Set,de=null;function Qo(i,s){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){ct(i,s,d)}else l.current=null}function hf(i,s,l){try{l()}catch(d){ct(i,s,d)}}var lv=!1;function jS(i,s){if(Ed=vi,i=Fg(),pd(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var g=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var T=0,C=-1,M=-1,K=0,te=0,re=i,ee=null;t:for(;;){for(var he;re!==l||g!==0&&re.nodeType!==3||(C=T+g),re!==v||d!==0&&re.nodeType!==3||(M=T+d),re.nodeType===3&&(T+=re.nodeValue.length),(he=re.firstChild)!==null;)ee=re,re=he;for(;;){if(re===i)break t;if(ee===l&&++K===g&&(C=T),ee===v&&++te===d&&(M=T),(he=re.nextSibling)!==null)break;re=ee,ee=re.parentNode}re=he}l=C===-1||M===-1?null:{start:C,end:M}}else l=null}l=l||{start:0,end:0}}else l=null;for(Td={focusedElem:i,selectionRange:l},vi=!1,de=s;de!==null;)if(s=de,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,de=i;else for(;de!==null;){s=de;try{var pe=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var me=pe.memoizedProps,ft=pe.memoizedState,W=s.stateNode,F=W.getSnapshotBeforeUpdate(s.elementType===s.type?me:Xn(s.type,me),ft);W.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var q=s.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ae){ct(s,s.return,ae)}if(i=s.sibling,i!==null){i.return=s.return,de=i;break}de=s.return}return pe=lv,lv=!1,pe}function wl(i,s,l){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var g=d=d.next;do{if((g.tag&i)===i){var v=g.destroy;g.destroy=void 0,v!==void 0&&hf(s,l,v)}g=g.next}while(g!==d)}}function xc(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&i)===i){var d=l.create;l.destroy=d()}l=l.next}while(l!==s)}}function df(i){var s=i.ref;if(s!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof s=="function"?s(i):s.current=i}}function uv(i){var s=i.alternate;s!==null&&(i.alternate=null,uv(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[gr],delete s[ll],delete s[Pd],delete s[mS],delete s[gS])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function cv(i){return i.tag===5||i.tag===3||i.tag===4}function hv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||cv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ff(i,s,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(i,s):l.insertBefore(i,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(i,l)):(s=l,s.appendChild(i)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Xu));else if(d!==4&&(i=i.child,i!==null))for(ff(i,s,l),i=i.sibling;i!==null;)ff(i,s,l),i=i.sibling}function pf(i,s,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(d!==4&&(i=i.child,i!==null))for(pf(i,s,l),i=i.sibling;i!==null;)pf(i,s,l),i=i.sibling}var Ot=null,Jn=!1;function Pi(i,s,l){for(l=l.child;l!==null;)dv(i,s,l),l=l.sibling}function dv(i,s,l){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(ms,l)}catch{}switch(l.tag){case 5:qt||Qo(l,s);case 6:var d=Ot,g=Jn;Ot=null,Pi(i,s,l),Ot=d,Jn=g,Ot!==null&&(Jn?(i=Ot,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):Ot.removeChild(l.stateNode));break;case 18:Ot!==null&&(Jn?(i=Ot,l=l.stateNode,i.nodeType===8?bd(i.parentNode,l):i.nodeType===1&&bd(i,l),Gn(i)):bd(Ot,l.stateNode));break;case 4:d=Ot,g=Jn,Ot=l.stateNode.containerInfo,Jn=!0,Pi(i,s,l),Ot=d,Jn=g;break;case 0:case 11:case 14:case 15:if(!qt&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){g=d=d.next;do{var v=g,T=v.destroy;v=v.tag,T!==void 0&&((v&2)!==0||(v&4)!==0)&&hf(l,s,T),g=g.next}while(g!==d)}Pi(i,s,l);break;case 1:if(!qt&&(Qo(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(C){ct(l,s,C)}Pi(i,s,l);break;case 21:Pi(i,s,l);break;case 22:l.mode&1?(qt=(d=qt)||l.memoizedState!==null,Pi(i,s,l),qt=d):Pi(i,s,l);break;default:Pi(i,s,l)}}function fv(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new RS),s.forEach(function(d){var g=zS.bind(null,i,d);l.has(d)||(l.add(d),d.then(g,g))})}}function Zn(i,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var g=l[d];try{var v=i,T=s,C=T;e:for(;C!==null;){switch(C.tag){case 5:Ot=C.stateNode,Jn=!1;break e;case 3:Ot=C.stateNode.containerInfo,Jn=!0;break e;case 4:Ot=C.stateNode.containerInfo,Jn=!0;break e}C=C.return}if(Ot===null)throw Error(t(160));dv(v,T,g),Ot=null,Jn=!1;var M=g.alternate;M!==null&&(M.return=null),g.return=null}catch(K){ct(g,s,K)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)pv(s,i),s=s.sibling}function pv(i,s){var l=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Zn(s,i),wr(i),d&4){try{wl(3,i,i.return),xc(3,i)}catch(me){ct(i,i.return,me)}try{wl(5,i,i.return)}catch(me){ct(i,i.return,me)}}break;case 1:Zn(s,i),wr(i),d&512&&l!==null&&Qo(l,l.return);break;case 5:if(Zn(s,i),wr(i),d&512&&l!==null&&Qo(l,l.return),i.flags&32){var g=i.stateNode;try{ci(g,"")}catch(me){ct(i,i.return,me)}}if(d&4&&(g=i.stateNode,g!=null)){var v=i.memoizedProps,T=l!==null?l.memoizedProps:v,C=i.type,M=i.updateQueue;if(i.updateQueue=null,M!==null)try{C==="input"&&v.type==="radio"&&v.name!=null&&Ca(g,v),Ua(C,T);var K=Ua(C,v);for(T=0;T<M.length;T+=2){var te=M[T],re=M[T+1];te==="style"?La(g,re):te==="dangerouslySetInnerHTML"?Da(g,re):te==="children"?ci(g,re):O(g,te,re,K)}switch(C){case"input":Na(g,v);break;case"textarea":co(g,v);break;case"select":var ee=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!v.multiple;var he=v.value;he!=null?jr(g,!!v.multiple,he,!1):ee!==!!v.multiple&&(v.defaultValue!=null?jr(g,!!v.multiple,v.defaultValue,!0):jr(g,!!v.multiple,v.multiple?[]:"",!1))}g[ll]=v}catch(me){ct(i,i.return,me)}}break;case 6:if(Zn(s,i),wr(i),d&4){if(i.stateNode===null)throw Error(t(162));g=i.stateNode,v=i.memoizedProps;try{g.nodeValue=v}catch(me){ct(i,i.return,me)}}break;case 3:if(Zn(s,i),wr(i),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Gn(s.containerInfo)}catch(me){ct(i,i.return,me)}break;case 4:Zn(s,i),wr(i);break;case 13:Zn(s,i),wr(i),g=i.child,g.flags&8192&&(v=g.memoizedState!==null,g.stateNode.isHidden=v,!v||g.alternate!==null&&g.alternate.memoizedState!==null||(yf=Je())),d&4&&fv(i);break;case 22:if(te=l!==null&&l.memoizedState!==null,i.mode&1?(qt=(K=qt)||te,Zn(s,i),qt=K):Zn(s,i),wr(i),d&8192){if(K=i.memoizedState!==null,(i.stateNode.isHidden=K)&&!te&&(i.mode&1)!==0)for(de=i,te=i.child;te!==null;){for(re=de=te;de!==null;){switch(ee=de,he=ee.child,ee.tag){case 0:case 11:case 14:case 15:wl(4,ee,ee.return);break;case 1:Qo(ee,ee.return);var pe=ee.stateNode;if(typeof pe.componentWillUnmount=="function"){d=ee,l=ee.return;try{s=d,pe.props=s.memoizedProps,pe.state=s.memoizedState,pe.componentWillUnmount()}catch(me){ct(d,l,me)}}break;case 5:Qo(ee,ee.return);break;case 22:if(ee.memoizedState!==null){yv(re);continue}}he!==null?(he.return=ee,de=he):yv(re)}te=te.sibling}e:for(te=null,re=i;;){if(re.tag===5){if(te===null){te=re;try{g=re.stateNode,K?(v=g.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(C=re.stateNode,M=re.memoizedProps.style,T=M!=null&&M.hasOwnProperty("display")?M.display:null,C.style.display=Va("display",T))}catch(me){ct(i,i.return,me)}}}else if(re.tag===6){if(te===null)try{re.stateNode.nodeValue=K?"":re.memoizedProps}catch(me){ct(i,i.return,me)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===i)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===i)break e;for(;re.sibling===null;){if(re.return===null||re.return===i)break e;te===re&&(te=null),re=re.return}te===re&&(te=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:Zn(s,i),wr(i),d&4&&fv(i);break;case 21:break;default:Zn(s,i),wr(i)}}function wr(i){var s=i.flags;if(s&2){try{e:{for(var l=i.return;l!==null;){if(cv(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var g=d.stateNode;d.flags&32&&(ci(g,""),d.flags&=-33);var v=hv(i);pf(i,v,g);break;case 3:case 4:var T=d.stateNode.containerInfo,C=hv(i);ff(i,C,T);break;default:throw Error(t(161))}}catch(M){ct(i,i.return,M)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function DS(i,s,l){de=i,mv(i)}function mv(i,s,l){for(var d=(i.mode&1)!==0;de!==null;){var g=de,v=g.child;if(g.tag===22&&d){var T=g.memoizedState!==null||wc;if(!T){var C=g.alternate,M=C!==null&&C.memoizedState!==null||qt;C=wc;var K=qt;if(wc=T,(qt=M)&&!K)for(de=g;de!==null;)T=de,M=T.child,T.tag===22&&T.memoizedState!==null?vv(g):M!==null?(M.return=T,de=M):vv(g);for(;v!==null;)de=v,mv(v),v=v.sibling;de=g,wc=C,qt=K}gv(i)}else(g.subtreeFlags&8772)!==0&&v!==null?(v.return=g,de=v):gv(i)}}function gv(i){for(;de!==null;){var s=de;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:qt||xc(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!qt)if(l===null)d.componentDidMount();else{var g=s.elementType===s.type?l.memoizedProps:Xn(s.type,l.memoizedProps);d.componentDidUpdate(g,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var v=s.updateQueue;v!==null&&yy(s,v,d);break;case 3:var T=s.updateQueue;if(T!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}yy(s,T,l)}break;case 5:var C=s.stateNode;if(l===null&&s.flags&4){l=C;var M=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&l.focus();break;case"img":M.src&&(l.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var K=s.alternate;if(K!==null){var te=K.memoizedState;if(te!==null){var re=te.dehydrated;re!==null&&Gn(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}qt||s.flags&512&&df(s)}catch(ee){ct(s,s.return,ee)}}if(s===i){de=null;break}if(l=s.sibling,l!==null){l.return=s.return,de=l;break}de=s.return}}function yv(i){for(;de!==null;){var s=de;if(s===i){de=null;break}var l=s.sibling;if(l!==null){l.return=s.return,de=l;break}de=s.return}}function vv(i){for(;de!==null;){var s=de;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{xc(4,s)}catch(M){ct(s,l,M)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var g=s.return;try{d.componentDidMount()}catch(M){ct(s,g,M)}}var v=s.return;try{df(s)}catch(M){ct(s,v,M)}break;case 5:var T=s.return;try{df(s)}catch(M){ct(s,T,M)}}}catch(M){ct(s,s.return,M)}if(s===i){de=null;break}var C=s.sibling;if(C!==null){C.return=s.return,de=C;break}de=s.return}}var VS=Math.ceil,_c=Y.ReactCurrentDispatcher,mf=Y.ReactCurrentOwner,Rn=Y.ReactCurrentBatchConfig,ze=0,Nt=null,vt=null,Mt=0,_n=0,Yo=Ei(0),It=0,xl=null,ks=0,Ec=0,gf=0,_l=null,un=null,yf=0,Xo=1/0,Kr=null,Tc=!1,vf=null,Ai=null,Sc=!1,ki=null,Ic=0,El=0,wf=null,bc=-1,Pc=0;function tn(){return(ze&6)!==0?Je():bc!==-1?bc:bc=Je()}function Ci(i){return(i.mode&1)===0?1:(ze&2)!==0&&Mt!==0?Mt&-Mt:vS.transition!==null?(Pc===0&&(Pc=ys()),Pc):(i=Oe,i!==0||(i=window.event,i=i===void 0?16:Ya(i.type)),i)}function er(i,s,l,d){if(50<El)throw El=0,wf=null,Error(t(185));pi(i,l,d),((ze&2)===0||i!==Nt)&&(i===Nt&&((ze&2)===0&&(Ec|=l),It===4&&Ni(i,Mt)),cn(i,d),l===1&&ze===0&&(s.mode&1)===0&&(Xo=Je()+500,tc&&Si()))}function cn(i,s){var l=i.callbackNode;Lr(i,s);var d=gs(i,i===Nt?Mt:0);if(d===0)l!==null&&Wa(l),i.callbackNode=null,i.callbackPriority=0;else if(s=d&-d,i.callbackPriority!==s){if(l!=null&&Wa(l),s===1)i.tag===0?yS(xv.bind(null,i)):sy(xv.bind(null,i)),fS(function(){(ze&6)===0&&Si()}),l=null;else{switch(gi(d)){case 1:l=ps;break;case 4:l=hi;break;case 16:l=In;break;case 536870912:l=Pu;break;default:l=In}l=Av(l,wv.bind(null,i))}i.callbackPriority=s,i.callbackNode=l}}function wv(i,s){if(bc=-1,Pc=0,(ze&6)!==0)throw Error(t(327));var l=i.callbackNode;if(Jo()&&i.callbackNode!==l)return null;var d=gs(i,i===Nt?Mt:0);if(d===0)return null;if((d&30)!==0||(d&i.expiredLanes)!==0||s)s=Ac(i,d);else{s=d;var g=ze;ze|=2;var v=Ev();(Nt!==i||Mt!==s)&&(Kr=null,Xo=Je()+500,Ns(i,s));do try{MS();break}catch(C){_v(i,C)}while(!0);Ld(),_c.current=v,ze=g,vt!==null?s=0:(Nt=null,Mt=0,s=It)}if(s!==0){if(s===2&&(g=gn(i),g!==0&&(d=g,s=xf(i,g))),s===1)throw l=xl,Ns(i,0),Ni(i,d),cn(i,Je()),l;if(s===6)Ni(i,d);else{if(g=i.current.alternate,(d&30)===0&&!LS(g)&&(s=Ac(i,d),s===2&&(v=gn(i),v!==0&&(d=v,s=xf(i,v))),s===1))throw l=xl,Ns(i,0),Ni(i,d),cn(i,Je()),l;switch(i.finishedWork=g,i.finishedLanes=d,s){case 0:case 1:throw Error(t(345));case 2:Rs(i,un,Kr);break;case 3:if(Ni(i,d),(d&130023424)===d&&(s=yf+500-Je(),10<s)){if(gs(i,0)!==0)break;if(g=i.suspendedLanes,(g&d)!==d){tn(),i.pingedLanes|=i.suspendedLanes&g;break}i.timeoutHandle=Id(Rs.bind(null,i,un,Kr),s);break}Rs(i,un,Kr);break;case 4:if(Ni(i,d),(d&4194240)===d)break;for(s=i.eventTimes,g=-1;0<d;){var T=31-Jt(d);v=1<<T,T=s[T],T>g&&(g=T),d&=~v}if(d=g,d=Je()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*VS(d/1960))-d,10<d){i.timeoutHandle=Id(Rs.bind(null,i,un,Kr),d);break}Rs(i,un,Kr);break;case 5:Rs(i,un,Kr);break;default:throw Error(t(329))}}}return cn(i,Je()),i.callbackNode===l?wv.bind(null,i):null}function xf(i,s){var l=_l;return i.current.memoizedState.isDehydrated&&(Ns(i,s).flags|=256),i=Ac(i,s),i!==2&&(s=un,un=l,s!==null&&_f(s)),i}function _f(i){un===null?un=i:un.push.apply(un,i)}function LS(i){for(var s=i;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var g=l[d],v=g.getSnapshot;g=g.value;try{if(!Qn(v(),g))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ni(i,s){for(s&=~gf,s&=~Ec,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var l=31-Jt(s),d=1<<l;i[l]=-1,s&=~d}}function xv(i){if((ze&6)!==0)throw Error(t(327));Jo();var s=gs(i,0);if((s&1)===0)return cn(i,Je()),null;var l=Ac(i,s);if(i.tag!==0&&l===2){var d=gn(i);d!==0&&(s=d,l=xf(i,d))}if(l===1)throw l=xl,Ns(i,0),Ni(i,s),cn(i,Je()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,Rs(i,un,Kr),cn(i,Je()),null}function Ef(i,s){var l=ze;ze|=1;try{return i(s)}finally{ze=l,ze===0&&(Xo=Je()+500,tc&&Si())}}function Cs(i){ki!==null&&ki.tag===0&&(ze&6)===0&&Jo();var s=ze;ze|=1;var l=Rn.transition,d=Oe;try{if(Rn.transition=null,Oe=1,i)return i()}finally{Oe=d,Rn.transition=l,ze=s,(ze&6)===0&&Si()}}function Tf(){_n=Yo.current,nt(Yo)}function Ns(i,s){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,dS(l)),vt!==null)for(l=vt.return;l!==null;){var d=l;switch(Nd(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Zu();break;case 3:Go(),nt(on),nt($t),Hd();break;case 5:zd(d);break;case 4:Go();break;case 13:nt(ot);break;case 19:nt(ot);break;case 10:Od(d.type._context);break;case 22:case 23:Tf()}l=l.return}if(Nt=i,vt=i=Ri(i.current,null),Mt=_n=s,It=0,xl=null,gf=Ec=ks=0,un=_l=null,bs!==null){for(s=0;s<bs.length;s++)if(l=bs[s],d=l.interleaved,d!==null){l.interleaved=null;var g=d.next,v=l.pending;if(v!==null){var T=v.next;v.next=g,d.next=T}l.pending=d}bs=null}return i}function _v(i,s){do{var l=vt;try{if(Ld(),hc.current=mc,dc){for(var d=at.memoizedState;d!==null;){var g=d.queue;g!==null&&(g.pending=null),d=d.next}dc=!1}if(As=0,Ct=St=at=null,pl=!1,ml=0,mf.current=null,l===null||l.return===null){It=1,xl=s,vt=null;break}e:{var v=i,T=l.return,C=l,M=s;if(s=Mt,C.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var K=M,te=C,re=te.tag;if((te.mode&1)===0&&(re===0||re===11||re===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var he=qy(T);if(he!==null){he.flags&=-257,Gy(he,T,C,v,s),he.mode&1&&Wy(v,K,s),s=he,M=K;var pe=s.updateQueue;if(pe===null){var me=new Set;me.add(M),s.updateQueue=me}else pe.add(M);break e}else{if((s&1)===0){Wy(v,K,s),Sf();break e}M=Error(t(426))}}else if(it&&C.mode&1){var ft=qy(T);if(ft!==null){(ft.flags&65536)===0&&(ft.flags|=256),Gy(ft,T,C,v,s),Dd(Ko(M,C));break e}}v=M=Ko(M,C),It!==4&&(It=2),_l===null?_l=[v]:_l.push(v),v=T;do{switch(v.tag){case 3:v.flags|=65536,s&=-s,v.lanes|=s;var W=$y(v,M,s);gy(v,W);break e;case 1:C=M;var F=v.type,q=v.stateNode;if((v.flags&128)===0&&(typeof F.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(Ai===null||!Ai.has(q)))){v.flags|=65536,s&=-s,v.lanes|=s;var ae=Hy(v,C,s);gy(v,ae);break e}}v=v.return}while(v!==null)}Sv(l)}catch(ye){s=ye,vt===l&&l!==null&&(vt=l=l.return);continue}break}while(!0)}function Ev(){var i=_c.current;return _c.current=mc,i===null?mc:i}function Sf(){(It===0||It===3||It===2)&&(It=4),Nt===null||(ks&268435455)===0&&(Ec&268435455)===0||Ni(Nt,Mt)}function Ac(i,s){var l=ze;ze|=2;var d=Ev();(Nt!==i||Mt!==s)&&(Kr=null,Ns(i,s));do try{OS();break}catch(g){_v(i,g)}while(!0);if(Ld(),ze=l,_c.current=d,vt!==null)throw Error(t(261));return Nt=null,Mt=0,It}function OS(){for(;vt!==null;)Tv(vt)}function MS(){for(;vt!==null&&!Iu();)Tv(vt)}function Tv(i){var s=Pv(i.alternate,i,_n);i.memoizedProps=i.pendingProps,s===null?Sv(i):vt=s,mf.current=null}function Sv(i){var s=i;do{var l=s.alternate;if(i=s.return,(s.flags&32768)===0){if(l=CS(l,s,_n),l!==null){vt=l;return}}else{if(l=NS(l,s),l!==null){l.flags&=32767,vt=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{It=6,vt=null;return}}if(s=s.sibling,s!==null){vt=s;return}vt=s=i}while(s!==null);It===0&&(It=5)}function Rs(i,s,l){var d=Oe,g=Rn.transition;try{Rn.transition=null,Oe=1,US(i,s,l,d)}finally{Rn.transition=g,Oe=d}return null}function US(i,s,l,d){do Jo();while(ki!==null);if((ze&6)!==0)throw Error(t(327));l=i.finishedWork;var g=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var v=l.lanes|l.childLanes;if(Ye(i,v),i===Nt&&(vt=Nt=null,Mt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Sc||(Sc=!0,Av(In,function(){return Jo(),null})),v=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||v){v=Rn.transition,Rn.transition=null;var T=Oe;Oe=1;var C=ze;ze|=4,mf.current=null,jS(i,l),pv(l,i),sS(Td),vi=!!Ed,Td=Ed=null,i.current=l,DS(l),od(),ze=C,Oe=T,Rn.transition=v}else i.current=l;if(Sc&&(Sc=!1,ki=i,Ic=g),v=i.pendingLanes,v===0&&(Ai=null),Au(l.stateNode),cn(i,Je()),s!==null)for(d=i.onRecoverableError,l=0;l<s.length;l++)g=s[l],d(g.value,{componentStack:g.stack,digest:g.digest});if(Tc)throw Tc=!1,i=vf,vf=null,i;return(Ic&1)!==0&&i.tag!==0&&Jo(),v=i.pendingLanes,(v&1)!==0?i===wf?El++:(El=0,wf=i):El=0,Si(),null}function Jo(){if(ki!==null){var i=gi(Ic),s=Rn.transition,l=Oe;try{if(Rn.transition=null,Oe=16>i?16:i,ki===null)var d=!1;else{if(i=ki,ki=null,Ic=0,(ze&6)!==0)throw Error(t(331));var g=ze;for(ze|=4,de=i.current;de!==null;){var v=de,T=v.child;if((de.flags&16)!==0){var C=v.deletions;if(C!==null){for(var M=0;M<C.length;M++){var K=C[M];for(de=K;de!==null;){var te=de;switch(te.tag){case 0:case 11:case 15:wl(8,te,v)}var re=te.child;if(re!==null)re.return=te,de=re;else for(;de!==null;){te=de;var ee=te.sibling,he=te.return;if(uv(te),te===K){de=null;break}if(ee!==null){ee.return=he,de=ee;break}de=he}}}var pe=v.alternate;if(pe!==null){var me=pe.child;if(me!==null){pe.child=null;do{var ft=me.sibling;me.sibling=null,me=ft}while(me!==null)}}de=v}}if((v.subtreeFlags&2064)!==0&&T!==null)T.return=v,de=T;else e:for(;de!==null;){if(v=de,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:wl(9,v,v.return)}var W=v.sibling;if(W!==null){W.return=v.return,de=W;break e}de=v.return}}var F=i.current;for(de=F;de!==null;){T=de;var q=T.child;if((T.subtreeFlags&2064)!==0&&q!==null)q.return=T,de=q;else e:for(T=F;de!==null;){if(C=de,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:xc(9,C)}}catch(ye){ct(C,C.return,ye)}if(C===T){de=null;break e}var ae=C.sibling;if(ae!==null){ae.return=C.return,de=ae;break e}de=C.return}}if(ze=g,Si(),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(ms,i)}catch{}d=!0}return d}finally{Oe=l,Rn.transition=s}}return!1}function Iv(i,s,l){s=Ko(l,s),s=$y(i,s,1),i=bi(i,s,1),s=tn(),i!==null&&(pi(i,1,s),cn(i,s))}function ct(i,s,l){if(i.tag===3)Iv(i,i,l);else for(;s!==null;){if(s.tag===3){Iv(s,i,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ai===null||!Ai.has(d))){i=Ko(l,i),i=Hy(s,i,1),s=bi(s,i,1),i=tn(),s!==null&&(pi(s,1,i),cn(s,i));break}}s=s.return}}function FS(i,s,l){var d=i.pingCache;d!==null&&d.delete(s),s=tn(),i.pingedLanes|=i.suspendedLanes&l,Nt===i&&(Mt&l)===l&&(It===4||It===3&&(Mt&130023424)===Mt&&500>Je()-yf?Ns(i,0):gf|=l),cn(i,s)}function bv(i,s){s===0&&((i.mode&1)===0?s=1:(s=_o,_o<<=1,(_o&130023424)===0&&(_o=4194304)));var l=tn();i=Wr(i,s),i!==null&&(pi(i,s,l),cn(i,l))}function BS(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),bv(i,l)}function zS(i,s){var l=0;switch(i.tag){case 13:var d=i.stateNode,g=i.memoizedState;g!==null&&(l=g.retryLane);break;case 19:d=i.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(s),bv(i,l)}var Pv;Pv=function(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps||on.current)ln=!0;else{if((i.lanes&l)===0&&(s.flags&128)===0)return ln=!1,kS(i,s,l);ln=(i.flags&131072)!==0}else ln=!1,it&&(s.flags&1048576)!==0&&oy(s,rc,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;vc(i,s),i=s.pendingProps;var g=Fo(s,$t.current);qo(s,l),g=Gd(null,s,d,i,g,l);var v=Kd();return s.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,an(d)?(v=!0,ec(s)):v=!1,s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Fd(s),g.updater=gc,s.stateNode=g,g._reactInternals=s,ef(s,d,i,l),s=sf(null,s,d,!0,v,l)):(s.tag=0,it&&v&&Cd(s),en(null,s,g,l),s=s.child),s;case 16:d=s.elementType;e:{switch(vc(i,s),i=s.pendingProps,g=d._init,d=g(d._payload),s.type=d,g=s.tag=HS(d),i=Xn(d,i),g){case 0:s=rf(null,s,d,i,l);break e;case 1:s=Zy(null,s,d,i,l);break e;case 11:s=Ky(null,s,d,i,l);break e;case 14:s=Qy(null,s,d,Xn(d.type,i),l);break e}throw Error(t(306,d,""))}return s;case 0:return d=s.type,g=s.pendingProps,g=s.elementType===d?g:Xn(d,g),rf(i,s,d,g,l);case 1:return d=s.type,g=s.pendingProps,g=s.elementType===d?g:Xn(d,g),Zy(i,s,d,g,l);case 3:e:{if(ev(s),i===null)throw Error(t(387));d=s.pendingProps,v=s.memoizedState,g=v.element,my(i,s),uc(s,d,null,l);var T=s.memoizedState;if(d=T.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){g=Ko(Error(t(423)),s),s=tv(i,s,d,l,g);break e}else if(d!==g){g=Ko(Error(t(424)),s),s=tv(i,s,d,l,g);break e}else for(xn=_i(s.stateNode.containerInfo.firstChild),wn=s,it=!0,Yn=null,l=fy(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if($o(),d===g){s=Gr(i,s,l);break e}en(i,s,d,l)}s=s.child}return s;case 5:return vy(s),i===null&&jd(s),d=s.type,g=s.pendingProps,v=i!==null?i.memoizedProps:null,T=g.children,Sd(d,g)?T=null:v!==null&&Sd(d,v)&&(s.flags|=32),Jy(i,s),en(i,s,T,l),s.child;case 6:return i===null&&jd(s),null;case 13:return nv(i,s,l);case 4:return Bd(s,s.stateNode.containerInfo),d=s.pendingProps,i===null?s.child=Ho(s,null,d,l):en(i,s,d,l),s.child;case 11:return d=s.type,g=s.pendingProps,g=s.elementType===d?g:Xn(d,g),Ky(i,s,d,g,l);case 7:return en(i,s,s.pendingProps,l),s.child;case 8:return en(i,s,s.pendingProps.children,l),s.child;case 12:return en(i,s,s.pendingProps.children,l),s.child;case 10:e:{if(d=s.type._context,g=s.pendingProps,v=s.memoizedProps,T=g.value,Ze(oc,d._currentValue),d._currentValue=T,v!==null)if(Qn(v.value,T)){if(v.children===g.children&&!on.current){s=Gr(i,s,l);break e}}else for(v=s.child,v!==null&&(v.return=s);v!==null;){var C=v.dependencies;if(C!==null){T=v.child;for(var M=C.firstContext;M!==null;){if(M.context===d){if(v.tag===1){M=qr(-1,l&-l),M.tag=2;var K=v.updateQueue;if(K!==null){K=K.shared;var te=K.pending;te===null?M.next=M:(M.next=te.next,te.next=M),K.pending=M}}v.lanes|=l,M=v.alternate,M!==null&&(M.lanes|=l),Md(v.return,l,s),C.lanes|=l;break}M=M.next}}else if(v.tag===10)T=v.type===s.type?null:v.child;else if(v.tag===18){if(T=v.return,T===null)throw Error(t(341));T.lanes|=l,C=T.alternate,C!==null&&(C.lanes|=l),Md(T,l,s),T=v.sibling}else T=v.child;if(T!==null)T.return=v;else for(T=v;T!==null;){if(T===s){T=null;break}if(v=T.sibling,v!==null){v.return=T.return,T=v;break}T=T.return}v=T}en(i,s,g.children,l),s=s.child}return s;case 9:return g=s.type,d=s.pendingProps.children,qo(s,l),g=Cn(g),d=d(g),s.flags|=1,en(i,s,d,l),s.child;case 14:return d=s.type,g=Xn(d,s.pendingProps),g=Xn(d.type,g),Qy(i,s,d,g,l);case 15:return Yy(i,s,s.type,s.pendingProps,l);case 17:return d=s.type,g=s.pendingProps,g=s.elementType===d?g:Xn(d,g),vc(i,s),s.tag=1,an(d)?(i=!0,ec(s)):i=!1,qo(s,l),By(s,d,g),ef(s,d,g,l),sf(null,s,d,!0,i,l);case 19:return iv(i,s,l);case 22:return Xy(i,s,l)}throw Error(t(156,s.tag))};function Av(i,s){return wo(i,s)}function $S(i,s,l,d){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(i,s,l,d){return new $S(i,s,l,d)}function If(i){return i=i.prototype,!(!i||!i.isReactComponent)}function HS(i){if(typeof i=="function")return If(i)?1:0;if(i!=null){if(i=i.$$typeof,i===B)return 11;if(i===$e)return 14}return 2}function Ri(i,s){var l=i.alternate;return l===null?(l=jn(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function kc(i,s,l,d,g,v){var T=2;if(d=i,typeof i=="function")If(i)&&(T=1);else if(typeof i=="string")T=5;else e:switch(i){case R:return js(l.children,g,v,s);case b:T=8,g|=8;break;case P:return i=jn(12,l,s,g|2),i.elementType=P,i.lanes=v,i;case N:return i=jn(13,l,s,g),i.elementType=N,i.lanes=v,i;case be:return i=jn(19,l,s,g),i.elementType=be,i.lanes=v,i;case Ce:return Cc(l,g,v,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case V:T=10;break e;case U:T=9;break e;case B:T=11;break e;case $e:T=14;break e;case Re:T=16,d=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return s=jn(T,l,s,g),s.elementType=i,s.type=d,s.lanes=v,s}function js(i,s,l,d){return i=jn(7,i,d,s),i.lanes=l,i}function Cc(i,s,l,d){return i=jn(22,i,d,s),i.elementType=Ce,i.lanes=l,i.stateNode={isHidden:!1},i}function bf(i,s,l){return i=jn(6,i,null,s),i.lanes=l,i}function Pf(i,s,l){return s=jn(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function WS(i,s,l,d,g){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fi(0),this.expirationTimes=fi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.identifierPrefix=d,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Af(i,s,l,d,g,v,T,C,M){return i=new WS(i,s,l,C,M),s===1?(s=1,v===!0&&(s|=8)):s=0,v=jn(3,null,null,s),i.current=v,v.stateNode=i,v.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fd(v),i}function qS(i,s,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:se,key:d==null?null:""+d,children:i,containerInfo:s,implementation:l}}function kv(i){if(!i)return Ti;i=i._reactInternals;e:{if(zn(i)!==i||i.tag!==1)throw Error(t(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(an(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(an(l))return ry(i,l,s)}return s}function Cv(i,s,l,d,g,v,T,C,M){return i=Af(l,d,!0,i,g,v,T,C,M),i.context=kv(null),l=i.current,d=tn(),g=Ci(l),v=qr(d,g),v.callback=s??null,bi(l,v,g),i.current.lanes=g,pi(i,g,d),cn(i,d),i}function Nc(i,s,l,d){var g=s.current,v=tn(),T=Ci(g);return l=kv(l),s.context===null?s.context=l:s.pendingContext=l,s=qr(v,T),s.payload={element:i},d=d===void 0?null:d,d!==null&&(s.callback=d),i=bi(g,s,T),i!==null&&(er(i,g,T,v),lc(i,g,T)),T}function Rc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Nv(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function kf(i,s){Nv(i,s),(i=i.alternate)&&Nv(i,s)}function GS(){return null}var Rv=typeof reportError=="function"?reportError:function(i){console.error(i)};function Cf(i){this._internalRoot=i}jc.prototype.render=Cf.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(t(409));Nc(i,s,null,null)},jc.prototype.unmount=Cf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Cs(function(){Nc(null,i,null,null)}),s[Br]=null}};function jc(i){this._internalRoot=i}jc.prototype.unstable_scheduleHydration=function(i){if(i){var s=ju();i={blockedOn:null,target:i,priority:s};for(var l=0;l<dr.length&&s!==0&&s<dr[l].priority;l++);dr.splice(l,0,i),l===0&&Lu(i)}};function Nf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Dc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function jv(){}function KS(i,s,l,d,g){if(g){if(typeof d=="function"){var v=d;d=function(){var K=Rc(T);v.call(K)}}var T=Cv(s,d,i,0,null,!1,!1,"",jv);return i._reactRootContainer=T,i[Br]=T.current,ol(i.nodeType===8?i.parentNode:i),Cs(),T}for(;g=i.lastChild;)i.removeChild(g);if(typeof d=="function"){var C=d;d=function(){var K=Rc(M);C.call(K)}}var M=Af(i,0,!1,null,null,!1,!1,"",jv);return i._reactRootContainer=M,i[Br]=M.current,ol(i.nodeType===8?i.parentNode:i),Cs(function(){Nc(s,M,l,d)}),M}function Vc(i,s,l,d,g){var v=l._reactRootContainer;if(v){var T=v;if(typeof g=="function"){var C=g;g=function(){var M=Rc(T);C.call(M)}}Nc(s,T,i,g)}else T=KS(l,s,i,g,d);return Rc(T)}Nu=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var l=di(s.pendingLanes);l!==0&&(mi(s,l|1),cn(s,Je()),(ze&6)===0&&(Xo=Je()+500,Si()))}break;case 13:Cs(function(){var d=Wr(i,1);if(d!==null){var g=tn();er(d,i,1,g)}}),kf(i,1)}},Eo=function(i){if(i.tag===13){var s=Wr(i,134217728);if(s!==null){var l=tn();er(s,i,134217728,l)}kf(i,134217728)}},Ru=function(i){if(i.tag===13){var s=Ci(i),l=Wr(i,s);if(l!==null){var d=tn();er(l,i,s,d)}kf(i,s)}},ju=function(){return Oe},Du=function(i,s){var l=Oe;try{return Oe=i,s()}finally{Oe=l}},fo=function(i,s,l){switch(s){case"input":if(Na(i,l),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==i&&d.form===i.form){var g=Ju(d);if(!g)throw Error(t(90));ss(d),Na(d,g)}}}break;case"textarea":co(i,l);break;case"select":s=l.value,s!=null&&jr(i,!!l.multiple,s,!1)}},cs=Ef,Ba=Cs;var QS={usingClientEntryPoint:!1,Events:[ul,Mo,Ju,cr,Fa,Ef]},Tl={findFiberByHostInstance:Es,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},YS={bundleType:Tl.bundleType,version:Tl.version,rendererPackageName:Tl.rendererPackageName,rendererConfig:Tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Ha(i),i===null?null:i.stateNode},findFiberByHostInstance:Tl.findFiberByHostInstance||GS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lc.isDisabled&&Lc.supportsFiber)try{ms=Lc.inject(YS),mn=Lc}catch{}}return hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QS,hn.createPortal=function(i,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nf(s))throw Error(t(200));return qS(i,s,null,l)},hn.createRoot=function(i,s){if(!Nf(i))throw Error(t(299));var l=!1,d="",g=Rv;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(g=s.onRecoverableError)),s=Af(i,1,!1,null,null,l,!1,d,g),i[Br]=s.current,ol(i.nodeType===8?i.parentNode:i),new Cf(s)},hn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Ha(s),i=i===null?null:i.stateNode,i},hn.flushSync=function(i){return Cs(i)},hn.hydrate=function(i,s,l){if(!Dc(s))throw Error(t(200));return Vc(null,i,s,!0,l)},hn.hydrateRoot=function(i,s,l){if(!Nf(i))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,g=!1,v="",T=Rv;if(l!=null&&(l.unstable_strictMode===!0&&(g=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),s=Cv(s,null,i,1,l??null,g,!1,v,T),i[Br]=s.current,ol(i),d)for(i=0;i<d.length;i++)l=d[i],g=l._getVersion,g=g(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,g]:s.mutableSourceEagerHydrationData.push(l,g);return new jc(s)},hn.render=function(i,s,l){if(!Dc(s))throw Error(t(200));return Vc(null,i,s,!1,l)},hn.unmountComponentAtNode=function(i){if(!Dc(i))throw Error(t(40));return i._reactRootContainer?(Cs(function(){Vc(null,null,i,!1,function(){i._reactRootContainer=null,i[Br]=null})}),!0):!1},hn.unstable_batchedUpdates=Ef,hn.unstable_renderSubtreeIntoContainer=function(i,s,l,d){if(!Dc(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Vc(i,s,l,!1,d)},hn.version="18.3.1-next-f1338f8080-20240426",hn}var Bv;function Ax(){if(Bv)return Df.exports;Bv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Df.exports=oI(),Df.exports}var zv;function aI(){if(zv)return Oc;zv=1;var n=Ax();return Oc.createRoot=n.createRoot,Oc.hydrateRoot=n.hydrateRoot,Oc}var lI=aI();Ax();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hl(){return Hl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Hl.apply(this,arguments)}var $i;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})($i||($i={}));const $v="popstate";function uI(n){n===void 0&&(n={});function e(r,o){let{pathname:a,search:u,hash:h}=r.location;return dp("",{pathname:a,search:u,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){return typeof o=="string"?o:sh(o)}return hI(e,t,null,n)}function gt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function kx(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cI(){return Math.random().toString(36).substr(2,8)}function Hv(n,e){return{usr:n.state,key:n.key,idx:e}}function dp(n,e,t,r){return t===void 0&&(t=null),Hl({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Ta(e):e,{state:t,key:e&&e.key||r||cI()})}function sh(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ta(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function hI(n,e,t,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:a=!1}=r,u=o.history,h=$i.Pop,p=null,m=w();m==null&&(m=0,u.replaceState(Hl({},u.state,{idx:m}),""));function w(){return(u.state||{idx:null}).idx}function x(){h=$i.Pop;let A=w(),z=A==null?null:A-m;m=A,p&&p({action:h,location:k.location,delta:z})}function E(A,z){h=$i.Push;let G=dp(k.location,A,z);m=w()+1;let O=Hv(G,m),Y=k.createHref(G);try{u.pushState(O,"",Y)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;o.location.assign(Y)}a&&p&&p({action:h,location:k.location,delta:1})}function I(A,z){h=$i.Replace;let G=dp(k.location,A,z);m=w();let O=Hv(G,m),Y=k.createHref(G);u.replaceState(O,"",Y),a&&p&&p({action:h,location:k.location,delta:0})}function D(A){let z=o.location.origin!=="null"?o.location.origin:o.location.href,G=typeof A=="string"?A:sh(A);return G=G.replace(/ $/,"%20"),gt(z,"No window.location.(origin|href) available to create URL for href: "+G),new URL(G,z)}let k={get action(){return h},get location(){return n(o,u)},listen(A){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener($v,x),p=A,()=>{o.removeEventListener($v,x),p=null}},createHref(A){return e(o,A)},createURL:D,encodeLocation(A){let z=D(A);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:E,replace:I,go(A){return u.go(A)}};return k}var Wv;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Wv||(Wv={}));function dI(n,e,t){return t===void 0&&(t="/"),fI(n,e,t)}function fI(n,e,t,r){let o=typeof e=="string"?Ta(e):e,a=sm(o.pathname||"/",t);if(a==null)return null;let u=Cx(n);pI(u);let h=null;for(let p=0;h==null&&p<u.length;++p){let m=bI(a);h=TI(u[p],m)}return h}function Cx(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let o=(a,u,h)=>{let p={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};p.relativePath.startsWith("/")&&(gt(p.relativePath.startsWith(r),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(r.length));let m=Wi([r,p.relativePath]),w=t.concat(p);a.children&&a.children.length>0&&(gt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),Cx(a.children,e,w,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:_I(m,a.index),routesMeta:w})};return n.forEach((a,u)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))o(a,u);else for(let p of Nx(a.path))o(a,u,p)}),e}function Nx(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let u=Nx(r.join("/")),h=[];return h.push(...u.map(p=>p===""?a:[a,p].join("/"))),o&&h.push(...u),h.map(p=>n.startsWith("/")&&p===""?"/":p)}function pI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:EI(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const mI=/^:[\w-]+$/,gI=3,yI=2,vI=1,wI=10,xI=-2,qv=n=>n==="*";function _I(n,e){let t=n.split("/"),r=t.length;return t.some(qv)&&(r+=xI),e&&(r+=yI),t.filter(o=>!qv(o)).reduce((o,a)=>o+(mI.test(a)?gI:a===""?vI:wI),r)}function EI(n,e){return n.length===e.length&&n.slice(0,-1).every((r,o)=>r===e[o])?n[n.length-1]-e[e.length-1]:0}function TI(n,e,t){let{routesMeta:r}=n,o={},a="/",u=[];for(let h=0;h<r.length;++h){let p=r[h],m=h===r.length-1,w=a==="/"?e:e.slice(a.length)||"/",x=SI({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},w),E=p.route;if(!x)return null;Object.assign(o,x.params),u.push({params:o,pathname:Wi([a,x.pathname]),pathnameBase:CI(Wi([a,x.pathnameBase])),route:E}),x.pathnameBase!=="/"&&(a=Wi([a,x.pathnameBase]))}return u}function SI(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=II(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:r.reduce((m,w,x)=>{let{paramName:E,isOptional:I}=w;if(E==="*"){let k=h[x]||"";u=a.slice(0,a.length-k.length).replace(/(.)\/+$/,"$1")}const D=h[x];return I&&!D?m[E]=void 0:m[E]=(D||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:u,pattern:n}}function II(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),kx(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,p)=>(r.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function bI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kx(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function sm(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function PI(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:o=""}=typeof n=="string"?Ta(n):n;return{pathname:t?t.startsWith("/")?t:AI(t,e):e,search:NI(r),hash:RI(o)}}function AI(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Of(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kI(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function om(n,e){let t=kI(n);return e?t.map((r,o)=>o===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function am(n,e,t,r){r===void 0&&(r=!1);let o;typeof n=="string"?o=Ta(n):(o=Hl({},n),gt(!o.pathname||!o.pathname.includes("?"),Of("?","pathname","search",o)),gt(!o.pathname||!o.pathname.includes("#"),Of("#","pathname","hash",o)),gt(!o.search||!o.search.includes("#"),Of("#","search","hash",o)));let a=n===""||o.pathname==="",u=a?"/":o.pathname,h;if(u==null)h=t;else{let x=e.length-1;if(!r&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),x-=1;o.pathname=E.join("/")}h=x>=0?e[x]:"/"}let p=PI(o,h),m=u&&u!=="/"&&u.endsWith("/"),w=(a||u===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(m||w)&&(p.pathname+="/"),p}const Wi=n=>n.join("/").replace(/\/\/+/g,"/"),CI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),NI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,RI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function jI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const Rx=["post","put","patch","delete"];new Set(Rx);const DI=["get",...Rx];new Set(DI);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wl(){return Wl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Wl.apply(this,arguments)}const lm=j.createContext(null),VI=j.createContext(null),ns=j.createContext(null),jh=j.createContext(null),li=j.createContext({outlet:null,matches:[],isDataRoute:!1}),jx=j.createContext(null);function LI(n,e){let{relative:t}=e===void 0?{}:e;Sa()||gt(!1);let{basename:r,navigator:o}=j.useContext(ns),{hash:a,pathname:u,search:h}=Lx(n,{relative:t}),p=u;return r!=="/"&&(p=u==="/"?r:Wi([r,u])),o.createHref({pathname:p,search:h,hash:a})}function Sa(){return j.useContext(jh)!=null}function Zs(){return Sa()||gt(!1),j.useContext(jh).location}function Dx(n){j.useContext(ns).static||j.useLayoutEffect(n)}function ar(){let{isDataRoute:n}=j.useContext(li);return n?QI():OI()}function OI(){Sa()||gt(!1);let n=j.useContext(lm),{basename:e,future:t,navigator:r}=j.useContext(ns),{matches:o}=j.useContext(li),{pathname:a}=Zs(),u=JSON.stringify(om(o,t.v7_relativeSplatPath)),h=j.useRef(!1);return Dx(()=>{h.current=!0}),j.useCallback(function(m,w){if(w===void 0&&(w={}),!h.current)return;if(typeof m=="number"){r.go(m);return}let x=am(m,JSON.parse(u),a,w.relative==="path");n==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:Wi([e,x.pathname])),(w.replace?r.replace:r.push)(x,w.state,w)},[e,r,u,a,n])}function Vx(){let{matches:n}=j.useContext(li),e=n[n.length-1];return e?e.params:{}}function Lx(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=j.useContext(ns),{matches:o}=j.useContext(li),{pathname:a}=Zs(),u=JSON.stringify(om(o,r.v7_relativeSplatPath));return j.useMemo(()=>am(n,JSON.parse(u),a,t==="path"),[n,u,a,t])}function MI(n,e){return UI(n,e)}function UI(n,e,t,r){Sa()||gt(!1);let{navigator:o}=j.useContext(ns),{matches:a}=j.useContext(li),u=a[a.length-1],h=u?u.params:{};u&&u.pathname;let p=u?u.pathnameBase:"/";u&&u.route;let m=Zs(),w;if(e){var x;let A=typeof e=="string"?Ta(e):e;p==="/"||(x=A.pathname)!=null&&x.startsWith(p)||gt(!1),w=A}else w=m;let E=w.pathname||"/",I=E;if(p!=="/"){let A=p.replace(/^\//,"").split("/");I="/"+E.replace(/^\//,"").split("/").slice(A.length).join("/")}let D=dI(n,{pathname:I}),k=HI(D&&D.map(A=>Object.assign({},A,{params:Object.assign({},h,A.params),pathname:Wi([p,o.encodeLocation?o.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?p:Wi([p,o.encodeLocation?o.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),a,t,r);return e&&k?j.createElement(jh.Provider,{value:{location:Wl({pathname:"/",search:"",hash:"",state:null,key:"default"},w),navigationType:$i.Pop}},k):k}function FI(){let n=KI(),e=jI(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),t?j.createElement("pre",{style:o},t):null,null)}const BI=j.createElement(FI,null);class zI extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?j.createElement(li.Provider,{value:this.props.routeContext},j.createElement(jx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $I(n){let{routeContext:e,match:t,children:r}=n,o=j.useContext(lm);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(li.Provider,{value:e},r)}function HI(n,e,t,r){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let u=n,h=(o=t)==null?void 0:o.errors;if(h!=null){let w=u.findIndex(x=>x.route.id&&h?.[x.route.id]!==void 0);w>=0||gt(!1),u=u.slice(0,Math.min(u.length,w+1))}let p=!1,m=-1;if(t&&r&&r.v7_partialHydration)for(let w=0;w<u.length;w++){let x=u[w];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(m=w),x.route.id){let{loaderData:E,errors:I}=t,D=x.route.loader&&E[x.route.id]===void 0&&(!I||I[x.route.id]===void 0);if(x.route.lazy||D){p=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}return u.reduceRight((w,x,E)=>{let I,D=!1,k=null,A=null;t&&(I=h&&x.route.id?h[x.route.id]:void 0,k=x.route.errorElement||BI,p&&(m<0&&E===0?(YI("route-fallback"),D=!0,A=null):m===E&&(D=!0,A=x.route.hydrateFallbackElement||null)));let z=e.concat(u.slice(0,E+1)),G=()=>{let O;return I?O=k:D?O=A:x.route.Component?O=j.createElement(x.route.Component,null):x.route.element?O=x.route.element:O=w,j.createElement($I,{match:x,routeContext:{outlet:w,matches:z,isDataRoute:t!=null},children:O})};return t&&(x.route.ErrorBoundary||x.route.errorElement||E===0)?j.createElement(zI,{location:t.location,revalidation:t.revalidation,component:k,error:I,children:G(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):G()},null)}var Ox=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(Ox||{}),Mx=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(Mx||{});function WI(n){let e=j.useContext(lm);return e||gt(!1),e}function qI(n){let e=j.useContext(VI);return e||gt(!1),e}function GI(n){let e=j.useContext(li);return e||gt(!1),e}function Ux(n){let e=GI(),t=e.matches[e.matches.length-1];return t.route.id||gt(!1),t.route.id}function KI(){var n;let e=j.useContext(jx),t=qI(),r=Ux();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function QI(){let{router:n}=WI(Ox.UseNavigateStable),e=Ux(Mx.UseNavigateStable),t=j.useRef(!1);return Dx(()=>{t.current=!0}),j.useCallback(function(o,a){a===void 0&&(a={}),t.current&&(typeof o=="number"?n.navigate(o):n.navigate(o,Wl({fromRouteId:e},a)))},[n,e])}const Gv={};function YI(n,e,t){Gv[n]||(Gv[n]=!0)}function XI(n,e){n?.v7_startTransition,n?.v7_relativeSplatPath}function Fx(n){let{to:e,replace:t,state:r,relative:o}=n;Sa()||gt(!1);let{future:a,static:u}=j.useContext(ns),{matches:h}=j.useContext(li),{pathname:p}=Zs(),m=ar(),w=am(e,om(h,a.v7_relativeSplatPath),p,o==="path"),x=JSON.stringify(w);return j.useEffect(()=>m(JSON.parse(x),{replace:t,state:r,relative:o}),[m,x,o,t,r]),null}function tr(n){gt(!1)}function JI(n){let{basename:e="/",children:t=null,location:r,navigationType:o=$i.Pop,navigator:a,static:u=!1,future:h}=n;Sa()&&gt(!1);let p=e.replace(/^\/*/,"/"),m=j.useMemo(()=>({basename:p,navigator:a,static:u,future:Wl({v7_relativeSplatPath:!1},h)}),[p,h,a,u]);typeof r=="string"&&(r=Ta(r));let{pathname:w="/",search:x="",hash:E="",state:I=null,key:D="default"}=r,k=j.useMemo(()=>{let A=sm(w,p);return A==null?null:{location:{pathname:A,search:x,hash:E,state:I,key:D},navigationType:o}},[p,w,x,E,I,D,o]);return k==null?null:j.createElement(ns.Provider,{value:m},j.createElement(jh.Provider,{children:t,value:k}))}function ZI(n){let{children:e,location:t}=n;return MI(fp(e),t)}new Promise(()=>{});function fp(n,e){e===void 0&&(e=[]);let t=[];return j.Children.forEach(n,(r,o)=>{if(!j.isValidElement(r))return;let a=[...e,o];if(r.type===j.Fragment){t.push.apply(t,fp(r.props.children,a));return}r.type!==tr&&gt(!1),!r.props.index||!r.props.children||gt(!1);let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=fp(r.props.children,a)),t.push(u)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pp(){return pp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},pp.apply(this,arguments)}function eb(n,e){if(n==null)return{};var t={},r=Object.keys(n),o,a;for(a=0;a<r.length;a++)o=r[a],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}function tb(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function nb(n,e){return n.button===0&&(!e||e==="_self")&&!tb(n)}function mp(n){return n===void 0&&(n=""),new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(o=>[t,o]):[[t,r]])},[]))}function rb(n,e){let t=mp(n);return e&&e.forEach((r,o)=>{t.has(o)||e.getAll(o).forEach(a=>{t.append(o,a)})}),t}const ib=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],sb="6";try{window.__reactRouterVersion=sb}catch{}const ob="startTransition",Kv=rI[ob];function ab(n){let{basename:e,children:t,future:r,window:o}=n,a=j.useRef();a.current==null&&(a.current=uI({window:o,v5Compat:!0}));let u=a.current,[h,p]=j.useState({action:u.action,location:u.location}),{v7_startTransition:m}=r||{},w=j.useCallback(x=>{m&&Kv?Kv(()=>p(x)):p(x)},[p,m]);return j.useLayoutEffect(()=>u.listen(w),[u,w]),j.useEffect(()=>XI(r),[r]),j.createElement(JI,{basename:e,children:t,location:h.location,navigationType:h.action,navigator:u,future:r})}const lb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ub=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ge=j.forwardRef(function(e,t){let{onClick:r,relative:o,reloadDocument:a,replace:u,state:h,target:p,to:m,preventScrollReset:w,viewTransition:x}=e,E=eb(e,ib),{basename:I}=j.useContext(ns),D,k=!1;if(typeof m=="string"&&ub.test(m)&&(D=m,lb))try{let O=new URL(window.location.href),Y=m.startsWith("//")?new URL(O.protocol+m):new URL(m),Z=sm(Y.pathname,I);Y.origin===O.origin&&Z!=null?m=Z+Y.search+Y.hash:k=!0}catch{}let A=LI(m,{relative:o}),z=cb(m,{replace:u,state:h,target:p,preventScrollReset:w,relative:o,viewTransition:x});function G(O){r&&r(O),O.defaultPrevented||z(O)}return j.createElement("a",pp({},E,{href:D||A,onClick:k||a?r:G,ref:t,target:p}))});var Qv;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Qv||(Qv={}));var Yv;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(Yv||(Yv={}));function cb(n,e){let{target:t,replace:r,state:o,preventScrollReset:a,relative:u,viewTransition:h}=e===void 0?{}:e,p=ar(),m=Zs(),w=Lx(n,{relative:u});return j.useCallback(x=>{if(nb(x,t)){x.preventDefault();let E=r!==void 0?r:sh(m)===sh(w);p(n,{replace:E,state:o,preventScrollReset:a,relative:u,viewTransition:h})}},[m,p,w,r,o,t,n,a,u,h])}function hb(n){let e=j.useRef(mp(n)),t=j.useRef(!1),r=Zs(),o=j.useMemo(()=>rb(r.search,t.current?null:e.current),[r.search]),a=ar(),u=j.useCallback((h,p)=>{const m=mp(typeof h=="function"?h(o):h);t.current=!0,a("?"+m,p)},[a,o]);return[o,u]}var Xv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},db=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const o=n[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],h=n[t++],p=((o&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},zx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,h=u?n[o+1]:0,p=o+2<n.length,m=p?n[o+2]:0,w=a>>2,x=(a&3)<<4|h>>4;let E=(h&15)<<2|m>>6,I=m&63;p||(I=64,u||(E=64)),r.push(t[w],t[x],t[E],t[I])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Bx(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):db(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],h=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const x=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||h==null||m==null||x==null)throw new fb;const E=a<<2|h>>4;if(r.push(E),m!==64){const I=h<<4&240|m>>2;if(r.push(I),x!==64){const D=m<<6&192|x;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class fb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pb=function(n){const e=Bx(n);return zx.encodeByteArray(e,!0)},oh=function(n){return pb(n).replace(/\./g,"")},$x=function(n){try{return zx.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb=()=>mb().__FIREBASE_DEFAULTS__,yb=()=>{if(typeof process>"u"||typeof Xv>"u")return;const n=Xv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},vb=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&$x(n[1]);return e&&JSON.parse(e)},Dh=()=>{try{return gb()||yb()||vb()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Hx=n=>{var e,t;return(t=(e=Dh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},wb=n=>{const e=Hx(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Wx=()=>{var n;return(n=Dh())===null||n===void 0?void 0:n.config},qx=n=>{var e;return(e=Dh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[oh(JSON.stringify(t)),oh(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Eb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xt())}function Tb(){var n;const e=(n=Dh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Sb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Gx(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Ib(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bb(){const n=Xt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Pb(){return!Tb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Kx(){try{return typeof indexedDB=="object"}catch{return!1}}function Qx(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}function Ab(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb="FirebaseError";class lr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=kb,Object.setPrototypeOf(this,lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eo.prototype.create)}}class eo{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?Cb(a,r):"Error",h=`${this.serviceName}: ${u} (${o}).`;return new lr(o,h,r)}}function Cb(n,e){return n.replace(Nb,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const Nb=/\{\$([^}]+)}/g;function Rb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ql(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const a=n[o],u=e[o];if(Jv(a)&&Jv(u)){if(!ql(a,u))return!1}else if(a!==u)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function Jv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Al(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,a]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function kl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function jb(n,e){const t=new Db(n,e);return t.subscribe.bind(t)}class Db{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Vb(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=Mf),o.error===void 0&&(o.error=Mf),o.complete===void 0&&(o.complete=Mf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Vb(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Mf(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb=1e3,Ob=2,Mb=14400*1e3,Ub=.5;function Zv(n,e=Lb,t=Ob){const r=e*Math.pow(t,n),o=Math.round(Ub*r*(Math.random()-.5)*2);return Math.min(Mb,r+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(n){return n&&n._delegate?n._delegate:n}class sr{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new xb;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),o=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zb(e))try{this.getOrInitializeService({instanceIdentifier:Vs})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=Vs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vs){return this.instances.has(e)}getOptions(e=Vs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&u.resolve(o)}return o}onInit(e,t){var r;const o=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&e(u,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Bb(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vs){return this.component?this.component.multipleInstances?e:Vs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Bb(n){return n===Vs?void 0:n}function zb(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Fb(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Me||(Me={}));const Hb={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},Wb=Me.INFO,qb={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},Gb=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),o=qb[e];if(o)console[o](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vh{constructor(e){this.name=e,this._logLevel=Wb,this._logHandler=Gb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Hb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const Kb=(n,e)=>e.some(t=>n instanceof t);let e0,t0;function Qb(){return e0||(e0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Yb(){return t0||(t0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Yx=new WeakMap,gp=new WeakMap,Xx=new WeakMap,Uf=new WeakMap,um=new WeakMap;function Xb(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(qi(n.result)),o()},u=()=>{r(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&Yx.set(t,n)}).catch(()=>{}),um.set(e,n),e}function Jb(n){if(gp.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});gp.set(n,e)}let yp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return gp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Xx.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return qi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Zb(n){yp=n(yp)}function eP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Ff(this),e,...t);return Xx.set(r,e.sort?e.sort():[e]),qi(r)}:Yb().includes(n)?function(...e){return n.apply(Ff(this),e),qi(Yx.get(this))}:function(...e){return qi(n.apply(Ff(this),e))}}function tP(n){return typeof n=="function"?eP(n):(n instanceof IDBTransaction&&Jb(n),Kb(n,Qb())?new Proxy(n,yp):n)}function qi(n){if(n instanceof IDBRequest)return Xb(n);if(Uf.has(n))return Uf.get(n);const e=tP(n);return e!==n&&(Uf.set(n,e),um.set(e,n)),e}const Ff=n=>um.get(n);function Jx(n,e,{blocked:t,upgrade:r,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),h=qi(u);return r&&u.addEventListener("upgradeneeded",p=>{r(qi(u.result),p.oldVersion,p.newVersion,qi(u.transaction),p)}),t&&u.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),h.then(p=>{a&&p.addEventListener("close",()=>a()),o&&p.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const nP=["get","getKey","getAll","getAllKeys","count"],rP=["put","add","delete","clear"],Bf=new Map;function n0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Bf.get(e))return Bf.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=rP.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||nP.includes(t)))return;const a=async function(u,...h){const p=this.transaction(u,o?"readwrite":"readonly");let m=p.store;return r&&(m=m.index(h.shift())),(await Promise.all([m[t](...h),o&&p.done]))[0]};return Bf.set(e,a),a}Zb(n=>({...n,get:(e,t,r)=>n0(e,t)||n.get(e,t,r),has:(e,t)=>!!n0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(sP(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function sP(n){const e=n.getComponent();return e?.type==="VERSION"}const vp="@firebase/app",r0="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni=new Vh("@firebase/app"),oP="@firebase/app-compat",aP="@firebase/analytics-compat",lP="@firebase/analytics",uP="@firebase/app-check-compat",cP="@firebase/app-check",hP="@firebase/auth",dP="@firebase/auth-compat",fP="@firebase/database",pP="@firebase/data-connect",mP="@firebase/database-compat",gP="@firebase/functions",yP="@firebase/functions-compat",vP="@firebase/installations",wP="@firebase/installations-compat",xP="@firebase/messaging",_P="@firebase/messaging-compat",EP="@firebase/performance",TP="@firebase/performance-compat",SP="@firebase/remote-config",IP="@firebase/remote-config-compat",bP="@firebase/storage",PP="@firebase/storage-compat",AP="@firebase/firestore",kP="@firebase/vertexai-preview",CP="@firebase/firestore-compat",NP="firebase",RP="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp="[DEFAULT]",jP={[vp]:"fire-core",[oP]:"fire-core-compat",[lP]:"fire-analytics",[aP]:"fire-analytics-compat",[cP]:"fire-app-check",[uP]:"fire-app-check-compat",[hP]:"fire-auth",[dP]:"fire-auth-compat",[fP]:"fire-rtdb",[pP]:"fire-data-connect",[mP]:"fire-rtdb-compat",[gP]:"fire-fn",[yP]:"fire-fn-compat",[vP]:"fire-iid",[wP]:"fire-iid-compat",[xP]:"fire-fcm",[_P]:"fire-fcm-compat",[EP]:"fire-perf",[TP]:"fire-perf-compat",[SP]:"fire-rc",[IP]:"fire-rc-compat",[bP]:"fire-gcs",[PP]:"fire-gcs-compat",[AP]:"fire-fst",[CP]:"fire-fst-compat",[kP]:"fire-vertex","fire-js":"fire-js",[NP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=new Map,DP=new Map,xp=new Map;function i0(n,e){try{n.container.addComponent(e)}catch(t){ni.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Pr(n){const e=n.name;if(xp.has(e))return ni.debug(`There were multiple attempts to register component ${e}.`),!1;xp.set(e,n);for(const t of ah.values())i0(t,n);for(const t of DP.values())i0(t,n);return!0}function to(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function nr(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gi=new eo("app","Firebase",VP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new sr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia=RP;function Zx(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:wp,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw Gi.create("bad-app-name",{appName:String(o)});if(t||(t=Wx()),!t)throw Gi.create("no-options");const a=ah.get(o);if(a){if(ql(t,a.options)&&ql(r,a.config))return a;throw Gi.create("duplicate-app",{appName:o})}const u=new $b(o);for(const p of xp.values())u.addComponent(p);const h=new LP(t,r,u);return ah.set(o,h),h}function cm(n=wp){const e=ah.get(n);if(!e&&n===wp&&Wx())return Zx();if(!e)throw Gi.create("no-app",{appName:n});return e}function On(n,e,t){var r;let o=(r=jP[n])!==null&&r!==void 0?r:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const h=[`Unable to register library "${o}" with version "${e}":`];a&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ni.warn(h.join(" "));return}Pr(new sr(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP="firebase-heartbeat-database",MP=1,Gl="firebase-heartbeat-store";let zf=null;function e_(){return zf||(zf=Jx(OP,MP,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Gl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Gi.create("idb-open",{originalErrorMessage:n.message})})),zf}async function UP(n){try{const t=(await e_()).transaction(Gl),r=await t.objectStore(Gl).get(t_(n));return await t.done,r}catch(e){if(e instanceof lr)ni.warn(e.message);else{const t=Gi.create("idb-get",{originalErrorMessage:e?.message});ni.warn(t.message)}}}async function s0(n,e){try{const r=(await e_()).transaction(Gl,"readwrite");await r.objectStore(Gl).put(e,t_(n)),await r.done}catch(t){if(t instanceof lr)ni.warn(t.message);else{const r=Gi.create("idb-set",{originalErrorMessage:t?.message});ni.warn(r.message)}}}function t_(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP=1024,BP=720*60*60*1e3;class zP{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new HP(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=o0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const h=new Date(u.date).valueOf();return Date.now()-h<=BP}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ni.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=o0(),{heartbeatsToSend:r,unsentEntries:o}=$P(this._heartbeatsCache.heartbeats),a=oh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ni.warn(t),""}}}function o0(){return new Date().toISOString().substring(0,10)}function $P(n,e=FP){const t=[];let r=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),a0(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),a0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class HP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Kx()?Qx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await UP(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return s0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return s0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function a0(n){return oh(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WP(n){Pr(new sr("platform-logger",e=>new iP(e),"PRIVATE")),Pr(new sr("heartbeat",e=>new zP(e),"PRIVATE")),On(vp,r0,n),On(vp,r0,"esm2017"),On("fire-js","")}WP("");function hm(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t}function n_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qP=n_,r_=new eo("auth","Firebase",n_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=new Vh("@firebase/auth");function GP(n,...e){lh.logLevel<=Me.WARN&&lh.warn(`Auth (${Ia}): ${n}`,...e)}function Qc(n,...e){lh.logLevel<=Me.ERROR&&lh.error(`Auth (${Ia}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(n,...e){throw dm(n,...e)}function _r(n,...e){return dm(n,...e)}function i_(n,e,t){const r=Object.assign(Object.assign({},qP()),{[e]:t});return new eo("auth","Firebase",r).create(e,{appName:n.name})}function Er(n){return i_(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dm(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return r_.create(n,...e)}function Se(n,e,...t){if(!n)throw dm(e,...t)}function Qr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Qc(e),new Error(e)}function ri(n,e){n||Qr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function KP(){return l0()==="http:"||l0()==="https:"}function l0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KP()||Gx()||"connection"in navigator)?navigator.onLine:!0}function YP(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,t){this.shortDelay=e,this.longDelay=t,ri(t>e,"Short delay should be less than long delay!"),this.isMobile=Eb()||Ib()}get(){return QP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(n,e){ri(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP=new lu(3e4,6e4);function rs(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Cr(n,e,t,r,o={}){return o_(n,o,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const h=au(Object.assign({key:n.config.apiKey},u)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:p},a);return Sb()||(m.referrerPolicy="no-referrer"),s_.fetch()(a_(n,n.config.apiHost,t,h),m)})}async function o_(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},XP),e);try{const o=new eA(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Mc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const h=a.ok?u.errorMessage:u.error.message,[p,m]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mc(n,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw Mc(n,"email-already-in-use",u);if(p==="USER_DISABLED")throw Mc(n,"user-disabled",u);const w=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw i_(n,w,m);or(n,w)}}catch(o){if(o instanceof lr)throw o;or(n,"network-request-failed",{message:String(o)})}}async function uu(n,e,t,r,o={}){const a=await Cr(n,e,t,r,o);return"mfaPendingCredential"in a&&or(n,"multi-factor-auth-required",{_serverResponse:a}),a}function a_(n,e,t,r){const o=`${e}${t}?${r}`;return n.config.emulator?fm(n.config,o):`${n.config.apiScheme}://${o}`}function ZP(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class eA{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(_r(this.auth,"network-request-failed")),JP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=_r(n,e,r);return o.customData._tokenResponse=t,o}function u0(n){return n!==void 0&&n.enterprise!==void 0}class tA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ZP(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function nA(n,e){return Cr(n,"GET","/v2/recaptchaConfig",rs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rA(n,e){return Cr(n,"POST","/v1/accounts:delete",e)}async function l_(n,e){return Cr(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function iA(n,e=!1){const t=At(n),r=await t.getIdToken(e),o=pm(r);Se(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a?.sign_in_provider;return{claims:o,token:r,authTime:Dl($f(o.auth_time)),issuedAtTime:Dl($f(o.iat)),expirationTime:Dl($f(o.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function $f(n){return Number(n)*1e3}function pm(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Qc("JWT malformed, contained fewer than 3 sections"),null;try{const o=$x(t);return o?JSON.parse(o):(Qc("Failed to decode base64 JWT payload"),null)}catch(o){return Qc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function c0(n){const e=pm(n);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ws(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof lr&&sA(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function sA({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dl(this.lastLoginAt),this.creationTime=Dl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uh(n){var e;const t=n.auth,r=await n.getIdToken(),o=await Ws(n,l_(t,{idToken:r}));Se(o?.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?u_(a.providerUserInfo):[],h=lA(n.providerData,u),p=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!h?.length,w=p?m:!1,x={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new Ep(a.createdAt,a.lastLoginAt),isAnonymous:w};Object.assign(n,x)}async function aA(n){const e=At(n);await uh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lA(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function u_(n){return n.map(e=>{var{providerId:t}=e,r=hm(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uA(n,e){const t=await o_(n,{},async()=>{const r=au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=a_(n,o,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",s_.fetch()(u,{method:"POST",headers:h,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function cA(n,e){return Cr(n,"POST","/v2/accounts:revokeToken",rs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):c0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const t=c0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:a}=await uA(e,t);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:a}=t,u=new ua;return r&&(Se(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(Se(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(Se(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ua,this.toJSON())}_performRefresh(){return Qr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(n,e){Se(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Yr{constructor(e){var{uid:t,auth:r,stsTokenManager:o}=e,a=hm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new oA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Ep(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Ws(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return iA(this,e)}reload(){return aA(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Yr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await uh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(nr(this.auth.app))return Promise.reject(Er(this.auth));const e=await this.getIdToken();return await Ws(this,rA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,o,a,u,h,p,m,w;const x=(r=t.displayName)!==null&&r!==void 0?r:void 0,E=(o=t.email)!==null&&o!==void 0?o:void 0,I=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,D=(u=t.photoURL)!==null&&u!==void 0?u:void 0,k=(h=t.tenantId)!==null&&h!==void 0?h:void 0,A=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,z=(m=t.createdAt)!==null&&m!==void 0?m:void 0,G=(w=t.lastLoginAt)!==null&&w!==void 0?w:void 0,{uid:O,emailVerified:Y,isAnonymous:Z,providerData:se,stsTokenManager:R}=t;Se(O&&R,e,"internal-error");const b=ua.fromJSON(this.name,R);Se(typeof O=="string",e,"internal-error"),Di(x,e.name),Di(E,e.name),Se(typeof Y=="boolean",e,"internal-error"),Se(typeof Z=="boolean",e,"internal-error"),Di(I,e.name),Di(D,e.name),Di(k,e.name),Di(A,e.name),Di(z,e.name),Di(G,e.name);const P=new Yr({uid:O,auth:e,email:E,emailVerified:Y,displayName:x,isAnonymous:Z,photoURL:D,phoneNumber:I,tenantId:k,stsTokenManager:b,createdAt:z,lastLoginAt:G});return se&&Array.isArray(se)&&(P.providerData=se.map(V=>Object.assign({},V))),A&&(P._redirectEventId=A),P}static async _fromIdTokenResponse(e,t,r=!1){const o=new ua;o.updateFromServerResponse(t);const a=new Yr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await uh(a),a}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];Se(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?u_(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!a?.length,h=new ua;h.updateFromIdToken(r);const p=new Yr({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:u}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Ep(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!a?.length};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0=new Map;function Xr(n){ri(n instanceof Function,"Expected a class definition");let e=h0.get(n);return e?(ri(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,h0.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}c_.type="NONE";const d0=c_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(n,e,t){return`firebase:${n}:${e}:${t}`}class ca{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=Yc(this.userKey,o.apiKey,a),this.fullPersistenceKey=Yc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Yr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new ca(Xr(d0),e,r);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||Xr(d0);const u=Yc(r,e.config.apiKey,e.name);let h=null;for(const m of t)try{const w=await m._get(u);if(w){const x=Yr._fromJSON(e,w);m!==a&&(h=x),a=m;break}}catch{}const p=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!p.length?new ca(a,e,r):(a=p[0],h&&await a._set(u,h.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new ca(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(p_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(h_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(g_(e))return"Blackberry";if(y_(e))return"Webos";if(d_(e))return"Safari";if((e.includes("chrome/")||f_(e))&&!e.includes("edge/"))return"Chrome";if(m_(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function h_(n=Xt()){return/firefox\//i.test(n)}function d_(n=Xt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function f_(n=Xt()){return/crios\//i.test(n)}function p_(n=Xt()){return/iemobile/i.test(n)}function m_(n=Xt()){return/android/i.test(n)}function g_(n=Xt()){return/blackberry/i.test(n)}function y_(n=Xt()){return/webos/i.test(n)}function mm(n=Xt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function hA(n=Xt()){var e;return mm(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function dA(){return bb()&&document.documentMode===10}function v_(n=Xt()){return mm(n)||m_(n)||y_(n)||g_(n)||/windows phone/i.test(n)||p_(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(n,e=[]){let t;switch(n){case"Browser":t=f0(Xt());break;case"Worker":t=`${f0(Xt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ia}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,h)=>{try{const p=e(a);u(p)}catch(p){h(p)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pA(n,e={}){return Cr(n,"GET","/v2/passwordPolicy",rs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA=6;class gA{constructor(e){var t,r,o,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:mA,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,o,a,u,h;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(r=p.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(a=p.containsUppercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(u=p.containsNumericCharacter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),p}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new p0(this),this.idTokenSubscription=new p0(this),this.beforeStateQueue=new fA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=r_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Xr(t)),this._initializationPromise=this.queue(async()=>{var r,o;if(!this._deleted&&(this.persistenceManager=await ca.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await l_(this,{idToken:e}),r=await Yr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(nr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=o?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===h)&&p?.user&&(o=p.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await uh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=YP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(nr(this.app))return Promise.reject(Er(this));const t=e?At(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return nr(this.app)?Promise.reject(Er(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return nr(this.app)?Promise.reject(Er(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pA(this),t=new gA(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new eo("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await cA(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Xr(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await ca.create(this,[Xr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(h,this,"internal-error"),h.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,r,o);return()=>{u=!0,p()}}else{const p=e.addObserver(t);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=w_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&GP(`Error while retrieving App Check token: ${t.error}`),t?.token}}function no(n){return At(n)}class p0{constructor(e){this.auth=e,this.observer=null,this.addObserver=jb(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vA(n){Lh=n}function x_(n){return Lh.loadJS(n)}function wA(){return Lh.recaptchaEnterpriseScript}function xA(){return Lh.gapiScript}function _A(n){return`__${n}${Math.floor(Math.random()*1e6)}`}const EA="recaptcha-enterprise",TA="NO_RECAPTCHA";class SA{constructor(e){this.type=EA,this.auth=no(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,h)=>{nA(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new tA(p);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,u(m.siteKey)}}).catch(p=>{h(p)})})}function o(a,u,h){const p=window.grecaptcha;u0(p)?p.enterprise.ready(()=>{p.enterprise.execute(a,{action:e}).then(m=>{u(m)}).catch(()=>{u(TA)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{r(this.auth).then(h=>{if(!t&&u0(window.grecaptcha))o(h,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=wA();p.length!==0&&(p+=h),x_(p).then(()=>{o(h,a,u)}).catch(m=>{u(m)})}}).catch(h=>{u(h)})})}}async function m0(n,e,t,r=!1){const o=new SA(n);let a;try{a=await o.verify(t)}catch{a=await o.verify(t,!0)}const u=Object.assign({},e);return r?Object.assign(u,{captchaResp:a}):Object.assign(u,{captchaResponse:a}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Tp(n,e,t,r){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await m0(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await m0(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(n,e){const t=to(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(ql(a,e??{}))return o;or(o,"already-initialized")}return t.initialize({options:e})}function bA(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Xr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function PA(n,e,t){const r=no(n);Se(r._canInitEmulator,r,"emulator-config-failed"),Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=__(e),{host:u,port:h}=AA(e),p=h===null?"":`:${h}`;r.config.emulator={url:`${a}//${u}${p}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})}),kA()}function __(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function AA(n){const e=__(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:g0(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:g0(u)}}}function g0(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function kA(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Qr("not implemented")}_getIdTokenResponse(e){return Qr("not implemented")}_linkToIdToken(e,t){return Qr("not implemented")}_getReauthenticationResolver(e){return Qr("not implemented")}}async function CA(n,e){return Cr(n,"POST","/v1/accounts:update",e)}async function NA(n,e){return Cr(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RA(n,e){return uu(n,"POST","/v1/accounts:signInWithPassword",rs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jA(n,e){return uu(n,"POST","/v1/accounts:signInWithEmailLink",rs(n,e))}async function DA(n,e){return uu(n,"POST","/v1/accounts:signInWithEmailLink",rs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl extends gm{constructor(e,t,r,o=null){super("password",r),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Kl(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Kl(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Tp(e,t,"signInWithPassword",RA);case"emailLink":return jA(e,{email:this._email,oobCode:this._password});default:or(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Tp(e,r,"signUpPassword",NA);case"emailLink":return DA(e,{idToken:t,email:this._email,oobCode:this._password});default:or(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ha(n,e){return uu(n,"POST","/v1/accounts:signInWithIdp",rs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA="http://localhost";class qs extends gm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new qs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):or("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=t,a=hm(t,["providerId","signInMethod"]);if(!r||!o)return null;const u=new qs(r,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return ha(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ha(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ha(e,t)}buildRequest(){const e={requestUri:VA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=au(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function OA(n){const e=Al(kl(n)).link,t=e?Al(kl(e)).deep_link_id:null,r=Al(kl(n)).deep_link_id;return(r?Al(kl(r)).link:null)||r||t||e||n}class ym{constructor(e){var t,r,o,a,u,h;const p=Al(kl(e)),m=(t=p.apiKey)!==null&&t!==void 0?t:null,w=(r=p.oobCode)!==null&&r!==void 0?r:null,x=LA((o=p.mode)!==null&&o!==void 0?o:null);Se(m&&w&&x,"argument-error"),this.apiKey=m,this.operation=x,this.code=w,this.continueUrl=(a=p.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=p.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(h=p.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=OA(e);try{return new ym(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(){this.providerId=Yi.PROVIDER_ID}static credential(e,t){return Kl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=ym.parseLink(t);return Se(r,"argument-error"),Kl._fromEmailAndCode(e,r.code,r.tenantId)}}Yi.PROVIDER_ID="password";Yi.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Yi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu extends E_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends cu{constructor(){super("facebook.com")}static credential(e){return qs._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oi.credential(e.oauthAccessToken)}catch{return null}}}Oi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Oi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends cu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return qs._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Mi.credential(t,r)}catch{return null}}}Mi.GOOGLE_SIGN_IN_METHOD="google.com";Mi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends cu{constructor(){super("github.com")}static credential(e){return qs._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ui.credential(e.oauthAccessToken)}catch{return null}}}Ui.GITHUB_SIGN_IN_METHOD="github.com";Ui.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends cu{constructor(){super("twitter.com")}static credential(e,t){return qs._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Fi.credential(t,r)}catch{return null}}}Fi.TWITTER_SIGN_IN_METHOD="twitter.com";Fi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MA(n,e){return uu(n,"POST","/v1/accounts:signUp",rs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const a=await Yr._fromIdTokenResponse(e,r,o),u=y0(r);return new Gs({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=y0(r);return new Gs({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function y0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch extends lr{constructor(e,t,r,o){var a;super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,ch.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new ch(e,t,r,o)}}function T_(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?ch._fromErrorAndOperation(n,a,e,r):a})}async function UA(n,e,t=!1){const r=await Ws(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Gs._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S_(n,e,t=!1){const{auth:r}=n;if(nr(r.app))return Promise.reject(Er(r));const o="reauthenticate";try{const a=await Ws(n,T_(r,o,e,n),t);Se(a.idToken,r,"internal-error");const u=pm(a.idToken);Se(u,r,"internal-error");const{sub:h}=u;return Se(n.uid===h,r,"user-mismatch"),Gs._forOperation(n,o,a)}catch(a){throw a?.code==="auth/user-not-found"&&or(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I_(n,e,t=!1){if(nr(n.app))return Promise.reject(Er(n));const r="signIn",o=await T_(n,r,e),a=await Gs._fromIdTokenResponse(n,r,o);return t||await n._updateCurrentUser(a.user),a}async function FA(n,e){return I_(no(n),e)}async function v0(n,e){return S_(At(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b_(n){const e=no(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function BA(n,e,t){if(nr(n.app))return Promise.reject(Er(n));const r=no(n),u=await Tp(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",MA).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&b_(n),p}),h=await Gs._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function zA(n,e,t){return nr(n.app)?Promise.reject(Er(n)):FA(At(n),Yi.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&b_(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $A(n,e){return Cr(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sp(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=At(n),a={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await Ws(r,$A(r.auth,a));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const h=r.providerData.find(({providerId:p})=>p==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function HA(n,e){const t=At(n);return nr(t.auth.app)?Promise.reject(Er(t.auth)):P_(t,e,null)}function WA(n,e){return P_(At(n),null,e)}async function P_(n,e,t){const{auth:r}=n,a={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(a.email=e),t&&(a.password=t);const u=await Ws(n,CA(r,a));await n._updateTokensIfNecessary(u,!0)}function qA(n,e,t,r){return At(n).onIdTokenChanged(e,t,r)}function GA(n,e,t){return At(n).beforeAuthStateChanged(e,t)}function KA(n,e,t,r){return At(n).onAuthStateChanged(e,t,r)}function QA(n){return At(n).signOut()}const hh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(hh,"1"),this.storage.removeItem(hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA=1e3,XA=10;class k_ extends A_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=v_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,p)=>{this.notifyListeners(u,p)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);dA()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,XA):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},YA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}k_.type="LOCAL";const JA=k_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_ extends A_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}C_.type="SESSION";const N_=C_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new Oh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const h=Array.from(u).map(async m=>m(t.origin,a)),p=await ZA(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Oh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((h,p)=>{const m=vm("",20);o.port1.start();const w=setTimeout(()=>{p(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(x){const E=x;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(w),a=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(E.data.response);break;default:clearTimeout(w),clearTimeout(a),p(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(){return window}function tk(n){Tr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(){return typeof Tr().WorkerGlobalScope<"u"&&typeof Tr().importScripts=="function"}async function nk(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rk(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function ik(){return R_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_="firebaseLocalStorageDb",sk=1,dh="firebaseLocalStorage",D_="fbase_key";class hu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Mh(n,e){return n.transaction([dh],e?"readwrite":"readonly").objectStore(dh)}function ok(){const n=indexedDB.deleteDatabase(j_);return new hu(n).toPromise()}function Ip(){const n=indexedDB.open(j_,sk);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(dh,{keyPath:D_})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(dh)?e(r):(r.close(),await ok(),e(await Ip()))})})}async function w0(n,e,t){const r=Mh(n,!0).put({[D_]:e,value:t});return new hu(r).toPromise()}async function ak(n,e){const t=Mh(n,!1).get(e),r=await new hu(t).toPromise();return r===void 0?null:r.value}function x0(n,e){const t=Mh(n,!0).delete(e);return new hu(t).toPromise()}const lk=800,uk=3;class V_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ip(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>uk)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return R_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Oh._getInstance(ik()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await nk(),!this.activeServiceWorker)return;this.sender=new ek(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ip();return await w0(e,hh,"1"),await x0(e,hh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>w0(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>ak(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>x0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Mh(o,!1).getAll();return new hu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}V_.type="LOCAL";const ck=V_;new lu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(n,e){return e?Xr(e):(Se(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm extends gm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ha(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ha(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ha(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function dk(n){return I_(n.auth,new wm(n),n.bypassAuthState)}function fk(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),S_(t,new wm(n),n.bypassAuthState)}async function pk(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),UA(t,new wm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e,t,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:a,error:u,type:h}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dk;case"linkViaPopup":case"linkViaRedirect":return pk;case"reauthViaPopup":case"reauthViaRedirect":return fk;default:or(this.auth,"internal-error")}}resolve(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk=new lu(2e3,1e4);class na extends L_{constructor(e,t,r,o,a){super(e,t,o,a),this.provider=r,this.authWindow=null,this.pollId=null,na.currentPopupAction&&na.currentPopupAction.cancel(),na.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){ri(this.filter.length===1,"Popup operations only handle one event");const e=vm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(_r(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_r(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,na.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_r(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mk.get())};e()}}na.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk="pendingRedirect",Xc=new Map;class yk extends L_{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Xc.get(this.auth._key());if(!e){try{const r=await vk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Xc.set(this.auth._key(),e)}return this.bypassAuthState||Xc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vk(n,e){const t=_k(e),r=xk(n);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function wk(n,e){Xc.set(n._key(),e)}function xk(n){return Xr(n._redirectPersistence)}function _k(n){return Yc(gk,n.config.apiKey,n.name)}async function Ek(n,e,t=!1){if(nr(n.app))return Promise.reject(Er(n));const r=no(n),o=hk(r,e),u=await new yk(r,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk=600*1e3;class Sk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Ik(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!O_(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(_r(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Tk&&this.cachedEventUids.clear(),this.cachedEventUids.has(_0(e))}saveEventToCache(e){this.cachedEventUids.add(_0(e)),this.lastProcessedEventTime=Date.now()}}function _0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function O_({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function Ik(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return O_(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bk(n,e={}){return Cr(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ak=/^https?/;async function kk(n){if(n.config.emulator)return;const{authorizedDomains:e}=await bk(n);for(const t of e)try{if(Ck(t))return}catch{}or(n,"unauthorized-domain")}function Ck(n){const e=_p(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!Ak.test(t))return!1;if(Pk.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk=new lu(3e4,6e4);function E0(){const n=Tr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Rk(n){return new Promise((e,t)=>{var r,o,a;function u(){E0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{E0(),t(_r(n,"network-request-failed"))},timeout:Nk.get()})}if(!((o=(r=Tr().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=Tr().gapi)===null||a===void 0)&&a.load)u();else{const h=_A("iframefcb");return Tr()[h]=()=>{gapi.load?u():t(_r(n,"network-request-failed"))},x_(`${xA()}?onload=${h}`).catch(p=>t(p))}}).catch(e=>{throw Jc=null,e})}let Jc=null;function jk(n){return Jc=Jc||Rk(n),Jc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk=new lu(5e3,15e3),Vk="__/auth/iframe",Lk="emulator/auth/iframe",Ok={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Mk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Uk(n){const e=n.config;Se(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?fm(e,Lk):`https://${n.config.authDomain}/${Vk}`,r={apiKey:e.apiKey,appName:n.name,v:Ia},o=Mk.get(n.config.apiHost);o&&(r.eid=o);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${au(r).slice(1)}`}async function Fk(n){const e=await jk(n),t=Tr().gapi;return Se(t,n,"internal-error"),e.open({where:document.body,url:Uk(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ok,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const u=_r(n,"network-request-failed"),h=Tr().setTimeout(()=>{a(u)},Dk.get());function p(){Tr().clearTimeout(h),o(r)}r.ping(p).then(p,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zk=500,$k=600,Hk="_blank",Wk="http://localhost";class T0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qk(n,e,t,r=zk,o=$k){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const p=Object.assign(Object.assign({},Bk),{width:r.toString(),height:o.toString(),top:a,left:u}),m=Xt().toLowerCase();t&&(h=f_(m)?Hk:t),h_(m)&&(e=e||Wk,p.scrollbars="yes");const w=Object.entries(p).reduce((E,[I,D])=>`${E}${I}=${D},`,"");if(hA(m)&&h!=="_self")return Gk(e||"",h),new T0(null);const x=window.open(e||"",h,w);Se(x,n,"popup-blocked");try{x.focus()}catch{}return new T0(x)}function Gk(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk="__/auth/handler",Qk="emulator/auth/handler",Yk=encodeURIComponent("fac");async function S0(n,e,t,r,o,a){Se(n.config.authDomain,n,"auth-domain-config-required"),Se(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ia,eventId:o};if(e instanceof E_){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",Rb(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,x]of Object.entries({}))u[w]=x}if(e instanceof cu){const w=e.getScopes().filter(x=>x!=="");w.length>0&&(u.scopes=w.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const w of Object.keys(h))h[w]===void 0&&delete h[w];const p=await n._getAppCheckToken(),m=p?`#${Yk}=${encodeURIComponent(p)}`:"";return`${Xk(n)}?${au(h).slice(1)}${m}`}function Xk({config:n}){return n.emulator?fm(n,Qk):`https://${n.authDomain}/${Kk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hf="webStorageSupport";class Jk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=N_,this._completeRedirectFn=Ek,this._overrideRedirectResult=wk}async _openPopup(e,t,r,o){var a;ri((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await S0(e,t,r,_p(),o);return qk(e,u,vm())}async _openRedirect(e,t,r,o){await this._originValidation(e);const a=await S0(e,t,r,_p(),o);return tk(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(ri(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await Fk(e),r=new Sk(e);return t.register("authEvent",o=>(Se(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Hf,{type:Hf},o=>{var a;const u=(a=o?.[0])===null||a===void 0?void 0:a[Hf];u!==void 0&&t(!!u),or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=kk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return v_()||d_()||mm()}}const Zk=Jk;var I0="@firebase/auth",b0="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nC(n){Pr(new sr("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Se(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:w_(n)},m=new yA(r,o,a,p);return bA(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Pr(new sr("auth-internal",e=>{const t=no(e.getProvider("auth").getImmediate());return(r=>new eC(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),On(I0,b0,tC(n)),On(I0,b0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=300,iC=qx("authIdTokenMaxAge")||rC;let P0=null;const sC=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>iC)return;const o=t?.token;P0!==o&&(P0=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function oC(n=cm()){const e=to(n,"auth");if(e.isInitialized())return e.getImmediate();const t=IA(n,{popupRedirectResolver:Zk,persistence:[ck,JA,N_]}),r=qx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=sC(a.toString());GA(t,u,()=>u(t.currentUser)),qA(t,h=>u(h))}}const o=Hx("auth");return o&&PA(t,`http://${o}`),t}function aC(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}vA({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const a=_r("internal-error");a.customData=o,t(a)},r.type="text/javascript",r.charset="UTF-8",aC().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nC("Browser");var A0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zs,M_;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,b){function P(){}P.prototype=b.prototype,R.D=b.prototype,R.prototype=new P,R.prototype.constructor=R,R.C=function(V,U,B){for(var N=Array(arguments.length-2),be=2;be<arguments.length;be++)N[be-2]=arguments[be];return b.prototype[U].apply(V,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,b,P){P||(P=0);var V=Array(16);if(typeof b=="string")for(var U=0;16>U;++U)V[U]=b.charCodeAt(P++)|b.charCodeAt(P++)<<8|b.charCodeAt(P++)<<16|b.charCodeAt(P++)<<24;else for(U=0;16>U;++U)V[U]=b[P++]|b[P++]<<8|b[P++]<<16|b[P++]<<24;b=R.g[0],P=R.g[1],U=R.g[2];var B=R.g[3],N=b+(B^P&(U^B))+V[0]+3614090360&4294967295;b=P+(N<<7&4294967295|N>>>25),N=B+(U^b&(P^U))+V[1]+3905402710&4294967295,B=b+(N<<12&4294967295|N>>>20),N=U+(P^B&(b^P))+V[2]+606105819&4294967295,U=B+(N<<17&4294967295|N>>>15),N=P+(b^U&(B^b))+V[3]+3250441966&4294967295,P=U+(N<<22&4294967295|N>>>10),N=b+(B^P&(U^B))+V[4]+4118548399&4294967295,b=P+(N<<7&4294967295|N>>>25),N=B+(U^b&(P^U))+V[5]+1200080426&4294967295,B=b+(N<<12&4294967295|N>>>20),N=U+(P^B&(b^P))+V[6]+2821735955&4294967295,U=B+(N<<17&4294967295|N>>>15),N=P+(b^U&(B^b))+V[7]+4249261313&4294967295,P=U+(N<<22&4294967295|N>>>10),N=b+(B^P&(U^B))+V[8]+1770035416&4294967295,b=P+(N<<7&4294967295|N>>>25),N=B+(U^b&(P^U))+V[9]+2336552879&4294967295,B=b+(N<<12&4294967295|N>>>20),N=U+(P^B&(b^P))+V[10]+4294925233&4294967295,U=B+(N<<17&4294967295|N>>>15),N=P+(b^U&(B^b))+V[11]+2304563134&4294967295,P=U+(N<<22&4294967295|N>>>10),N=b+(B^P&(U^B))+V[12]+1804603682&4294967295,b=P+(N<<7&4294967295|N>>>25),N=B+(U^b&(P^U))+V[13]+4254626195&4294967295,B=b+(N<<12&4294967295|N>>>20),N=U+(P^B&(b^P))+V[14]+2792965006&4294967295,U=B+(N<<17&4294967295|N>>>15),N=P+(b^U&(B^b))+V[15]+1236535329&4294967295,P=U+(N<<22&4294967295|N>>>10),N=b+(U^B&(P^U))+V[1]+4129170786&4294967295,b=P+(N<<5&4294967295|N>>>27),N=B+(P^U&(b^P))+V[6]+3225465664&4294967295,B=b+(N<<9&4294967295|N>>>23),N=U+(b^P&(B^b))+V[11]+643717713&4294967295,U=B+(N<<14&4294967295|N>>>18),N=P+(B^b&(U^B))+V[0]+3921069994&4294967295,P=U+(N<<20&4294967295|N>>>12),N=b+(U^B&(P^U))+V[5]+3593408605&4294967295,b=P+(N<<5&4294967295|N>>>27),N=B+(P^U&(b^P))+V[10]+38016083&4294967295,B=b+(N<<9&4294967295|N>>>23),N=U+(b^P&(B^b))+V[15]+3634488961&4294967295,U=B+(N<<14&4294967295|N>>>18),N=P+(B^b&(U^B))+V[4]+3889429448&4294967295,P=U+(N<<20&4294967295|N>>>12),N=b+(U^B&(P^U))+V[9]+568446438&4294967295,b=P+(N<<5&4294967295|N>>>27),N=B+(P^U&(b^P))+V[14]+3275163606&4294967295,B=b+(N<<9&4294967295|N>>>23),N=U+(b^P&(B^b))+V[3]+4107603335&4294967295,U=B+(N<<14&4294967295|N>>>18),N=P+(B^b&(U^B))+V[8]+1163531501&4294967295,P=U+(N<<20&4294967295|N>>>12),N=b+(U^B&(P^U))+V[13]+2850285829&4294967295,b=P+(N<<5&4294967295|N>>>27),N=B+(P^U&(b^P))+V[2]+4243563512&4294967295,B=b+(N<<9&4294967295|N>>>23),N=U+(b^P&(B^b))+V[7]+1735328473&4294967295,U=B+(N<<14&4294967295|N>>>18),N=P+(B^b&(U^B))+V[12]+2368359562&4294967295,P=U+(N<<20&4294967295|N>>>12),N=b+(P^U^B)+V[5]+4294588738&4294967295,b=P+(N<<4&4294967295|N>>>28),N=B+(b^P^U)+V[8]+2272392833&4294967295,B=b+(N<<11&4294967295|N>>>21),N=U+(B^b^P)+V[11]+1839030562&4294967295,U=B+(N<<16&4294967295|N>>>16),N=P+(U^B^b)+V[14]+4259657740&4294967295,P=U+(N<<23&4294967295|N>>>9),N=b+(P^U^B)+V[1]+2763975236&4294967295,b=P+(N<<4&4294967295|N>>>28),N=B+(b^P^U)+V[4]+1272893353&4294967295,B=b+(N<<11&4294967295|N>>>21),N=U+(B^b^P)+V[7]+4139469664&4294967295,U=B+(N<<16&4294967295|N>>>16),N=P+(U^B^b)+V[10]+3200236656&4294967295,P=U+(N<<23&4294967295|N>>>9),N=b+(P^U^B)+V[13]+681279174&4294967295,b=P+(N<<4&4294967295|N>>>28),N=B+(b^P^U)+V[0]+3936430074&4294967295,B=b+(N<<11&4294967295|N>>>21),N=U+(B^b^P)+V[3]+3572445317&4294967295,U=B+(N<<16&4294967295|N>>>16),N=P+(U^B^b)+V[6]+76029189&4294967295,P=U+(N<<23&4294967295|N>>>9),N=b+(P^U^B)+V[9]+3654602809&4294967295,b=P+(N<<4&4294967295|N>>>28),N=B+(b^P^U)+V[12]+3873151461&4294967295,B=b+(N<<11&4294967295|N>>>21),N=U+(B^b^P)+V[15]+530742520&4294967295,U=B+(N<<16&4294967295|N>>>16),N=P+(U^B^b)+V[2]+3299628645&4294967295,P=U+(N<<23&4294967295|N>>>9),N=b+(U^(P|~B))+V[0]+4096336452&4294967295,b=P+(N<<6&4294967295|N>>>26),N=B+(P^(b|~U))+V[7]+1126891415&4294967295,B=b+(N<<10&4294967295|N>>>22),N=U+(b^(B|~P))+V[14]+2878612391&4294967295,U=B+(N<<15&4294967295|N>>>17),N=P+(B^(U|~b))+V[5]+4237533241&4294967295,P=U+(N<<21&4294967295|N>>>11),N=b+(U^(P|~B))+V[12]+1700485571&4294967295,b=P+(N<<6&4294967295|N>>>26),N=B+(P^(b|~U))+V[3]+2399980690&4294967295,B=b+(N<<10&4294967295|N>>>22),N=U+(b^(B|~P))+V[10]+4293915773&4294967295,U=B+(N<<15&4294967295|N>>>17),N=P+(B^(U|~b))+V[1]+2240044497&4294967295,P=U+(N<<21&4294967295|N>>>11),N=b+(U^(P|~B))+V[8]+1873313359&4294967295,b=P+(N<<6&4294967295|N>>>26),N=B+(P^(b|~U))+V[15]+4264355552&4294967295,B=b+(N<<10&4294967295|N>>>22),N=U+(b^(B|~P))+V[6]+2734768916&4294967295,U=B+(N<<15&4294967295|N>>>17),N=P+(B^(U|~b))+V[13]+1309151649&4294967295,P=U+(N<<21&4294967295|N>>>11),N=b+(U^(P|~B))+V[4]+4149444226&4294967295,b=P+(N<<6&4294967295|N>>>26),N=B+(P^(b|~U))+V[11]+3174756917&4294967295,B=b+(N<<10&4294967295|N>>>22),N=U+(b^(B|~P))+V[2]+718787259&4294967295,U=B+(N<<15&4294967295|N>>>17),N=P+(B^(U|~b))+V[9]+3951481745&4294967295,R.g[0]=R.g[0]+b&4294967295,R.g[1]=R.g[1]+(U+(N<<21&4294967295|N>>>11))&4294967295,R.g[2]=R.g[2]+U&4294967295,R.g[3]=R.g[3]+B&4294967295}r.prototype.u=function(R,b){b===void 0&&(b=R.length);for(var P=b-this.blockSize,V=this.B,U=this.h,B=0;B<b;){if(U==0)for(;B<=P;)o(this,R,B),B+=this.blockSize;if(typeof R=="string"){for(;B<b;)if(V[U++]=R.charCodeAt(B++),U==this.blockSize){o(this,V),U=0;break}}else for(;B<b;)if(V[U++]=R[B++],U==this.blockSize){o(this,V),U=0;break}}this.h=U,this.o+=b},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var b=1;b<R.length-8;++b)R[b]=0;var P=8*this.o;for(b=R.length-8;b<R.length;++b)R[b]=P&255,P/=256;for(this.u(R),R=Array(16),b=P=0;4>b;++b)for(var V=0;32>V;V+=8)R[P++]=this.g[b]>>>V&255;return R};function a(R,b){var P=h;return Object.prototype.hasOwnProperty.call(P,R)?P[R]:P[R]=b(R)}function u(R,b){this.h=b;for(var P=[],V=!0,U=R.length-1;0<=U;U--){var B=R[U]|0;V&&B==b||(P[U]=B,V=!1)}this.g=P}var h={};function p(R){return-128<=R&&128>R?a(R,function(b){return new u([b|0],0>b?-1:0)}):new u([R|0],0>R?-1:0)}function m(R){if(isNaN(R)||!isFinite(R))return x;if(0>R)return A(m(-R));for(var b=[],P=1,V=0;R>=P;V++)b[V]=R/P|0,P*=4294967296;return new u(b,0)}function w(R,b){if(R.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(R.charAt(0)=="-")return A(w(R.substring(1),b));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=m(Math.pow(b,8)),V=x,U=0;U<R.length;U+=8){var B=Math.min(8,R.length-U),N=parseInt(R.substring(U,U+B),b);8>B?(B=m(Math.pow(b,B)),V=V.j(B).add(m(N))):(V=V.j(P),V=V.add(m(N)))}return V}var x=p(0),E=p(1),I=p(16777216);n=u.prototype,n.m=function(){if(k(this))return-A(this).m();for(var R=0,b=1,P=0;P<this.g.length;P++){var V=this.i(P);R+=(0<=V?V:4294967296+V)*b,b*=4294967296}return R},n.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(D(this))return"0";if(k(this))return"-"+A(this).toString(R);for(var b=m(Math.pow(R,6)),P=this,V="";;){var U=Y(P,b).g;P=z(P,U.j(b));var B=((0<P.g.length?P.g[0]:P.h)>>>0).toString(R);if(P=U,D(P))return B+V;for(;6>B.length;)B="0"+B;V=B+V}},n.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function D(R){if(R.h!=0)return!1;for(var b=0;b<R.g.length;b++)if(R.g[b]!=0)return!1;return!0}function k(R){return R.h==-1}n.l=function(R){return R=z(this,R),k(R)?-1:D(R)?0:1};function A(R){for(var b=R.g.length,P=[],V=0;V<b;V++)P[V]=~R.g[V];return new u(P,~R.h).add(E)}n.abs=function(){return k(this)?A(this):this},n.add=function(R){for(var b=Math.max(this.g.length,R.g.length),P=[],V=0,U=0;U<=b;U++){var B=V+(this.i(U)&65535)+(R.i(U)&65535),N=(B>>>16)+(this.i(U)>>>16)+(R.i(U)>>>16);V=N>>>16,B&=65535,N&=65535,P[U]=N<<16|B}return new u(P,P[P.length-1]&-2147483648?-1:0)};function z(R,b){return R.add(A(b))}n.j=function(R){if(D(this)||D(R))return x;if(k(this))return k(R)?A(this).j(A(R)):A(A(this).j(R));if(k(R))return A(this.j(A(R)));if(0>this.l(I)&&0>R.l(I))return m(this.m()*R.m());for(var b=this.g.length+R.g.length,P=[],V=0;V<2*b;V++)P[V]=0;for(V=0;V<this.g.length;V++)for(var U=0;U<R.g.length;U++){var B=this.i(V)>>>16,N=this.i(V)&65535,be=R.i(U)>>>16,$e=R.i(U)&65535;P[2*V+2*U]+=N*$e,G(P,2*V+2*U),P[2*V+2*U+1]+=B*$e,G(P,2*V+2*U+1),P[2*V+2*U+1]+=N*be,G(P,2*V+2*U+1),P[2*V+2*U+2]+=B*be,G(P,2*V+2*U+2)}for(V=0;V<b;V++)P[V]=P[2*V+1]<<16|P[2*V];for(V=b;V<2*b;V++)P[V]=0;return new u(P,0)};function G(R,b){for(;(R[b]&65535)!=R[b];)R[b+1]+=R[b]>>>16,R[b]&=65535,b++}function O(R,b){this.g=R,this.h=b}function Y(R,b){if(D(b))throw Error("division by zero");if(D(R))return new O(x,x);if(k(R))return b=Y(A(R),b),new O(A(b.g),A(b.h));if(k(b))return b=Y(R,A(b)),new O(A(b.g),b.h);if(30<R.g.length){if(k(R)||k(b))throw Error("slowDivide_ only works with positive integers.");for(var P=E,V=b;0>=V.l(R);)P=Z(P),V=Z(V);var U=se(P,1),B=se(V,1);for(V=se(V,2),P=se(P,2);!D(V);){var N=B.add(V);0>=N.l(R)&&(U=U.add(P),B=N),V=se(V,1),P=se(P,1)}return b=z(R,U.j(b)),new O(U,b)}for(U=x;0<=R.l(b);){for(P=Math.max(1,Math.floor(R.m()/b.m())),V=Math.ceil(Math.log(P)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),B=m(P),N=B.j(b);k(N)||0<N.l(R);)P-=V,B=m(P),N=B.j(b);D(B)&&(B=E),U=U.add(B),R=z(R,N)}return new O(U,R)}n.A=function(R){return Y(this,R).h},n.and=function(R){for(var b=Math.max(this.g.length,R.g.length),P=[],V=0;V<b;V++)P[V]=this.i(V)&R.i(V);return new u(P,this.h&R.h)},n.or=function(R){for(var b=Math.max(this.g.length,R.g.length),P=[],V=0;V<b;V++)P[V]=this.i(V)|R.i(V);return new u(P,this.h|R.h)},n.xor=function(R){for(var b=Math.max(this.g.length,R.g.length),P=[],V=0;V<b;V++)P[V]=this.i(V)^R.i(V);return new u(P,this.h^R.h)};function Z(R){for(var b=R.g.length+1,P=[],V=0;V<b;V++)P[V]=R.i(V)<<1|R.i(V-1)>>>31;return new u(P,R.h)}function se(R,b){var P=b>>5;b%=32;for(var V=R.g.length-P,U=[],B=0;B<V;B++)U[B]=0<b?R.i(B+P)>>>b|R.i(B+P+1)<<32-b:R.i(B+P);return new u(U,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,M_=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=w,zs=u}).apply(typeof A0<"u"?A0:typeof self<"u"?self:typeof window<"u"?window:{});var Uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var U_,Cl,F_,Zc,bp,B_,z_,$_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uc=="object"&&Uc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=t(this);function o(c,y){if(y)e:{var _=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var H=c[S];if(!(H in _))break e;_=_[H]}c=c[c.length-1],S=_[c],y=y(S),y!=S&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function a(c,y){c instanceof String&&(c+="");var _=0,S=!1,H={next:function(){if(!S&&_<c.length){var Q=_++;return{value:y(Q,c[Q]),done:!1}}return S=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(c){return c||function(){return a(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function w(c,y,_){return c.call.apply(c.bind,arguments)}function x(c,y,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,S),c.apply(y,H)}}return function(){return c.apply(y,arguments)}}function E(c,y,_){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:x,E.apply(null,arguments)}function I(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function D(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,H,Q){for(var ue=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)ue[Ke-2]=arguments[Ke];return y.prototype[H].apply(S,ue)}}function k(c){const y=c.length;if(0<y){const _=Array(y);for(let S=0;S<y;S++)_[S]=c[S];return _}return[]}function A(c,y){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const H=c.length||0,Q=S.length||0;c.length=H+Q;for(let ue=0;ue<Q;ue++)c[H+ue]=S[ue]}else c.push(S)}}class z{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function G(c){return/^[\s\xa0]*$/.test(c)}function O(){var c=h.navigator;return c&&(c=c.userAgent)?c:""}function Y(c){return Y[" "](c),c}Y[" "]=function(){};var Z=O().indexOf("Gecko")!=-1&&!(O().toLowerCase().indexOf("webkit")!=-1&&O().indexOf("Edge")==-1)&&!(O().indexOf("Trident")!=-1||O().indexOf("MSIE")!=-1)&&O().indexOf("Edge")==-1;function se(c,y,_){for(const S in c)y.call(_,c[S],S,c)}function R(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function b(c){const y={};for(const _ in c)y[_]=c[_];return y}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,y){let _,S;for(let H=1;H<arguments.length;H++){S=arguments[H];for(_ in S)c[_]=S[_];for(let Q=0;Q<P.length;Q++)_=P[Q],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function U(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function B(c){h.setTimeout(()=>{throw c},0)}function N(){var c=$;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class be{constructor(){this.h=this.g=null}add(y,_){const S=$e.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var $e=new z(()=>new Re,c=>c.reset());class Re{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Ce,oe=!1,$=new be,X=()=>{const c=h.Promise.resolve(void 0);Ce=()=>{c.then(L)}};var L=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(_){B(_)}var y=$e;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}oe=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var le=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};h.addEventListener("test",_,y),h.removeEventListener("test",_,y)}catch{}return c}();function ce(c,y){if(fe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(Z){e:{try{Y(y.nodeName);var H=!0;break e}catch{}H=!1}H||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ve[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ce.aa.h.call(this)}}D(ce,fe);var ve={2:"touch",3:"pen",4:"mouse"};ce.prototype.h=function(){ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var je="closure_listenable_"+(1e6*Math.random()|0),Be=0;function qe(c,y,_,S,H){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=H,this.key=++Be,this.da=this.fa=!1}function st(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Dt(c){this.src=c,this.g={},this.h=0}Dt.prototype.add=function(c,y,_,S,H){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var ue=ui(c,y,S,H);return-1<ue?(y=c[ue],_||(y.fa=!1)):(y=new qe(y,this.src,Q,!!S,H),y.fa=_,c.push(y)),y};function ss(c,y){var _=y.type;if(_ in c.g){var S=c.g[_],H=Array.prototype.indexOf.call(S,y,void 0),Q;(Q=0<=H)&&Array.prototype.splice.call(S,H,1),Q&&(st(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ui(c,y,_,S){for(var H=0;H<c.length;++H){var Q=c[H];if(!Q.da&&Q.listener==y&&Q.capture==!!_&&Q.ha==S)return H}return-1}var os="closure_lm_"+(1e6*Math.random()|0),ao={};function Ca(c,y,_,S,H){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)Ca(c,y[Q],_,S,H);return null}return _=ja(_),c&&c[je]?c.K(y,_,m(S)?!!S.capture:!1,H):Na(c,y,_,!1,S,H)}function Na(c,y,_,S,H,Q){if(!y)throw Error("Invalid event type");var ue=m(H)?!!H.capture:!!H,Ke=uo(c);if(Ke||(c[os]=Ke=new Dt(c)),_=Ke.add(y,_,S,ue,Q),_.proxy)return _;if(S=Eu(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)le||(H=ue),H===void 0&&(H=!1),c.addEventListener(y.toString(),S,H);else if(c.attachEvent)c.attachEvent(jr(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Eu(){function c(_){return y.call(c.src,c.listener,_)}const y=Ra;return c}function lo(c,y,_,S,H){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)lo(c,y[Q],_,S,H);else S=m(S)?!!S.capture:!!S,_=ja(_),c&&c[je]?(c=c.i,y=String(y).toString(),y in c.g&&(Q=c.g[y],_=ui(Q,_,S,H),-1<_&&(st(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete c.g[y],c.h--)))):c&&(c=uo(c))&&(y=c.g[y.toString()],c=-1,y&&(c=ui(y,_,S,H)),(_=-1<c?y[c]:null)&&Rr(_))}function Rr(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[je])ss(y.i,c);else{var _=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(_,S,c.capture):y.detachEvent?y.detachEvent(jr(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=uo(y))?(ss(_,c),_.h==0&&(_.src=null,y[os]=null)):st(c)}}}function jr(c){return c in ao?ao[c]:ao[c]="on"+c}function Ra(c,y){if(c.da)c=!0;else{y=new ce(y,this);var _=c.listener,S=c.ha||c.src;c.fa&&Rr(c),c=_.call(S,y)}return c}function uo(c){return c=c[os],c instanceof Dt?c:null}var co="__closure_events_fn_"+(1e9*Math.random()>>>0);function ja(c){return typeof c=="function"?c:(c[co]||(c[co]=function(y){return c.handleEvent(y)}),c[co])}function _t(){J.call(this),this.i=new Dt(this),this.M=this,this.F=null}D(_t,J),_t.prototype[je]=!0,_t.prototype.removeEventListener=function(c,y,_,S){lo(this,c,y,_,S)};function Et(c,y){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new fe(y,c);else if(y instanceof fe)y.target=y.target||c;else{var H=y;y=new fe(S,c),V(y,H)}if(H=!0,_)for(var Q=_.length-1;0<=Q;Q--){var ue=y.g=_[Q];H=Dr(ue,S,!0,y)&&H}if(ue=y.g=c,H=Dr(ue,S,!0,y)&&H,H=Dr(ue,S,!1,y)&&H,_)for(Q=0;Q<_.length;Q++)ue=y.g=_[Q],H=Dr(ue,S,!1,y)&&H}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],S=0;S<_.length;S++)st(_[S]);delete c.g[y],c.h--}}this.F=null},_t.prototype.K=function(c,y,_,S){return this.i.add(String(c),y,!1,_,S)},_t.prototype.L=function(c,y,_,S){return this.i.add(String(c),y,!0,_,S)};function Dr(c,y,_,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var H=!0,Q=0;Q<y.length;++Q){var ue=y[Q];if(ue&&!ue.da&&ue.capture==_){var Ke=ue.listener,Tt=ue.ha||ue.src;ue.fa&&ss(c.i,ue),H=Ke.call(Tt,S)!==!1&&H}}return H&&!S.defaultPrevented}function Da(c,y,_){if(typeof c=="function")_&&(c=E(c,_));else if(c&&typeof c.handleEvent=="function")c=E(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:h.setTimeout(c,y||0)}function ci(c){c.g=Da(()=>{c.g=null,c.i&&(c.i=!1,ci(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class as extends J{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ci(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ls(c){J.call(this),this.h=c,this.g={}}D(ls,J);var Va=[];function La(c){se(c.g,function(y,_){this.g.hasOwnProperty(_)&&Rr(y)},c),c.g={}}ls.prototype.N=function(){ls.aa.N.call(this),La(this)},ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Oa=h.JSON.stringify,Ma=h.JSON.parse,Ua=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function us(){}us.prototype.h=null;function ho(c){return c.h||(c.h=c.i())}function fo(){}var Sn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ur(){fe.call(this,"d")}D(ur,fe);function po(){fe.call(this,"c")}D(po,fe);var cr={},Fa=null;function cs(){return Fa=Fa||new _t}cr.La="serverreachability";function Ba(c){fe.call(this,cr.La,c)}D(Ba,fe);function Vr(c){const y=cs();Et(y,new Ba(y))}cr.STAT_EVENT="statevent";function za(c,y){fe.call(this,cr.STAT_EVENT,c),this.stat=y}D(za,fe);function dt(c){const y=cs();Et(y,new za(y,c))}cr.Ma="timingevent";function mo(c,y){fe.call(this,cr.Ma,c),this.size=y}D(mo,fe);function Fn(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function hs(){this.g=!0}hs.prototype.xa=function(){this.g=!1};function ds(c,y,_,S,H,Q){c.info(function(){if(c.g)if(Q)for(var ue="",Ke=Q.split("&"),Tt=0;Tt<Ke.length;Tt++){var Ue=Ke[Tt].split("=");if(1<Ue.length){var kt=Ue[0];Ue=Ue[1];var yt=kt.split("_");ue=2<=yt.length&&yt[1]=="type"?ue+(kt+"="+Ue+"&"):ue+(kt+"=redacted&")}}else ue=null;else ue=Q;return"XMLHTTP REQ ("+S+") [attempt "+H+"]: "+y+`
`+_+`
`+ue})}function go(c,y,_,S,H,Q,ue){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+H+"]: "+y+`
`+_+`
`+Q+" "+ue})}function Bn(c,y,_,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+sd(c,_)+(S?" "+S:"")})}function $a(c,y){c.info(function(){return"TIMEOUT: "+y})}hs.prototype.info=function(){};function sd(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var H=S[1];if(Array.isArray(H)&&!(1>H.length)){var Q=H[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ue=1;ue<H.length;ue++)H[ue]=""}}}}return Oa(_)}catch{return y}}var yo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Tu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zn;function fs(){}D(fs,us),fs.prototype.g=function(){return new XMLHttpRequest},fs.prototype.i=function(){return{}},zn=new fs;function $n(c,y,_,S){this.j=c,this.i=y,this.l=_,this.R=S||1,this.U=new ls(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Su}function Su(){this.i=null,this.g="",this.h=!1}var Ha={},vo={};function wo(c,y,_){c.L=1,c.v=mi(gn(y)),c.m=_,c.P=!0,Wa(c,null)}function Wa(c,y){c.F=Date.now(),Je(c),c.A=gn(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),yi(_.i,"t",S),c.C=0,_=c.j.J,c.h=new Su,c.g=zu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new as(E(c.Y,c,c.g),c.O)),y=c.U,_=c.g,S=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(Va[0]=H.toString()),H=Va);for(var Q=0;Q<H.length;Q++){var ue=Ca(_,H[Q],S||y.handleEvent,!1,y.h||y);if(!ue)break;y.g[ue.key]=ue}y=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Vr(),ds(c.i,c.u,c.A,c.l,c.R,c.m)}$n.prototype.ca=function(c){c=c.target;const y=this.M;y&&sn(c)==3?y.j():this.Y(c)},$n.prototype.Y=function(c){try{if(c==this.g)e:{const yt=sn(this.g);var y=this.g.Ba();const Pn=this.g.Z();if(!(3>yt)&&(yt!=3||this.g&&(this.h.h||this.g.oa()||Xa(this.g)))){this.J||yt!=4||y==7||(y==8||0>=Pn?Vr(3):Vr(2)),ps(this);var _=this.g.Z();this.X=_;t:if(Iu(this)){var S=Xa(this.g);c="";var H=S.length,Q=sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){In(this),hi(this);var ue="";break t}this.h.i=new h.TextDecoder}for(y=0;y<H;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(Q&&y==H-1)});S.length=0,this.h.g+=c,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=_==200,go(this.i,this.u,this.A,this.l,this.R,yt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,Tt=this.g;if((Ke=Tt.g?Tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(Ke)){var Ue=Ke;break t}}Ue=null}if(_=Ue)Bn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qa(this,_);else{this.o=!1,this.s=3,dt(12),In(this),hi(this);break e}}if(this.P){_=!0;let vn;for(;!this.J&&this.C<ue.length;)if(vn=od(this,ue),vn==vo){yt==4&&(this.s=4,dt(14),_=!1),Bn(this.i,this.l,null,"[Incomplete Response]");break}else if(vn==Ha){this.s=4,dt(15),Bn(this.i,this.l,ue,"[Invalid Chunk]"),_=!1;break}else Bn(this.i,this.l,vn,null),qa(this,vn);if(Iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yt!=4||ue.length!=0||this.h.h||(this.s=1,dt(16),_=!1),this.o=this.o&&_,!_)Bn(this.i,this.l,ue,"[Invalid Chunked Response]"),In(this),hi(this);else if(0<ue.length&&!this.W){this.W=!0;var kt=this.j;kt.g==this&&kt.ba&&!kt.M&&(kt.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),Za(kt),kt.M=!0,dt(11))}}else Bn(this.i,this.l,ue,null),qa(this,ue);yt==4&&In(this),this.o&&!this.J&&(yt==4?Co(this.j,this):(this.o=!1,Je(this)))}else Io(this.g),_==400&&0<ue.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),In(this),hi(this)}}}catch{}finally{}};function Iu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function od(c,y){var _=c.C,S=y.indexOf(`
`,_);return S==-1?vo:(_=Number(y.substring(_,S)),isNaN(_)?Ha:(S+=1,S+_>y.length?vo:(y=y.slice(S,S+_),c.C=S+_,y)))}$n.prototype.cancel=function(){this.J=!0,In(this)};function Je(c){c.S=Date.now()+c.I,bu(c,c.I)}function bu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Fn(E(c.ba,c),y)}function ps(c){c.B&&(h.clearTimeout(c.B),c.B=null)}$n.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?($a(this.i,this.A),this.L!=2&&(Vr(),dt(17)),In(this),this.s=2,hi(this)):bu(this,this.S-c)};function hi(c){c.j.G==0||c.J||Co(c.j,c)}function In(c){ps(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,La(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function qa(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Jt(_.h,c))){if(!c.K&&Jt(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var H=S;if(H[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ko(_),Kn(_);else break e;Ao(_),dt(18)}}else _.za=H[1],0<_.za-_.T&&37500>H[2]&&_.F&&_.v==0&&!_.C&&(_.C=Fn(E(_.Za,_),6e3));if(1>=Au(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Fr(_,11)}else if((c.K||_.g==c)&&ko(_),!G(y))for(H=_.Da.g.parse(y),y=0;y<H.length;y++){let Ue=H[y];if(_.T=Ue[0],Ue=Ue[1],_.G==2)if(Ue[0]=="c"){_.K=Ue[1],_.ia=Ue[2];const kt=Ue[3];kt!=null&&(_.la=kt,_.j.info("VER="+_.la));const yt=Ue[4];yt!=null&&(_.Aa=yt,_.j.info("SVER="+_.Aa));const Pn=Ue[5];Pn!=null&&typeof Pn=="number"&&0<Pn&&(S=1.5*Pn,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const vn=c.g;if(vn){const _s=vn.g?vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_s){var Q=S.h;Q.g||_s.indexOf("spdy")==-1&&_s.indexOf("quic")==-1&&_s.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Ga(Q,Q.h),Q.h=null))}if(S.D){const Ro=vn.g?vn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ro&&(S.ya=Ro,Ye(S.I,S.D,Ro))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var ue=c;if(S.qa=Bu(S,S.J?S.ia:null,S.W),ue.K){ku(S.h,ue);var Ke=ue,Tt=S.L;Tt&&(Ke.I=Tt),Ke.B&&(ps(Ke),Je(Ke)),S.g=ue}else xs(S);0<_.i.length&&pr(_)}else Ue[0]!="stop"&&Ue[0]!="close"||Fr(_,7);else _.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Fr(_,7):Lt(_):Ue[0]!="noop"&&_.l&&_.l.ta(Ue),_.v=0)}}Vr(4)}catch{}}var Pu=class{constructor(c,y){this.g=c,this.map=y}};function ms(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function mn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Au(c){return c.h?1:c.g?c.g.size:0}function Jt(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ga(c,y){c.g?c.g.add(y):c.h=y}function ku(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}ms.prototype.cancel=function(){if(this.i=Cu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Cu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return k(c.i)}function xo(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,S=0;S<_;S++)y.push(c[S]);return y}y=[],_=0;for(S in c)y[_++]=c[S];return y}function _o(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const S in c)y[_++]=S;return y}}}function di(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=_o(c),S=xo(c),H=S.length,Q=0;Q<H;Q++)y.call(void 0,S[Q],_&&_[Q],c)}var gs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ad(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),H=null;if(0<=S){var Q=c[_].substring(0,S);H=c[_].substring(S+1)}else Q=c[_];y(Q,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Lr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Lr){this.h=c.h,ys(this,c.j),this.o=c.o,this.g=c.g,fi(this,c.s),this.l=c.l;var y=c.i,_=new hr;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),pi(this,_),this.m=c.m}else c&&(y=String(c).match(gs))?(this.h=!1,ys(this,y[1]||"",!0),this.o=Oe(y[2]||""),this.g=Oe(y[3]||"",!0),fi(this,y[4]),this.l=Oe(y[5]||"",!0),pi(this,y[6]||"",!0),this.m=Oe(y[7]||"")):(this.h=!1,this.i=new hr(null,this.h))}Lr.prototype.toString=function(){var c=[],y=this.j;y&&c.push(gi(y,Eo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(gi(y,Eo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(gi(_,_.charAt(0)=="/"?ju:Ru,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",gi(_,Ka)),c.join("")};function gn(c){return new Lr(c)}function ys(c,y,_){c.j=_?Oe(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function fi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function pi(c,y,_){y instanceof hr?(c.i=y,dr(c.i,c.h)):(_||(y=gi(y,Du)),c.i=new hr(y,c.h))}function Ye(c,y,_){c.i.set(y,_)}function mi(c){return Ye(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Oe(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function gi(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Nu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Nu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Eo=/[#\/\?@]/g,Ru=/[#\?:]/g,ju=/[#\?]/g,Du=/[#\?@]/g,Ka=/#/g;function hr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Vt(c){c.g||(c.g=new Map,c.h=0,c.i&&ad(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}n=hr.prototype,n.add=function(c,y){Vt(this),this.i=null,c=bn(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Hn(c,y){Vt(c),y=bn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Wn(c,y){return Vt(c),y=bn(c,y),c.g.has(y)}n.forEach=function(c,y){Vt(this),this.g.forEach(function(_,S){_.forEach(function(H){c.call(y,H,S,this)},this)},this)},n.na=function(){Vt(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let S=0;S<y.length;S++){const H=c[S];for(let Q=0;Q<H.length;Q++)_.push(y[S])}return _},n.V=function(c){Vt(this);let y=[];if(typeof c=="string")Wn(this,c)&&(y=y.concat(this.g.get(bn(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},n.set=function(c,y){return Vt(this),this.i=null,c=bn(this,c),Wn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},n.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function yi(c,y,_){Hn(c,y),0<_.length&&(c.i=null,c.g.set(bn(c,y),k(_)),c.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var S=y[_];const Q=encodeURIComponent(String(S)),ue=this.V(S);for(S=0;S<ue.length;S++){var H=Q;ue[S]!==""&&(H+="="+encodeURIComponent(String(ue[S]))),c.push(H)}}return this.i=c.join("&")};function bn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function dr(c,y){y&&!c.j&&(Vt(c),c.i=null,c.g.forEach(function(_,S){var H=S.toLowerCase();S!=H&&(Hn(this,S),yi(this,H,_))},c)),c.j=y}function ld(c,y){const _=new hs;if(h.Image){const S=new Image;S.onload=I(rn,_,"TestLoadImage: loaded",!0,y,S),S.onerror=I(rn,_,"TestLoadImage: error",!1,y,S),S.onabort=I(rn,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=I(rn,_,"TestLoadImage: timeout",!1,y,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function Vu(c,y){const _=new hs,S=new AbortController,H=setTimeout(()=>{S.abort(),rn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(Q=>{clearTimeout(H),Q.ok?rn(_,"TestPingServer: ok",!0,y):rn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),rn(_,"TestPingServer: error",!1,y)})}function rn(c,y,_,S,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),S(_)}catch{}}function ud(){this.g=new Ua}function Lu(c,y,_){const S=_||"";try{di(c,function(H,Q){let ue=H;m(H)&&(ue=Oa(H)),y.push(S+Q+"="+encodeURIComponent(ue))})}catch(H){throw y.push(S+"type="+encodeURIComponent("_badmap")),H}}function Or(c){this.l=c.Ub||null,this.j=c.eb||!1}D(Or,us),Or.prototype.g=function(){return new vs(this.l,this.j)},Or.prototype.i=function(c){return function(){return c}}({});function vs(c,y){_t.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(vs,_t),n=vs.prototype,n.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Gn(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||h).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qn(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ou(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ou(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?qn(this):Gn(this),this.readyState==3&&Ou(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,qn(this))},n.Qa=function(c){this.g&&(this.response=c,qn(this))},n.ga=function(){this.g&&qn(this)};function qn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Gn(c)}n.setRequestHeader=function(c,y){this.u.append(c,y)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function Gn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(vs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Mr(c){let y="";return se(c,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function vi(c,y,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=Mr(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Ye(c,y,_))}function rt(c){_t.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(rt,_t);var cd=/^https?$/i,Qa=["POST","PUT"];n=rt.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zn.g(),this.v=this.o?ho(this.o):ho(zn),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){ws(this,Q);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var H in S)_.set(H,S[H]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Q of S.keys())_.set(Q,S.get(Q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),H=h.FormData&&c instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Qa,y,void 0))||S||H||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ue]of _)this.g.setRequestHeader(Q,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{So(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){ws(this,Q)}};function ws(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,To(c),yn(c)}function To(c){c.A||(c.A=!0,Et(c,"complete"),Et(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Et(this,"complete"),Et(this,"abort"),yn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yn(this,!0)),rt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ya(this):this.bb())},n.bb=function(){Ya(this)};function Ya(c){if(c.h&&typeof u<"u"&&(!c.v[1]||sn(c)!=4||c.Z()!=2)){if(c.u&&sn(c)==4)Da(c.Ea,0,c);else if(Et(c,"readystatechange"),sn(c)==4){c.h=!1;try{const ue=c.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var S;if(S=ue===0){var H=String(c.D).match(gs)[1]||null;!H&&h.self&&h.self.location&&(H=h.self.location.protocol.slice(0,-1)),S=!cd.test(H?H.toLowerCase():"")}_=S}if(_)Et(c,"complete"),Et(c,"success");else{c.m=6;try{var Q=2<sn(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",To(c)}}finally{yn(c)}}}}function yn(c,y){if(c.g){So(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Et(c,"ready");try{_.onreadystatechange=S}catch{}}}function So(c){c.I&&(h.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function sn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<sn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Ma(y)}};function Xa(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Io(c){const y={};c=(c.g&&2<=sn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(G(c[S]))continue;var _=U(c[S]);const H=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=y[H]||[];y[H]=Q,Q.push(_)}R(y,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fr(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Ja(c){this.Aa=0,this.i=[],this.j=new hs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fr("baseRetryDelayMs",5e3,c),this.cb=fr("retryDelaySeedMs",1e4,c),this.Wa=fr("forwardChannelMaxRetries",2,c),this.wa=fr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ms(c&&c.concurrentRequestLimit),this.Da=new ud,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ja.prototype,n.la=8,n.G=1,n.connect=function(c,y,_,S){dt(0),this.W=c,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Bu(this,null,this.W),pr(this)};function Lt(c){if(bo(c),c.G==3){var y=c.U++,_=gn(c.I);if(Ye(_,"SID",c.K),Ye(_,"RID",y),Ye(_,"TYPE","terminate"),Ur(c,_),y=new $n(c,c.j,y),y.L=2,y.v=mi(gn(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&h.Image&&(new Image().src=y.v,_=!0),_||(y.g=zu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Je(y)}Fu(c)}function Kn(c){c.g&&(Za(c),c.g.cancel(),c.g=null)}function bo(c){Kn(c),c.u&&(h.clearTimeout(c.u),c.u=null),ko(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&h.clearTimeout(c.s),c.s=null)}function pr(c){if(!mn(c.h)&&!c.s){c.s=!0;var y=c.Ga;Ce||X(),oe||(Ce(),oe=!0),$.add(y,c),c.B=0}}function hd(c,y){return Au(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Fn(E(c.Ga,c,y),Uu(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new $n(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=b(Q),V(Q,this.S)):Q=this.S),this.m!==null||this.O||(H.H=Q,Q=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=wi(this,H,y),_=gn(this.I),Ye(_,"RID",c),Ye(_,"CVER",22),this.D&&Ye(_,"X-HTTP-Session-Id",this.D),Ur(this,_),Q&&(this.O?y="headers="+encodeURIComponent(String(Mr(Q)))+"&"+y:this.m&&vi(_,this.m,Q)),Ga(this.h,H),this.Ua&&Ye(_,"TYPE","init"),this.P?(Ye(_,"$req",y),Ye(_,"SID","null"),H.T=!0,wo(H,_,null)):wo(H,_,y),this.G=2}}else this.G==3&&(c?Po(this,c):this.i.length==0||mn(this.h)||Po(this))};function Po(c,y){var _;y?_=y.l:_=c.U++;const S=gn(c.I);Ye(S,"SID",c.K),Ye(S,"RID",_),Ye(S,"AID",c.T),Ur(c,S),c.m&&c.o&&vi(S,c.m,c.o),_=new $n(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=wi(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ga(c.h,_),wo(_,S,y)}function Ur(c,y){c.H&&se(c.H,function(_,S){Ye(y,S,_)}),c.l&&di({},function(_,S){Ye(y,S,_)})}function wi(c,y,_){_=Math.min(c.i.length,_);var S=c.l?E(c.l.Na,c.l,c):null;e:{var H=c.i;let Q=-1;for(;;){const ue=["count="+_];Q==-1?0<_?(Q=H[0].g,ue.push("ofs="+Q)):Q=0:ue.push("ofs="+Q);let Ke=!0;for(let Tt=0;Tt<_;Tt++){let Ue=H[Tt].g;const kt=H[Tt].map;if(Ue-=Q,0>Ue)Q=Math.max(0,H[Tt].g-100),Ke=!1;else try{Lu(kt,ue,"req"+Ue+"_")}catch{S&&S(kt)}}if(Ke){S=ue.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,S}function xs(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;Ce||X(),oe||(Ce(),oe=!0),$.add(y,c),c.v=0}}function Ao(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Fn(E(c.Fa,c),Uu(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Mu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Fn(E(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),Kn(this),Mu(this))};function Za(c){c.A!=null&&(h.clearTimeout(c.A),c.A=null)}function Mu(c){c.g=new $n(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=gn(c.qa);Ye(y,"RID","rpc"),Ye(y,"SID",c.K),Ye(y,"AID",c.T),Ye(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ye(y,"TO",c.ja),Ye(y,"TYPE","xmlhttp"),Ur(c,y),c.m&&c.o&&vi(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=mi(gn(y)),_.m=null,_.P=!0,Wa(_,c)}n.Za=function(){this.C!=null&&(this.C=null,Kn(this),Ao(this),dt(19))};function ko(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Co(c,y){var _=null;if(c.g==y){ko(c),Za(c),c.g=null;var S=2}else if(Jt(c.h,y))_=y.D,ku(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var H=c.B;S=cs(),Et(S,new mo(S,_)),pr(c)}else xs(c);else if(H=y.s,H==3||H==0&&0<y.X||!(S==1&&hd(c,y)||S==2&&Ao(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),H){case 1:Fr(c,5);break;case 4:Fr(c,10);break;case 3:Fr(c,6);break;default:Fr(c,2)}}}function Uu(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Fr(c,y){if(c.j.info("Error code "+y),y==2){var _=E(c.fb,c),S=c.Xa;const H=!S;S=new Lr(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||ys(S,"https"),mi(S),H?ld(S.toString(),_):Vu(S.toString(),_)}else dt(2);c.G=0,c.l&&c.l.sa(y),Fu(c),bo(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function Fu(c){if(c.G=0,c.ka=[],c.l){const y=Cu(c.h);(y.length!=0||c.i.length!=0)&&(A(c.ka,y),A(c.ka,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.ra()}}function Bu(c,y,_){var S=_ instanceof Lr?gn(_):new Lr(_);if(S.g!="")y&&(S.g=y+"."+S.g),fi(S,S.s);else{var H=h.location;S=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;var Q=new Lr(null);S&&ys(Q,S),y&&(Q.g=y),H&&fi(Q,H),_&&(Q.l=_),S=Q}return _=c.D,y=c.ya,_&&y&&Ye(S,_,y),Ye(S,"VER",c.la),Ur(c,S),S}function zu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new rt(new Or({eb:_})):new rt(c.pa),y.Ha(c.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function el(){}n=el.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function No(){}No.prototype.g=function(c,y){return new Zt(c,y)};function Zt(c,y){_t.call(this),this.g=new Ja(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!G(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!G(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new mr(this)}D(Zt,_t),Zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zt.prototype.close=function(){Lt(this.g)},Zt.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Oa(c),c=_);y.i.push(new Pu(y.Ya++,c)),y.G==3&&pr(y)},Zt.prototype.N=function(){this.g.l=null,delete this.j,Lt(this.g),delete this.g,Zt.aa.N.call(this)};function $u(c){ur.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}D($u,ur);function Hu(){po.call(this),this.status=1}D(Hu,po);function mr(c){this.g=c}D(mr,el),mr.prototype.ua=function(){Et(this.g,"a")},mr.prototype.ta=function(c){Et(this.g,new $u(c))},mr.prototype.sa=function(c){Et(this.g,new Hu)},mr.prototype.ra=function(){Et(this.g,"b")},No.prototype.createWebChannel=No.prototype.g,Zt.prototype.send=Zt.prototype.o,Zt.prototype.open=Zt.prototype.m,Zt.prototype.close=Zt.prototype.close,$_=function(){return new No},z_=function(){return cs()},B_=cr,bp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},yo.NO_ERROR=0,yo.TIMEOUT=8,yo.HTTP_ERROR=6,Zc=yo,Tu.COMPLETE="complete",F_=Tu,fo.EventType=Sn,Sn.OPEN="a",Sn.CLOSE="b",Sn.ERROR="c",Sn.MESSAGE="d",_t.prototype.listen=_t.prototype.K,Cl=fo,rt.prototype.listenOnce=rt.prototype.L,rt.prototype.getLastError=rt.prototype.Ka,rt.prototype.getLastErrorCode=rt.prototype.Ba,rt.prototype.getStatus=rt.prototype.Z,rt.prototype.getResponseJson=rt.prototype.Oa,rt.prototype.getResponseText=rt.prototype.oa,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Ha,U_=rt}).apply(typeof Uc<"u"?Uc:typeof self<"u"?self:typeof window<"u"?window:{});const k0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Qt.UNAUTHENTICATED=new Qt(null),Qt.GOOGLE_CREDENTIALS=new Qt("google-credentials-uid"),Qt.FIRST_PARTY=new Qt("first-party-uid"),Qt.MOCK_USER=new Qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ba="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=new Vh("@firebase/firestore");function Il(){return Ks.logLevel}function ge(n,...e){if(Ks.logLevel<=Me.DEBUG){const t=e.map(xm);Ks.debug(`Firestore (${ba}): ${n}`,...t)}}function ii(n,...e){if(Ks.logLevel<=Me.ERROR){const t=e.map(xm);Ks.error(`Firestore (${ba}): ${n}`,...t)}}function pa(n,...e){if(Ks.logLevel<=Me.WARN){const t=e.map(xm);Ks.warn(`Firestore (${ba}): ${n}`,...t)}}function xm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(n="Unexpected state"){const e=`FIRESTORE (${ba}) INTERNAL ASSERTION FAILED: `+n;throw ii(e),new Error(e)}function Qe(n,e){n||Pe()}function ke(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends lr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Qt.UNAUTHENTICATED))}shutdown(){}}class uC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class cC{constructor(e){this.t=e,this.currentUser=Qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Qe(this.o===void 0);let r=this.i;const o=p=>this.i!==r?(r=this.i,t(p)):Promise.resolve();let a=new Ki;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ki,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const p=a;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},h=p=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(p=>h(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ki)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string"),new H_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string"),new Qt(e)}}class hC{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Qt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class dC{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new hC(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pC{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Qe(this.o===void 0);const r=a=>{a.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,ge("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const o=a=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Qe(typeof t.token=="string"),this.R=t.token,new fC(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=mC(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<t&&(r+=e.charAt(o[a]%e.length))}return r}}function We(n,e){return n<e?-1:n>e?1:0}function ma(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _e(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _e(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new _e(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Pt(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new Pt(0,0))}static max(){return new Ae(new Pt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,t,r){t===void 0?t=0:t>e.length&&Pe(),r===void 0?r=e.length-t:r>e.length-t&&Pe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Ql.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ql?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const a=e.get(o),u=t.get(o);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ht extends Ql{construct(e,t,r){return new ht(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new _e(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new ht(t)}static emptyPath(){return new ht([])}}const gC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends Ql{construct(e,t,r){return new Ft(e,t,r)}static isValidIdentifier(e){return gC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ft(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const a=()=>{if(r.length===0)throw new _e(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new _e(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new _e(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,o+=2}else h==="`"?(u=!u,o++):h!=="."||u?(r+=h,o++):(a(),o++)}if(a(),u)throw new _e(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(t)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(ht.fromString(e))}static fromName(e){return new Ee(ht.fromString(e).popFirst(5))}static empty(){return new Ee(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ht.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new ht(e.slice()))}}function yC(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(r===1e9?new Pt(t+1,0):new Pt(t,r));return new Xi(o,Ee.empty(),e)}function vC(n){return new Xi(n.readTime,n.key,-1)}class Xi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Xi(Ae.min(),Ee.empty(),-1)}static max(){return new Xi(Ae.max(),Ee.empty(),-1)}}function wC(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(n.documentKey,e.documentKey),t!==0?t:We(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _C{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function du(n){if(n.code!==ie.FAILED_PRECONDITION||n.message!==xC)throw n;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,r)=>{t(e)})}static reject(e){return new ne((t,r)=>{r(e)})}static waitFor(e){return new ne((t,r)=>{let o=0,a=0,u=!1;e.forEach(h=>{++o,h.next(()=>{++a,u&&a===o&&t()},p=>r(p))}),u=!0,a===o&&t()})}static or(e){let t=ne.resolve(!1);for(const r of e)t=t.next(o=>o?ne.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,a)=>{r.push(t.call(this,o,a))}),this.waitFor(r)}static mapArray(e,t){return new ne((r,o)=>{const a=e.length,u=new Array(a);let h=0;for(let p=0;p<a;p++){const m=p;t(e[m]).next(w=>{u[m]=w,++h,h===a&&r(u)},w=>o(w))}})}static doWhile(e,t){return new ne((r,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):r()};a()})}}function EC(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function fu(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}_m.oe=-1;function Uh(n){return n==null}function fh(n){return n===0&&1/n==-1/0}function TC(n){return typeof n=="number"&&Number.isInteger(n)&&!fh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Pa(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function q_(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,t){this.comparator=e,this.root=t||Ut.EMPTY}insert(e,t){return new ut(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fc(this.root,e,this.comparator,!0)}}class Fc{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ut{constructor(e,t,r,o,a){this.key=e,this.value=t,this.color=r??Ut.RED,this.left=o??Ut.EMPTY,this.right=a??Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,a){return new Ut(e??this.key,t??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,r),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ut.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pe();const e=this.left.check();if(e!==this.right.check())throw Pe();return e+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe()}get value(){throw Pe()}get color(){throw Pe()}get left(){throw Pe()}get right(){throw Pe()}copy(e,t,r,o,a){return this}insert(e,t,r){return new Ut(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new N0(this.data.getIterator())}getIteratorFrom(e){return new N0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Bt(this.comparator);return t.data=e,t}}class N0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new rr([])}unionWith(e){let t=new Bt(Ft.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new rr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ma(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new G_("Invalid base64 string: "+a):a}}(e);return new zt(t)}static fromUint8Array(e){const t=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new zt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zt.EMPTY_BYTE_STRING=new zt("");const SC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ji(n){if(Qe(!!n),typeof n=="string"){let e=0;const t=SC.exec(n);if(Qe(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pt(n.seconds),nanos:pt(n.nanos)}}function pt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Qs(n){return typeof n=="string"?zt.fromBase64String(n):zt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Tm(n){const e=n.mapValue.fields.__previous_value__;return Em(e)?Tm(e):e}function Yl(n){const e=Ji(n.mapValue.fields.__local_write_time__.timestampValue);return new Pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,t,r,o,a,u,h,p,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=m}}class Xl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Xl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Xl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc={mapValue:{}};function Ys(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Em(n)?4:PC(n)?9007199254740991:bC(n)?10:11:Pe()}function Ar(n,e){if(n===e)return!0;const t=Ys(n);if(t!==Ys(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Yl(n).isEqual(Yl(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=Ji(o.timestampValue),h=Ji(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return Qs(o.bytesValue).isEqual(Qs(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return pt(o.geoPointValue.latitude)===pt(a.geoPointValue.latitude)&&pt(o.geoPointValue.longitude)===pt(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return pt(o.integerValue)===pt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=pt(o.doubleValue),h=pt(a.doubleValue);return u===h?fh(u)===fh(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return ma(n.arrayValue.values||[],e.arrayValue.values||[],Ar);case 10:case 11:return function(o,a){const u=o.mapValue.fields||{},h=a.mapValue.fields||{};if(C0(u)!==C0(h))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(h[p]===void 0||!Ar(u[p],h[p])))return!1;return!0}(n,e);default:return Pe()}}function Jl(n,e){return(n.values||[]).find(t=>Ar(t,e))!==void 0}function ga(n,e){if(n===e)return 0;const t=Ys(n),r=Ys(e);if(t!==r)return We(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return We(n.booleanValue,e.booleanValue);case 2:return function(a,u){const h=pt(a.integerValue||a.doubleValue),p=pt(u.integerValue||u.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1}(n,e);case 3:return R0(n.timestampValue,e.timestampValue);case 4:return R0(Yl(n),Yl(e));case 5:return We(n.stringValue,e.stringValue);case 6:return function(a,u){const h=Qs(a),p=Qs(u);return h.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const h=a.split("/"),p=u.split("/");for(let m=0;m<h.length&&m<p.length;m++){const w=We(h[m],p[m]);if(w!==0)return w}return We(h.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const h=We(pt(a.latitude),pt(u.latitude));return h!==0?h:We(pt(a.longitude),pt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return j0(n.arrayValue,e.arrayValue);case 10:return function(a,u){var h,p,m,w;const x=a.fields||{},E=u.fields||{},I=(h=x.value)===null||h===void 0?void 0:h.arrayValue,D=(p=E.value)===null||p===void 0?void 0:p.arrayValue,k=We(((m=I?.values)===null||m===void 0?void 0:m.length)||0,((w=D?.values)===null||w===void 0?void 0:w.length)||0);return k!==0?k:j0(I,D)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===Bc.mapValue&&u===Bc.mapValue)return 0;if(a===Bc.mapValue)return 1;if(u===Bc.mapValue)return-1;const h=a.fields||{},p=Object.keys(h),m=u.fields||{},w=Object.keys(m);p.sort(),w.sort();for(let x=0;x<p.length&&x<w.length;++x){const E=We(p[x],w[x]);if(E!==0)return E;const I=ga(h[p[x]],m[w[x]]);if(I!==0)return I}return We(p.length,w.length)}(n.mapValue,e.mapValue);default:throw Pe()}}function R0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return We(n,e);const t=Ji(n),r=Ji(e),o=We(t.seconds,r.seconds);return o!==0?o:We(t.nanos,r.nanos)}function j0(n,e){const t=n.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const a=ga(t[o],r[o]);if(a)return a}return We(t.length,r.length)}function ya(n){return Pp(n)}function Pp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ji(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Qs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ee.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",o=!0;for(const a of t.values||[])o?o=!1:r+=",",r+=Pp(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of r)a?a=!1:o+=",",o+=`${u}:${Pp(t.fields[u])}`;return o+"}"}(n.mapValue):Pe()}function Ap(n){return!!n&&"integerValue"in n}function Sm(n){return!!n&&"arrayValue"in n}function D0(n){return!!n&&"nullValue"in n}function V0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function eh(n){return!!n&&"mapValue"in n}function bC(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Vl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Pa(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Vl(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Vl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function PC(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!eh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vl(t)}setAll(e){let t=Ft.emptyPath(),r={},o=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,r,o),r={},o=[],t=h.popLast()}u?r[h.lastSegment()]=Vl(u):o.push(h.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,o)}delete(e){const t=this.field(e.popLast());eh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ar(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];eh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Pa(t,(o,a)=>e[o]=a);for(const o of r)delete e[o]}clone(){return new Ln(Vl(this.value))}}function K_(n){const e=[];return Pa(n.fields,(t,r)=>{const o=new Ft([t]);if(eh(r)){const a=K_(r.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)}),new rr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,t,r,o,a,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Yt(e,0,Ae.min(),Ae.min(),Ae.min(),Ln.empty(),0)}static newFoundDocument(e,t,r,o){return new Yt(e,1,t,Ae.min(),r,o,0)}static newNoDocument(e,t){return new Yt(e,2,t,Ae.min(),Ae.min(),Ln.empty(),0)}static newUnknownDocument(e,t){return new Yt(e,3,t,Ae.min(),Ae.min(),Ln.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,t){this.position=e,this.inclusive=t}}function L0(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?r=Ee.comparator(Ee.fromName(u.referenceValue),t.key):r=ga(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function O0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ar(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,t="asc"){this.field=e,this.dir=t}}function AC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Q_=class{};class bt extends Q_{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new CC(e,t,r):t==="array-contains"?new jC(e,r):t==="in"?new DC(e,r):t==="not-in"?new VC(e,r):t==="array-contains-any"?new LC(e,r):new bt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new NC(e,r):new RC(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ga(t,this.value)):t!==null&&Ys(this.value)===Ys(t)&&this.matchesComparison(ga(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kr extends Q_{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new kr(e,t)}matches(e){return Y_(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Y_(n){return n.op==="and"}function X_(n){return kC(n)&&Y_(n)}function kC(n){for(const e of n.filters)if(e instanceof kr)return!1;return!0}function kp(n){if(n instanceof bt)return n.field.canonicalString()+n.op.toString()+ya(n.value);if(X_(n))return n.filters.map(e=>kp(e)).join(",");{const e=n.filters.map(t=>kp(t)).join(",");return`${n.op}(${e})`}}function J_(n,e){return n instanceof bt?function(r,o){return o instanceof bt&&r.op===o.op&&r.field.isEqual(o.field)&&Ar(r.value,o.value)}(n,e):n instanceof kr?function(r,o){return o instanceof kr&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((a,u,h)=>a&&J_(u,o.filters[h]),!0):!1}(n,e):void Pe()}function Z_(n){return n instanceof bt?function(t){return`${t.field.canonicalString()} ${t.op} ${ya(t.value)}`}(n):n instanceof kr?function(t){return t.op.toString()+" {"+t.getFilters().map(Z_).join(" ,")+"}"}(n):"Filter"}class CC extends bt{constructor(e,t,r){super(e,t,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class NC extends bt{constructor(e,t){super(e,"in",t),this.keys=eE("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class RC extends bt{constructor(e,t){super(e,"not-in",t),this.keys=eE("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function eE(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Ee.fromName(r.referenceValue))}class jC extends bt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Sm(t)&&Jl(t.arrayValue,this.value)}}class DC extends bt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Jl(this.value.arrayValue,t)}}class VC extends bt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Jl(this.value.arrayValue,t)}}class LC extends bt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Sm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Jl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e,t=null,r=[],o=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=u,this.endAt=h,this.ue=null}}function M0(n,e=null,t=[],r=[],o=null,a=null,u=null){return new OC(n,e,t,r,o,a,u)}function Im(n){const e=ke(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>kp(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Uh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ya(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ya(r)).join(",")),e.ue=t}return e.ue}function bm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!AC(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!J_(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!O0(n.startAt,e.startAt)&&O0(n.endAt,e.endAt)}function Cp(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,t=null,r=[],o=[],a=null,u="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function MC(n,e,t,r,o,a,u,h){return new Fh(n,e,t,r,o,a,u,h)}function Pm(n){return new Fh(n)}function U0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function UC(n){return n.collectionGroup!==null}function Ll(n){const e=ke(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Bt(Ft.comparator);return u.filters.forEach(p=>{p.getFlattenedFilters().forEach(m=>{m.isInequality()&&(h=h.add(m.field))})}),h})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new mh(a,r))}),t.has(Ft.keyField().canonicalString())||e.ce.push(new mh(Ft.keyField(),r))}return e.ce}function Sr(n){const e=ke(n);return e.le||(e.le=FC(e,Ll(n))),e.le}function FC(n,e){if(n.limitType==="F")return M0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new mh(o.field,a)});const t=n.endAt?new ph(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ph(n.startAt.position,n.startAt.inclusive):null;return M0(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Np(n,e,t){return new Fh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Bh(n,e){return bm(Sr(n),Sr(e))&&n.limitType===e.limitType}function tE(n){return`${Im(Sr(n))}|lt:${n.limitType}`}function Zo(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(o=>Z_(o)).join(", ")}]`),Uh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>ya(o)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>ya(o)).join(",")),`Target(${r})`}(Sr(n))}; limitType=${n.limitType})`}function zh(n,e){return e.isFoundDocument()&&function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ee.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,o){for(const a of Ll(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(r,o){return!(r.startAt&&!function(u,h,p){const m=L0(u,h,p);return u.inclusive?m<=0:m<0}(r.startAt,Ll(r),o)||r.endAt&&!function(u,h,p){const m=L0(u,h,p);return u.inclusive?m>=0:m>0}(r.endAt,Ll(r),o))}(n,e)}function BC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function nE(n){return(e,t)=>{let r=!1;for(const o of Ll(n)){const a=zC(o,e,t);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function zC(n,e,t){const r=n.field.isKeyField()?Ee.comparator(e.key,t.key):function(a,u,h){const p=u.data.field(a),m=h.data.field(a);return p!==null&&m!==null?ga(p,m):Pe()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Pa(this.inner,(t,r)=>{for(const[o,a]of r)e(o,a)})}isEmpty(){return q_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=new ut(Ee.comparator);function si(){return $C}const rE=new ut(Ee.comparator);function Nl(...n){let e=rE;for(const t of n)e=e.insert(t.key,t);return e}function iE(n){let e=rE;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Us(){return Ol()}function sE(){return Ol()}function Ol(){return new Aa(n=>n.toString(),(n,e)=>n.isEqual(e))}const HC=new ut(Ee.comparator),WC=new Bt(Ee.comparator);function Le(...n){let e=WC;for(const t of n)e=e.add(t);return e}const qC=new Bt(We);function GC(){return qC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fh(e)?"-0":e}}function oE(n){return{integerValue:""+n}}function KC(n,e){return TC(e)?oE(e):Am(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(){this._=void 0}}function QC(n,e,t){return n instanceof gh?function(o,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Em(a)&&(a=Tm(a)),a&&(u.fields.__previous_value__=a),{mapValue:u}}(t,e):n instanceof Zl?lE(n,e):n instanceof eu?uE(n,e):function(o,a){const u=aE(o,a),h=F0(u)+F0(o.Pe);return Ap(u)&&Ap(o.Pe)?oE(h):Am(o.serializer,h)}(n,e)}function YC(n,e,t){return n instanceof Zl?lE(n,e):n instanceof eu?uE(n,e):t}function aE(n,e){return n instanceof yh?function(r){return Ap(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class gh extends $h{}class Zl extends $h{constructor(e){super(),this.elements=e}}function lE(n,e){const t=cE(e);for(const r of n.elements)t.some(o=>Ar(o,r))||t.push(r);return{arrayValue:{values:t}}}class eu extends $h{constructor(e){super(),this.elements=e}}function uE(n,e){let t=cE(e);for(const r of n.elements)t=t.filter(o=>!Ar(o,r));return{arrayValue:{values:t}}}class yh extends $h{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function F0(n){return pt(n.integerValue||n.doubleValue)}function cE(n){return Sm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function XC(n,e){return n.field.isEqual(e.field)&&function(r,o){return r instanceof Zl&&o instanceof Zl||r instanceof eu&&o instanceof eu?ma(r.elements,o.elements,Ar):r instanceof yh&&o instanceof yh?Ar(r.Pe,o.Pe):r instanceof gh&&o instanceof gh}(n.transform,e.transform)}class JC{constructor(e,t){this.version=e,this.transformResults=t}}class Zr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Zr}static exists(e){return new Zr(void 0,e)}static updateTime(e){return new Zr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function th(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Hh{}function hE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new fE(n.key,Zr.none()):new pu(n.key,n.data,Zr.none());{const t=n.data,r=Ln.empty();let o=new Bt(Ft.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),o=o.add(a)}return new ro(n.key,r,new rr(o.toArray()),Zr.none())}}function ZC(n,e,t){n instanceof pu?function(o,a,u){const h=o.value.clone(),p=z0(o.fieldTransforms,a,u.transformResults);h.setAll(p),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof ro?function(o,a,u){if(!th(o.precondition,a))return void a.convertToUnknownDocument(u.version);const h=z0(o.fieldTransforms,a,u.transformResults),p=a.data;p.setAll(dE(o)),p.setAll(h),a.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(n,e,t):function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Ml(n,e,t,r){return n instanceof pu?function(a,u,h,p){if(!th(a.precondition,u))return h;const m=a.value.clone(),w=$0(a.fieldTransforms,p,u);return m.setAll(w),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof ro?function(a,u,h,p){if(!th(a.precondition,u))return h;const m=$0(a.fieldTransforms,p,u),w=u.data;return w.setAll(dE(a)),w.setAll(m),u.convertToFoundDocument(u.version,w).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(x=>x.field))}(n,e,t,r):function(a,u,h){return th(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,e,t)}function eN(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),a=aE(r.transform,o||null);a!=null&&(t===null&&(t=Ln.empty()),t.set(r.field,a))}return t||null}function B0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&ma(r,o,(a,u)=>XC(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class pu extends Hh{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ro extends Hh{constructor(e,t,r,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function dE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function z0(n,e,t){const r=new Map;Qe(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,h=e.data.field(a.field);r.set(a.field,YC(u,h,t[o]))}return r}function $0(n,e,t){const r=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);r.set(o.field,QC(a,u,e))}return r}class fE extends Hh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tN extends Hh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&ZC(a,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ml(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ml(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=sE();return this.mutations.forEach(o=>{const a=e.get(o.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=t.has(o.key)?null:h;const p=hE(u,h);p!==null&&r.set(o.key,p),u.isValidDocument()||u.convertToNoDocument(Ae.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Le())}isEqual(e){return this.batchId===e.batchId&&ma(this.mutations,e.mutations,(t,r)=>B0(t,r))&&ma(this.baseMutations,e.baseMutations,(t,r)=>B0(t,r))}}class km{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Qe(e.mutations.length===r.length);let o=function(){return HC}();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,r[u].version);return new km(e,t,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,Fe;function sN(n){switch(n){default:return Pe();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0}}function pE(n){if(n===void 0)return ii("GRPC error has no .code"),ie.UNKNOWN;switch(n){case wt.OK:return ie.OK;case wt.CANCELLED:return ie.CANCELLED;case wt.UNKNOWN:return ie.UNKNOWN;case wt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case wt.INTERNAL:return ie.INTERNAL;case wt.UNAVAILABLE:return ie.UNAVAILABLE;case wt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case wt.NOT_FOUND:return ie.NOT_FOUND;case wt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case wt.ABORTED:return ie.ABORTED;case wt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case wt.DATA_LOSS:return ie.DATA_LOSS;default:return Pe()}}(Fe=wt||(wt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=new zs([4294967295,4294967295],0);function H0(n){const e=oN().encode(n),t=new M_;return t.update(e),new Uint8Array(t.digest())}function W0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new zs([t,r],0),new zs([o,a],0)]}class Cm{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Rl(`Invalid padding: ${t}`);if(r<0)throw new Rl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Rl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Rl(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=zs.fromNumber(this.Ie)}Ee(e,t,r){let o=e.add(t.multiply(zs.fromNumber(r)));return o.compare(aN)===1&&(o=new zs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=H0(e),[r,o]=W0(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(r,o,a);if(!this.de(u))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Cm(a,o,t);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.Ie===0)return;const t=H0(e),[r,o]=W0(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(r,o,a);this.Ae(u)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Rl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,t,r,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,mu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Wh(Ae.min(),o,new ut(We),si(),Le())}}class mu{constructor(e,t,r,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new mu(r,t,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,t,r,o){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=o}}class mE{constructor(e,t){this.targetId=e,this.me=t}}class gE{constructor(e,t,r=zt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class q0{constructor(){this.fe=0,this.ge=K0(),this.pe=zt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Le(),t=Le(),r=Le();return this.ge.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Pe()}}),new mu(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=K0()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Qe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class lN{constructor(e){this.Le=e,this.Be=new Map,this.ke=si(),this.qe=G0(),this.Qe=new ut(We)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:Pe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,o)=>{this.ze(o)&&t(o)})}He(e){const t=e.targetId,r=e.me.count,o=this.Je(t);if(o){const a=o.target;if(Cp(a))if(r===0){const u=new Ee(a.path);this.Ue(t,u,Yt.newNoDocument(u,Ae.min()))}else Qe(r===1);else{const u=this.Ye(t);if(u!==r){const h=this.Ze(e),p=h?this.Xe(h,e,u):1;if(p!==0){this.je(t);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,m)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=t;let u,h;try{u=Qs(r).toUint8Array()}catch(p){if(p instanceof G_)return pa("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{h=new Cm(u,o,a)}catch(p){return pa(p instanceof Rl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return h.Ie===0?null:h}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let o=0;return r.forEach(a=>{const u=this.Le.tt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.Ue(t,a,null),o++)}),o}rt(e){const t=new Map;this.Be.forEach((a,u)=>{const h=this.Je(u);if(h){if(a.current&&Cp(h.target)){const p=new Ee(h.target.path);this.ke.get(p)!==null||this.it(u,p)||this.Ue(u,p,Yt.newNoDocument(p,e))}a.be&&(t.set(u,a.ve()),a.Ce())}});let r=Le();this.qe.forEach((a,u)=>{let h=!0;u.forEachWhile(p=>{const m=this.Je(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(a))}),this.ke.forEach((a,u)=>u.setReadTime(e));const o=new Wh(e,t,this.Qe,this.ke,r);return this.ke=si(),this.qe=G0(),this.Qe=new ut(We),o}$e(e,t){if(!this.ze(e))return;const r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,t)?o.Fe(t,1):o.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new q0,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Bt(We),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||ge("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new q0),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function G0(){return new ut(Ee.comparator)}function K0(){return new ut(Ee.comparator)}const uN={asc:"ASCENDING",desc:"DESCENDING"},cN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hN={and:"AND",or:"OR"};class dN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Rp(n,e){return n.useProto3Json||Uh(e)?e:{value:e}}function vh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function fN(n,e){return vh(n,e.toTimestamp())}function Ir(n){return Qe(!!n),Ae.fromTimestamp(function(t){const r=Ji(t);return new Pt(r.seconds,r.nanos)}(n))}function Nm(n,e){return jp(n,e).canonicalString()}function jp(n,e){const t=function(o){return new ht(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function vE(n){const e=ht.fromString(n);return Qe(TE(e)),e}function Dp(n,e){return Nm(n.databaseId,e.path)}function Wf(n,e){const t=vE(e);if(t.get(1)!==n.databaseId.projectId)throw new _e(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new _e(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ee(xE(t))}function wE(n,e){return Nm(n.databaseId,e)}function pN(n){const e=vE(n);return e.length===4?ht.emptyPath():xE(e)}function Vp(n){return new ht(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function xE(n){return Qe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Q0(n,e,t){return{name:Dp(n,e),fields:t.value.mapValue.fields}}function mN(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Pe()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(m,w){return m.useProto3Json?(Qe(w===void 0||typeof w=="string"),zt.fromBase64String(w||"")):(Qe(w===void 0||w instanceof Buffer||w instanceof Uint8Array),zt.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(m){const w=m.code===void 0?ie.UNKNOWN:pE(m.code);return new _e(w,m.message||"")}(u);t=new gE(r,o,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Wf(n,r.document.name),a=Ir(r.document.updateTime),u=r.document.createTime?Ir(r.document.createTime):Ae.min(),h=new Ln({mapValue:{fields:r.document.fields}}),p=Yt.newFoundDocument(o,a,u,h),m=r.targetIds||[],w=r.removedTargetIds||[];t=new nh(m,w,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Wf(n,r.document),a=r.readTime?Ir(r.readTime):Ae.min(),u=Yt.newNoDocument(o,a),h=r.removedTargetIds||[];t=new nh([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Wf(n,r.document),a=r.removedTargetIds||[];t=new nh([],a,o,null)}else{if(!("filter"in e))return Pe();{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,u=new iN(o,a),h=r.targetId;t=new mE(h,u)}}return t}function gN(n,e){let t;if(e instanceof pu)t={update:Q0(n,e.key,e.value)};else if(e instanceof fE)t={delete:Dp(n,e.key)};else if(e instanceof ro)t={update:Q0(n,e.key,e.data),updateMask:IN(e.fieldMask)};else{if(!(e instanceof tN))return Pe();t={verify:Dp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const h=u.transform;if(h instanceof gh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Zl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof eu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof yh)return{fieldPath:u.field.canonicalString(),increment:h.Pe};throw Pe()}(0,r))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:fN(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Pe()}(n,e.precondition)),t}function yN(n,e){return n&&n.length>0?(Qe(e!==void 0),n.map(t=>function(o,a){let u=o.updateTime?Ir(o.updateTime):Ir(a);return u.isEqual(Ae.min())&&(u=Ir(a)),new JC(u,o.transformResults||[])}(t,e))):[]}function vN(n,e){return{documents:[wE(n,e.path)]}}function wN(n,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=wE(n,o);const a=function(m){if(m.length!==0)return EE(kr.create(m,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(m){if(m.length!==0)return m.map(w=>function(E){return{field:ea(E.field),direction:EN(E.dir)}}(w))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=Rp(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{_t:t,parent:o}}function xN(n){let e=pN(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Qe(r===1);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let a=[];t.where&&(a=function(x){const E=_E(x);return E instanceof kr&&X_(E)?E.getFilters():[E]}(t.where));let u=[];t.orderBy&&(u=function(x){return x.map(E=>function(D){return new mh(ta(D.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(E))}(t.orderBy));let h=null;t.limit&&(h=function(x){let E;return E=typeof x=="object"?x.value:x,Uh(E)?null:E}(t.limit));let p=null;t.startAt&&(p=function(x){const E=!!x.before,I=x.values||[];return new ph(I,E)}(t.startAt));let m=null;return t.endAt&&(m=function(x){const E=!x.before,I=x.values||[];return new ph(I,E)}(t.endAt)),MC(e,o,u,a,h,"F",p,m)}function _N(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function _E(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=ta(t.unaryFilter.field);return bt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=ta(t.unaryFilter.field);return bt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ta(t.unaryFilter.field);return bt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ta(t.unaryFilter.field);return bt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Pe()}}(n):n.fieldFilter!==void 0?function(t){return bt.create(ta(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pe()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return kr.create(t.compositeFilter.filters.map(r=>_E(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Pe()}}(t.compositeFilter.op))}(n):Pe()}function EN(n){return uN[n]}function TN(n){return cN[n]}function SN(n){return hN[n]}function ea(n){return{fieldPath:n.canonicalString()}}function ta(n){return Ft.fromServerFormat(n.fieldPath)}function EE(n){return n instanceof bt?function(t){if(t.op==="=="){if(V0(t.value))return{unaryFilter:{field:ea(t.field),op:"IS_NAN"}};if(D0(t.value))return{unaryFilter:{field:ea(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(V0(t.value))return{unaryFilter:{field:ea(t.field),op:"IS_NOT_NAN"}};if(D0(t.value))return{unaryFilter:{field:ea(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ea(t.field),op:TN(t.op),value:t.value}}}(n):n instanceof kr?function(t){const r=t.getFilters().map(o=>EE(o));return r.length===1?r[0]:{compositeFilter:{op:SN(t.op),filters:r}}}(n):Pe()}function IN(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function TE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,t,r,o,a=Ae.min(),u=Ae.min(),h=zt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new Hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e){this.ct=e}}function PN(n){const e=xN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Np(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(){this.un=new kN}addToCollectionParentIndex(e,t){return this.un.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(Xi.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(Xi.min())}updateCollectionGroup(e,t,r){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class kN{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Bt(ht.comparator),a=!o.has(r);return this.index[t]=o.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Bt(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new va(0)}static kn(){return new va(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(){this.changes=new Aa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Yt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ne.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(r!==null&&Ml(r.mutation,o,rr.empty(),Pt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Le()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Le()){const o=Us();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(a=>{let u=Nl();return a.forEach((h,p)=>{u=u.insert(h,p.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Us();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Le()))}populateOverlays(e,t,r){const o=[];return r.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,o){let a=si();const u=Ol(),h=function(){return Ol()}();return t.forEach((p,m)=>{const w=r.get(m.key);o.has(m.key)&&(w===void 0||w.mutation instanceof ro)?a=a.insert(m.key,m):w!==void 0?(u.set(m.key,w.mutation.getFieldMask()),Ml(w.mutation,m,w.mutation.getFieldMask(),Pt.now())):u.set(m.key,rr.empty())}),this.recalculateAndSaveOverlays(e,a).next(p=>(p.forEach((m,w)=>u.set(m,w)),t.forEach((m,w)=>{var x;return h.set(m,new NN(w,(x=u.get(m))!==null&&x!==void 0?x:null))}),h))}recalculateAndSaveOverlays(e,t){const r=Ol();let o=new ut((u,h)=>u-h),a=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(p=>{const m=t.get(p);if(m===null)return;let w=r.get(p)||rr.empty();w=h.applyToLocalView(m,w),r.set(p,w);const x=(o.get(h.batchId)||Le()).add(p);o=o.insert(h.batchId,x)})}).next(()=>{const u=[],h=o.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),m=p.key,w=p.value,x=sE();w.forEach(E=>{if(!a.has(E)){const I=hE(t.get(E),r.get(E));I!==null&&x.set(E,I),a=a.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,x))}return ne.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,o){return function(u){return Ee.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):UC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-a.size):ne.resolve(Us());let h=-1,p=a;return u.next(m=>ne.forEach(m,(w,x)=>(h<x.largestBatchId&&(h=x.largestBatchId),a.get(w)?ne.resolve():this.remoteDocumentCache.getEntry(e,w).next(E=>{p=p.insert(w,E)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,p,m,Le())).next(w=>({batchId:h,changes:iE(w)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next(r=>{let o=Nl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const a=t.collectionGroup;let u=Nl();return this.indexManager.getCollectionParents(e,a).next(h=>ne.forEach(h,p=>{const m=function(x,E){return new Fh(E,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)}(t,p.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,o).next(w=>{w.forEach((x,E)=>{u=u.insert(x,E)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,o))).next(u=>{a.forEach((p,m)=>{const w=m.getKey();u.get(w)===null&&(u=u.insert(w,Yt.newInvalidDocument(w)))});let h=Nl();return u.forEach((p,m)=>{const w=a.get(p);w!==void 0&&Ml(w.mutation,m,rr.empty(),Pt.now()),zh(t,m)&&(h=h.insert(p,m))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return ne.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Ir(o.createTime)}}(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(o){return{name:o.name,query:PN(o.bundledQuery),readTime:Ir(o.readTime)}}(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(){this.overlays=new ut(Ee.comparator),this.Ir=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Us();return ne.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&r.set(o,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,a)=>{this.ht(e,t,a)}),ne.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.Ir.get(r);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(r)),ne.resolve()}getOverlaysForCollection(e,t,r){const o=Us(),a=t.length+1,u=new Ee(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const p=h.getNext().value,m=p.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&p.largestBatchId>r&&o.set(p.getKey(),p)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let a=new ut((m,w)=>m-w);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let w=a.get(m.largestBatchId);w===null&&(w=Us(),a=a.insert(m.largestBatchId,w)),w.set(m.getKey(),m)}}const h=Us(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((m,w)=>h.set(m,w)),!(h.size()>=o)););return ne.resolve(h)}ht(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.Ir.get(o.largestBatchId).delete(r.key);this.Ir.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new rN(t,r));let a=this.Ir.get(t);a===void 0&&(a=Le(),this.Ir.set(t,a)),this.Ir.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(){this.sessionToken=zt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(){this.Tr=new Bt(jt.Er),this.dr=new Bt(jt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const r=new jt(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new jt(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){const t=new Ee(new ht([])),r=new jt(t,e),o=new jt(t,e+1),a=[];return this.dr.forEachInRange([r,o],u=>{this.Vr(u),a.push(u.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new Ee(new ht([])),r=new jt(t,e),o=new jt(t,e+1);let a=Le();return this.dr.forEachInRange([r,o],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new jt(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class jt{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Ee.comparator(e.key,t.key)||We(e.wr,t.wr)}static Ar(e,t){return We(e.wr,t.wr)||Ee.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Bt(jt.Er)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new nN(a,t,r,o);this.mutationQueue.push(u);for(const h of o)this.br=this.br.add(new jt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ne.resolve(u)}lookupMutationBatch(e,t){return ne.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.vr(r),a=o<0?0:o;return ne.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new jt(t,0),o=new jt(t,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([r,o],u=>{const h=this.Dr(u.wr);a.push(h)}),ne.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Bt(We);return t.forEach(o=>{const a=new jt(o,0),u=new jt(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,u],h=>{r=r.add(h.wr)})}),ne.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let a=r;Ee.isDocumentKey(a)||(a=a.child(""));const u=new jt(new Ee(a),0);let h=new Bt(We);return this.br.forEachWhile(p=>{const m=p.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(h=h.add(p.wr)),!0)},u),ne.resolve(this.Cr(h))}Cr(e){const t=[];return e.forEach(r=>{const o=this.Dr(r);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Qe(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ne.forEach(t.mutations,o=>{const a=new jt(o.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){const r=new jt(t,0),o=this.br.firstAfterOrEqual(r);return ne.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e){this.Mr=e,this.docs=function(){return new ut(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),a=o?o.size:0,u=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ne.resolve(r?r.document.mutableCopy():Yt.newInvalidDocument(t))}getEntries(e,t){let r=si();return t.forEach(o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():Yt.newInvalidDocument(o))}),ne.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let a=si();const u=t.path,h=new Ee(u.child("")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:m,value:{document:w}}=p.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||wC(vC(w),r)<=0||(o.has(w.key)||zh(t,w))&&(a=a.insert(w.key,w.mutableCopy()))}return ne.resolve(a)}getAllFromCollectionGroup(e,t,r,o){Pe()}Or(e,t){return ne.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new MN(this)}getSize(e){return ne.resolve(this.size)}}class MN extends CN{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.cr.addEntry(e,o)):this.cr.removeEntry(r)}),ne.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e){this.persistence=e,this.Nr=new Aa(t=>Im(t),bm),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Rm,this.targetCount=0,this.kr=va.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,o)=>t(o)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),ne.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new va(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.Kn(t),ne.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,r){let o=0;const a=[];return this.Nr.forEach((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.Nr.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)}),ne.waitFor(a).next(()=>o)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const r=this.Nr.get(t)||null;return ne.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),ne.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(u=>{a.push(o.markPotentiallyOrphaned(e,u))}),ne.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Br.yr(t);return ne.resolve(r)}containsKey(e,t){return ne.resolve(this.Br.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,t){this.qr={},this.overlays={},this.Qr=new _m(0),this.Kr=!1,this.Kr=!0,this.$r=new VN,this.referenceDelegate=e(this),this.Ur=new UN(this),this.indexManager=new AN,this.remoteDocumentCache=function(o){return new ON(o)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new bN(t),this.Gr=new jN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new DN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new LN(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){ge("MemoryPersistence","Starting transaction:",e);const o=new BN(this.Qr.next());return this.referenceDelegate.zr(),r(o).next(a=>this.referenceDelegate.jr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Hr(e,t){return ne.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}}class BN extends _C{constructor(e){super(),this.currentSequenceNumber=e}}class jm{constructor(e){this.persistence=e,this.Jr=new Rm,this.Yr=null}static Zr(e){return new jm(e)}get Xr(){if(this.Yr)return this.Yr;throw Pe()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),ne.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(o=>this.Xr.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.Xr.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.Xr,r=>{const o=Ee.fromPath(r);return this.ei(e,o).next(a=>{a||t.removeEntry(o,Ae.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return ne.or([()=>ne.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=o}static Wi(e,t){let r=Le(),o=Le();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Dm(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Pb()?8:EC(Xt())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,o){const a={result:null};return this.Yi(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.Zi(e,t,o,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new zN;return this.Xi(e,t,u).next(h=>{if(a.result=h,this.zi)return this.es(e,t,u,h.size)})}).next(()=>a.result)}es(e,t,r,o){return r.documentReadCount<this.ji?(Il()<=Me.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Zo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ne.resolve()):(Il()<=Me.DEBUG&&ge("QueryEngine","Query:",Zo(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.Hi*o?(Il()<=Me.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Zo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sr(t))):ne.resolve())}Yi(e,t){if(U0(t))return ne.resolve(null);let r=Sr(t);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Np(t,null,"F"),r=Sr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=Le(...a);return this.Ji.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(p=>{const m=this.ts(t,h);return this.ns(t,m,u,p.readTime)?this.Yi(e,Np(t,null,"F")):this.rs(e,m,t,p)}))})))}Zi(e,t,r,o){return U0(t)||o.isEqual(Ae.min())?ne.resolve(null):this.Ji.getDocuments(e,r).next(a=>{const u=this.ts(t,a);return this.ns(t,u,r,o)?ne.resolve(null):(Il()<=Me.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Zo(t)),this.rs(e,u,t,yC(o,-1)).next(h=>h))})}ts(e,t){let r=new Bt(nE(e));return t.forEach((o,a)=>{zh(e,a)&&(r=r.add(a))}),r}ns(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Xi(e,t,r){return Il()<=Me.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Zo(t)),this.Ji.getDocumentsMatchingQuery(e,t,Xi.min(),r)}rs(e,t,r,o){return this.Ji.getDocumentsMatchingQuery(e,r,o).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,t,r,o){this.persistence=e,this.ss=t,this.serializer=o,this.os=new ut(We),this._s=new Aa(a=>Im(a),bm),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RN(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function WN(n,e,t,r){return new HN(n,e,t,r)}async function SE(n,e){const t=ke(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(a=>(o=a,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],h=[];let p=Le();for(const m of o){u.push(m.batchId);for(const w of m.mutations)p=p.add(w.key)}for(const m of a){h.push(m.batchId);for(const w of m.mutations)p=p.add(w.key)}return t.localDocuments.getDocuments(r,p).next(m=>({hs:m,removedBatchIds:u,addedBatchIds:h}))})})}function qN(n,e){const t=ke(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),a=t.cs.newChangeBuffer({trackRemovals:!0});return function(h,p,m,w){const x=m.batch,E=x.keys();let I=ne.resolve();return E.forEach(D=>{I=I.next(()=>w.getEntry(p,D)).next(k=>{const A=m.docVersions.get(D);Qe(A!==null),k.version.compareTo(A)<0&&(x.applyToRemoteDocument(k,m),k.isValidDocument()&&(k.setReadTime(m.commitVersion),w.addEntry(k)))})}),I.next(()=>h.mutationQueue.removeMutationBatch(p,x))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let p=Le();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(p=p.add(h.batch.mutations[m].key));return p}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function IE(n){const e=ke(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function GN(n,e){const t=ke(n),r=e.snapshotVersion;let o=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.cs.newChangeBuffer({trackRemovals:!0});o=t.os;const h=[];e.targetChanges.forEach((w,x)=>{const E=o.get(x);if(!E)return;h.push(t.Ur.removeMatchingKeys(a,w.removedDocuments,x).next(()=>t.Ur.addMatchingKeys(a,w.addedDocuments,x)));let I=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(x)!==null?I=I.withResumeToken(zt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):w.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(w.resumeToken,r)),o=o.insert(x,I),function(k,A,z){return k.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0}(E,I,w)&&h.push(t.Ur.updateTargetData(a,I))});let p=si(),m=Le();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,w))}),h.push(KN(a,u,e.documentUpdates).next(w=>{p=w.Ps,m=w.Is})),!r.isEqual(Ae.min())){const w=t.Ur.getLastRemoteSnapshotVersion(a).next(x=>t.Ur.setTargetsMetadata(a,a.currentSequenceNumber,r));h.push(w)}return ne.waitFor(h).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,p,m)).next(()=>p)}).then(a=>(t.os=o,a))}function KN(n,e,t){let r=Le(),o=Le();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=si();return t.forEach((h,p)=>{const m=a.get(h);p.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(h)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(h,p.readTime),u=u.insert(h,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),u=u.insert(h,p)):ge("LocalStore","Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",p.version)}),{Ps:u,Is:o}})}function QN(n,e){const t=ke(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function YN(n,e){const t=ke(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Ur.getTargetData(r,e).next(a=>a?(o=a,ne.resolve(o)):t.Ur.allocateTargetId(r).next(u=>(o=new Hi(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.os.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}async function Lp(n,e,t){const r=ke(n),o=r.os.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!fu(u))throw u;ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.os=r.os.remove(e),r._s.delete(o.target)}function Y0(n,e,t){const r=ke(n);let o=Ae.min(),a=Le();return r.persistence.runTransaction("Execute query","readwrite",u=>function(p,m,w){const x=ke(p),E=x._s.get(w);return E!==void 0?ne.resolve(x.os.get(E)):x.Ur.getTargetData(m,w)}(r,u,Sr(e)).next(h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(u,h.targetId).next(p=>{a=p})}).next(()=>r.ss.getDocumentsMatchingQuery(u,e,t?o:Ae.min(),t?a:Le())).next(h=>(XN(r,BC(e),h),{documents:h,Ts:a})))}function XN(n,e,t){let r=n.us.get(e)||Ae.min();t.forEach((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.us.set(e,r)}class X0{constructor(){this.activeTargetIds=GC()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JN{constructor(){this.so=new X0,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new X0,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zc=null;function qf(){return zc===null?zc=function(){return 268435456+Math.round(2147483648*Math.random())}():zc++,"0x"+zc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gt="WebChannelConnection";class n2 extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${o}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${a}`}get Fo(){return!1}Mo(t,r,o,a,u){const h=qf(),p=this.xo(t,r.toUriEncodedString());ge("RestConnection",`Sending RPC '${t}' ${h}:`,p,o);const m={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(m,a,u),this.No(t,p,m,o).then(w=>(ge("RestConnection",`Received RPC '${t}' ${h}: `,w),w),w=>{throw pa("RestConnection",`RPC '${t}' ${h} failed with error: `,w,"url: ",p,"request:",o),w})}Lo(t,r,o,a,u,h){return this.Mo(t,r,o,a,u)}Oo(t,r,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ba}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,u)=>t[u]=a),o&&o.headers.forEach((a,u)=>t[u]=a)}xo(t,r){const o=e2[t];return`${this.Do}/v1/${r}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,o){const a=qf();return new Promise((u,h)=>{const p=new U_;p.setWithCredentials(!0),p.listenOnce(F_.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Zc.NO_ERROR:const w=p.getResponseJson();ge(Gt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(w)),u(w);break;case Zc.TIMEOUT:ge(Gt,`RPC '${e}' ${a} timed out`),h(new _e(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Zc.HTTP_ERROR:const x=p.getStatus();if(ge(Gt,`RPC '${e}' ${a} failed with status:`,x,"response text:",p.getResponseText()),x>0){let E=p.getResponseJson();Array.isArray(E)&&(E=E[0]);const I=E?.error;if(I&&I.status&&I.message){const D=function(A){const z=A.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(z)>=0?z:ie.UNKNOWN}(I.status);h(new _e(D,I.message))}else h(new _e(ie.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new _e(ie.UNAVAILABLE,"Connection failed."));break;default:Pe()}}finally{ge(Gt,`RPC '${e}' ${a} completed.`)}});const m=JSON.stringify(o);ge(Gt,`RPC '${e}' ${a} sending request:`,o),p.send(t,"POST",m,r,15)})}Bo(e,t,r){const o=qf(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=$_(),h=z_(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Oo(p.initMessageHeaders,t,r),p.encodeInitMessageHeaders=!0;const w=a.join("");ge(Gt,`Creating RPC '${e}' stream ${o}: ${w}`,p);const x=u.createWebChannel(w,p);let E=!1,I=!1;const D=new t2({Io:A=>{I?ge(Gt,`Not sending because RPC '${e}' stream ${o} is closed:`,A):(E||(ge(Gt,`Opening RPC '${e}' stream ${o} transport.`),x.open(),E=!0),ge(Gt,`RPC '${e}' stream ${o} sending:`,A),x.send(A))},To:()=>x.close()}),k=(A,z,G)=>{A.listen(z,O=>{try{G(O)}catch(Y){setTimeout(()=>{throw Y},0)}})};return k(x,Cl.EventType.OPEN,()=>{I||(ge(Gt,`RPC '${e}' stream ${o} transport opened.`),D.yo())}),k(x,Cl.EventType.CLOSE,()=>{I||(I=!0,ge(Gt,`RPC '${e}' stream ${o} transport closed`),D.So())}),k(x,Cl.EventType.ERROR,A=>{I||(I=!0,pa(Gt,`RPC '${e}' stream ${o} transport errored:`,A),D.So(new _e(ie.UNAVAILABLE,"The operation could not be completed")))}),k(x,Cl.EventType.MESSAGE,A=>{var z;if(!I){const G=A.data[0];Qe(!!G);const O=G,Y=O.error||((z=O[0])===null||z===void 0?void 0:z.error);if(Y){ge(Gt,`RPC '${e}' stream ${o} received error:`,Y);const Z=Y.status;let se=function(P){const V=wt[P];if(V!==void 0)return pE(V)}(Z),R=Y.message;se===void 0&&(se=ie.INTERNAL,R="Unknown error status: "+Z+" with message "+Y.message),I=!0,D.So(new _e(se,R)),x.close()}else ge(Gt,`RPC '${e}' stream ${o} received:`,G),D.bo(G)}}),k(h,B_.STAT_EVENT,A=>{A.stat===bp.PROXY?ge(Gt,`RPC '${e}' stream ${o} detected buffering proxy`):A.stat===bp.NOPROXY&&ge(Gt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{D.wo()},0),D}}function Gf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(n){return new dN(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e,t,r=1e3,o=1.5,a=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=o,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),o=Math.max(0,t-r);o>0&&ge("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,t,r,o,a,u,h,p){this.ui=e,this.Ho=r,this.Jo=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new bE(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(ii(t.toString()),ii("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Yo===t&&this.P_(r,o)},r=>{e(()=>{const o=new _e(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(o)})})}P_(e,t){const r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(o=>{r(()=>this.I_(o))}),this.stream.onMessage(o=>{r(()=>++this.e_==1?this.E_(o):this.onNext(o))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class r2 extends PE{constructor(e,t,r,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=mN(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ae.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Ae.min():u.readTime?Ir(u.readTime):Ae.min()}(e);return this.listener.d_(t,r)}A_(e){const t={};t.database=Vp(this.serializer),t.addTarget=function(a,u){let h;const p=u.target;if(h=Cp(p)?{documents:vN(a,p)}:{query:wN(a,p)._t},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=yE(a,u.resumeToken);const m=Rp(a,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(Ae.min())>0){h.readTime=vh(a,u.snapshotVersion.toTimestamp());const m=Rp(a,u.expectedCount);m!==null&&(h.expectedCount=m)}return h}(this.serializer,e);const r=_N(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){const t={};t.database=Vp(this.serializer),t.removeTarget=e,this.a_(t)}}class i2 extends PE{constructor(e,t,r,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=yN(e.writeResults,e.commitTime),r=Ir(e.commitTime);return this.listener.g_(r,t)}p_(){const e={};e.database=Vp(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>gN(this.serializer,r))};this.a_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2 extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new _e(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Mo(e,jp(t,r),o,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new _e(ie.UNKNOWN,a.toString())})}Lo(e,t,r,o,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Lo(e,jp(t,r),o,u,h,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new _e(ie.UNKNOWN,u.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class o2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ii(t),this.D_=!1):ge("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e,t,r,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(u=>{r.enqueueAndForget(async()=>{io(this)&&(ge("RemoteStore","Restarting streams for network reachability change."),await async function(p){const m=ke(p);m.L_.add(4),await gu(m),m.q_.set("Unknown"),m.L_.delete(4),await Gh(m)}(this))})}),this.q_=new o2(r,o)}}async function Gh(n){if(io(n))for(const e of n.B_)await e(!0)}async function gu(n){for(const e of n.B_)await e(!1)}function AE(n,e){const t=ke(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),Mm(t)?Om(t):ka(t).r_()&&Lm(t,e))}function Vm(n,e){const t=ke(n),r=ka(t);t.N_.delete(e),r.r_()&&kE(t,e),t.N_.size===0&&(r.r_()?r.o_():io(t)&&t.q_.set("Unknown"))}function Lm(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ka(n).A_(e)}function kE(n,e){n.Q_.xe(e),ka(n).R_(e)}function Om(n){n.Q_=new lN({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),ka(n).start(),n.q_.v_()}function Mm(n){return io(n)&&!ka(n).n_()&&n.N_.size>0}function io(n){return ke(n).L_.size===0}function CE(n){n.Q_=void 0}async function l2(n){n.q_.set("Online")}async function u2(n){n.N_.forEach((e,t)=>{Lm(n,e)})}async function c2(n,e){CE(n),Mm(n)?(n.q_.M_(e),Om(n)):n.q_.set("Unknown")}async function h2(n,e,t){if(n.q_.set("Online"),e instanceof gE&&e.state===2&&e.cause)try{await async function(o,a){const u=a.cause;for(const h of a.targetIds)o.N_.has(h)&&(await o.remoteSyncer.rejectListen(h,u),o.N_.delete(h),o.Q_.removeTarget(h))}(n,e)}catch(r){ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wh(n,r)}else if(e instanceof nh?n.Q_.Ke(e):e instanceof mE?n.Q_.He(e):n.Q_.We(e),!t.isEqual(Ae.min()))try{const r=await IE(n.localStore);t.compareTo(r)>=0&&await function(a,u){const h=a.Q_.rt(u);return h.targetChanges.forEach((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const w=a.N_.get(m);w&&a.N_.set(m,w.withResumeToken(p.resumeToken,u))}}),h.targetMismatches.forEach((p,m)=>{const w=a.N_.get(p);if(!w)return;a.N_.set(p,w.withResumeToken(zt.EMPTY_BYTE_STRING,w.snapshotVersion)),kE(a,p);const x=new Hi(w.target,p,m,w.sequenceNumber);Lm(a,x)}),a.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(r){ge("RemoteStore","Failed to raise snapshot:",r),await wh(n,r)}}async function wh(n,e,t){if(!fu(e))throw e;n.L_.add(1),await gu(n),n.q_.set("Offline"),t||(t=()=>IE(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ge("RemoteStore","Retrying IndexedDB access"),await t(),n.L_.delete(1),await Gh(n)})}function NE(n,e){return e().catch(t=>wh(n,t,e))}async function Kh(n){const e=ke(n),t=Zi(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;d2(e);)try{const o=await QN(e.localStore,r);if(o===null){e.O_.length===0&&t.o_();break}r=o.batchId,f2(e,o)}catch(o){await wh(e,o)}RE(e)&&jE(e)}function d2(n){return io(n)&&n.O_.length<10}function f2(n,e){n.O_.push(e);const t=Zi(n);t.r_()&&t.V_&&t.m_(e.mutations)}function RE(n){return io(n)&&!Zi(n).n_()&&n.O_.length>0}function jE(n){Zi(n).start()}async function p2(n){Zi(n).p_()}async function m2(n){const e=Zi(n);for(const t of n.O_)e.m_(t.mutations)}async function g2(n,e,t){const r=n.O_.shift(),o=km.from(r,e,t);await NE(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Kh(n)}async function y2(n,e){e&&Zi(n).V_&&await async function(r,o){if(function(u){return sN(u)&&u!==ie.ABORTED}(o.code)){const a=r.O_.shift();Zi(r).s_(),await NE(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o)),await Kh(r)}}(n,e),RE(n)&&jE(n)}async function Z0(n,e){const t=ke(n);t.asyncQueue.verifyOperationInProgress(),ge("RemoteStore","RemoteStore received new credentials");const r=io(t);t.L_.add(3),await gu(t),r&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await Gh(t)}async function v2(n,e){const t=ke(n);e?(t.L_.delete(2),await Gh(t)):e||(t.L_.add(2),await gu(t),t.q_.set("Unknown"))}function ka(n){return n.K_||(n.K_=function(t,r,o){const a=ke(t);return a.w_(),new r2(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Eo:l2.bind(null,n),Ro:u2.bind(null,n),mo:c2.bind(null,n),d_:h2.bind(null,n)}),n.B_.push(async e=>{e?(n.K_.s_(),Mm(n)?Om(n):n.q_.set("Unknown")):(await n.K_.stop(),CE(n))})),n.K_}function Zi(n){return n.U_||(n.U_=function(t,r,o){const a=ke(t);return a.w_(),new i2(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:p2.bind(null,n),mo:y2.bind(null,n),f_:m2.bind(null,n),g_:g2.bind(null,n)}),n.B_.push(async e=>{e?(n.U_.s_(),await Kh(n)):(await n.U_.stop(),n.O_.length>0&&(ge("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))})),n.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,t,r,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new Ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,a){const u=Date.now()+r,h=new Um(e,t,u,o,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fm(n,e){if(ii("AsyncQueue",`${e}: ${n}`),fu(n))return new _e(ie.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ee.comparator(t.key,r.key):(t,r)=>Ee.comparator(t.key,r.key),this.keyedMap=Nl(),this.sortedSet=new ut(this.comparator)}static emptySet(e){return new da(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof da)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new da;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(){this.W_=new ut(Ee.comparator)}track(e){const t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Pe():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}}class wa{constructor(e,t,r,o,a,u,h,p,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,o,a){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new wa(e,t,da.emptySet(t),u,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class x2{constructor(){this.queries=tw(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){const o=ke(t),a=o.queries;o.queries=tw(),a.forEach((u,h)=>{for(const p of h.j_)p.onError(r)})})(this,new _e(ie.ABORTED,"Firestore shutting down"))}}function tw(){return new Aa(n=>tE(n),Bh)}async function _2(n,e){const t=ke(n);let r=3;const o=e.query;let a=t.queries.get(o);a?!a.H_()&&e.J_()&&(r=2):(a=new w2,r=e.J_()?0:1);try{switch(r){case 0:a.z_=await t.onListen(o,!0);break;case 1:a.z_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const h=Fm(u,`Initialization of query '${Zo(e.query)}' failed`);return void e.onError(h)}t.queries.set(o,a),a.j_.push(e),e.Z_(t.onlineState),a.z_&&e.X_(a.z_)&&Bm(t)}async function E2(n,e){const t=ke(n),r=e.query;let o=3;const a=t.queries.get(r);if(a){const u=a.j_.indexOf(e);u>=0&&(a.j_.splice(u,1),a.j_.length===0?o=e.J_()?0:1:!a.H_()&&e.J_()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function T2(n,e){const t=ke(n);let r=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const h of u.j_)h.X_(o)&&(r=!0);u.z_=o}}r&&Bm(t)}function S2(n,e,t){const r=ke(n),o=r.queries.get(e);if(o)for(const a of o.j_)a.onError(t);r.queries.delete(e)}function Bm(n){n.Y_.forEach(e=>{e.next()})}var Op,nw;(nw=Op||(Op={})).ea="default",nw.Cache="cache";class I2{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new wa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=wa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Op.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e){this.key=e}}class VE{constructor(e){this.key=e}}class b2{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Le(),this.mutatedKeys=Le(),this.Aa=nE(e),this.Ra=new da(this.Aa)}get Va(){return this.Ta}ma(e,t){const r=t?t.fa:new ew,o=t?t.Ra:this.Ra;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,h=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((w,x)=>{const E=o.get(w),I=zh(this.query,x)?x:null,D=!!E&&this.mutatedKeys.has(E.key),k=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let A=!1;E&&I?E.data.isEqual(I.data)?D!==k&&(r.track({type:3,doc:I}),A=!0):this.ga(E,I)||(r.track({type:2,doc:I}),A=!0,(p&&this.Aa(I,p)>0||m&&this.Aa(I,m)<0)&&(h=!0)):!E&&I?(r.track({type:0,doc:I}),A=!0):E&&!I&&(r.track({type:1,doc:E}),A=!0,(p||m)&&(h=!0)),A&&(I?(u=u.add(I),a=k?a.add(w):a.delete(w)):(u=u.delete(w),a=a.delete(w)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const w=this.query.limitType==="F"?u.last():u.first();u=u.delete(w.key),a=a.delete(w.key),r.track({type:1,doc:w})}return{Ra:u,fa:r,ns:h,mutatedKeys:a}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const u=e.fa.G_();u.sort((w,x)=>function(I,D){const k=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe()}};return k(I)-k(D)}(w.type,x.type)||this.Aa(w.doc,x.doc)),this.pa(r),o=o!=null&&o;const h=t&&!o?this.ya():[],p=this.da.size===0&&this.current&&!o?1:0,m=p!==this.Ea;return this.Ea=p,u.length!==0||m?{snapshot:new wa(this.query,e.Ra,a,u,e.mutatedKeys,p===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:h}:{wa:h}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new ew,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Le(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const t=[];return e.forEach(r=>{this.da.has(r)||t.push(new VE(r))}),this.da.forEach(r=>{e.has(r)||t.push(new DE(r))}),t}ba(e){this.Ta=e.Ts,this.da=Le();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return wa.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class P2{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class A2{constructor(e){this.key=e,this.va=!1}}class k2{constructor(e,t,r,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Ca={},this.Fa=new Aa(h=>tE(h),Bh),this.Ma=new Map,this.xa=new Set,this.Oa=new ut(Ee.comparator),this.Na=new Map,this.La=new Rm,this.Ba={},this.ka=new Map,this.qa=va.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function C2(n,e,t=!0){const r=BE(n);let o;const a=r.Fa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Da()):o=await LE(r,e,t,!0),o}async function N2(n,e){const t=BE(n);await LE(t,e,!0,!1)}async function LE(n,e,t,r){const o=await YN(n.localStore,Sr(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let h;return r&&(h=await R2(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&AE(n.remoteStore,o),h}async function R2(n,e,t,r,o){n.Ka=(x,E,I)=>async function(k,A,z,G){let O=A.view.ma(z);O.ns&&(O=await Y0(k.localStore,A.query,!1).then(({documents:R})=>A.view.ma(R,O)));const Y=G&&G.targetChanges.get(A.targetId),Z=G&&G.targetMismatches.get(A.targetId)!=null,se=A.view.applyChanges(O,k.isPrimaryClient,Y,Z);return iw(k,A.targetId,se.wa),se.snapshot}(n,x,E,I);const a=await Y0(n.localStore,e,!0),u=new b2(e,a.Ts),h=u.ma(a.documents),p=mu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",o),m=u.applyChanges(h,n.isPrimaryClient,p);iw(n,t,m.wa);const w=new P2(e,t,u);return n.Fa.set(e,w),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),m.snapshot}async function j2(n,e,t){const r=ke(n),o=r.Fa.get(e),a=r.Ma.get(o.targetId);if(a.length>1)return r.Ma.set(o.targetId,a.filter(u=>!Bh(u,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Lp(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),t&&Vm(r.remoteStore,o.targetId),Mp(r,o.targetId)}).catch(du)):(Mp(r,o.targetId),await Lp(r.localStore,o.targetId,!0))}async function D2(n,e){const t=ke(n),r=t.Fa.get(e),o=t.Ma.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Vm(t.remoteStore,r.targetId))}async function V2(n,e,t){const r=z2(n);try{const o=await function(u,h){const p=ke(u),m=Pt.now(),w=h.reduce((I,D)=>I.add(D.key),Le());let x,E;return p.persistence.runTransaction("Locally write mutations","readwrite",I=>{let D=si(),k=Le();return p.cs.getEntries(I,w).next(A=>{D=A,D.forEach((z,G)=>{G.isValidDocument()||(k=k.add(z))})}).next(()=>p.localDocuments.getOverlayedDocuments(I,D)).next(A=>{x=A;const z=[];for(const G of h){const O=eN(G,x.get(G.key).overlayedDocument);O!=null&&z.push(new ro(G.key,O,K_(O.value.mapValue),Zr.exists(!0)))}return p.mutationQueue.addMutationBatch(I,m,z,h)}).next(A=>{E=A;const z=A.applyToLocalDocumentSet(x,k);return p.documentOverlayCache.saveOverlays(I,A.batchId,z)})}).then(()=>({batchId:E.batchId,changes:iE(x)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,h,p){let m=u.Ba[u.currentUser.toKey()];m||(m=new ut(We)),m=m.insert(h,p),u.Ba[u.currentUser.toKey()]=m}(r,o.batchId,t),await yu(r,o.changes),await Kh(r.remoteStore)}catch(o){const a=Fm(o,"Failed to persist write");t.reject(a)}}async function OE(n,e){const t=ke(n);try{const r=await GN(t.localStore,e);e.targetChanges.forEach((o,a)=>{const u=t.Na.get(a);u&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.va=!0:o.modifiedDocuments.size>0?Qe(u.va):o.removedDocuments.size>0&&(Qe(u.va),u.va=!1))}),await yu(t,r,e)}catch(r){await du(r)}}function rw(n,e,t){const r=ke(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.Fa.forEach((a,u)=>{const h=u.view.Z_(e);h.snapshot&&o.push(h.snapshot)}),function(u,h){const p=ke(u);p.onlineState=h;let m=!1;p.queries.forEach((w,x)=>{for(const E of x.j_)E.Z_(h)&&(m=!0)}),m&&Bm(p)}(r.eventManager,e),o.length&&r.Ca.d_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function L2(n,e,t){const r=ke(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Na.get(e),a=o&&o.key;if(a){let u=new ut(Ee.comparator);u=u.insert(a,Yt.newNoDocument(a,Ae.min()));const h=Le().add(a),p=new Wh(Ae.min(),new Map,new ut(We),u,h);await OE(r,p),r.Oa=r.Oa.remove(a),r.Na.delete(e),zm(r)}else await Lp(r.localStore,e,!1).then(()=>Mp(r,e,t)).catch(du)}async function O2(n,e){const t=ke(n),r=e.batch.batchId;try{const o=await qN(t.localStore,e);UE(t,r,null),ME(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await yu(t,o)}catch(o){await du(o)}}async function M2(n,e,t){const r=ke(n);try{const o=await function(u,h){const p=ke(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let w;return p.mutationQueue.lookupMutationBatch(m,h).next(x=>(Qe(x!==null),w=x.keys(),p.mutationQueue.removeMutationBatch(m,x))).next(()=>p.mutationQueue.performConsistencyCheck(m)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(m,w,h)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,w)).next(()=>p.localDocuments.getDocuments(m,w))})}(r.localStore,e);UE(r,e,t),ME(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await yu(r,o)}catch(o){await du(o)}}function ME(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function UE(n,e,t){const r=ke(n);let o=r.Ba[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),r.Ba[r.currentUser.toKey()]=o}}function Mp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||FE(n,r)})}function FE(n,e){n.xa.delete(e.path.canonicalString());const t=n.Oa.get(e);t!==null&&(Vm(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),zm(n))}function iw(n,e,t){for(const r of t)r instanceof DE?(n.La.addReference(r.key,e),U2(n,r)):r instanceof VE?(ge("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||FE(n,r.key)):Pe()}function U2(n,e){const t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(ge("SyncEngine","New document in limbo: "+t),n.xa.add(r),zm(n))}function zm(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const e=n.xa.values().next().value;n.xa.delete(e);const t=new Ee(ht.fromString(e)),r=n.qa.next();n.Na.set(r,new A2(t)),n.Oa=n.Oa.insert(t,r),AE(n.remoteStore,new Hi(Sr(Pm(t.path)),r,"TargetPurposeLimboResolution",_m.oe))}}async function yu(n,e,t){const r=ke(n),o=[],a=[],u=[];r.Fa.isEmpty()||(r.Fa.forEach((h,p)=>{u.push(r.Ka(p,e,t).then(m=>{var w;if((m||t)&&r.isPrimaryClient){const x=m?!m.fromCache:(w=t?.targetChanges.get(p.targetId))===null||w===void 0?void 0:w.current;r.sharedClientState.updateQueryState(p.targetId,x?"current":"not-current")}if(m){o.push(m);const x=Dm.Wi(p.targetId,m);a.push(x)}}))}),await Promise.all(u),r.Ca.d_(o),await async function(p,m){const w=ke(p);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>ne.forEach(m,E=>ne.forEach(E.$i,I=>w.persistence.referenceDelegate.addReference(x,E.targetId,I)).next(()=>ne.forEach(E.Ui,I=>w.persistence.referenceDelegate.removeReference(x,E.targetId,I)))))}catch(x){if(!fu(x))throw x;ge("LocalStore","Failed to update sequence numbers: "+x)}for(const x of m){const E=x.targetId;if(!x.fromCache){const I=w.os.get(E),D=I.snapshotVersion,k=I.withLastLimboFreeSnapshotVersion(D);w.os=w.os.insert(E,k)}}}(r.localStore,a))}async function F2(n,e){const t=ke(n);if(!t.currentUser.isEqual(e)){ge("SyncEngine","User change. New user:",e.toKey());const r=await SE(t.localStore,e);t.currentUser=e,function(a,u){a.ka.forEach(h=>{h.forEach(p=>{p.reject(new _e(ie.CANCELLED,u))})}),a.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await yu(t,r.hs)}}function B2(n,e){const t=ke(n),r=t.Na.get(e);if(r&&r.va)return Le().add(r.key);{let o=Le();const a=t.Ma.get(e);if(!a)return o;for(const u of a){const h=t.Fa.get(u);o=o.unionWith(h.view.Va)}return o}}function BE(n){const e=ke(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=OE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=B2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=L2.bind(null,e),e.Ca.d_=T2.bind(null,e.eventManager),e.Ca.$a=S2.bind(null,e.eventManager),e}function z2(n){const e=ke(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=O2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=M2.bind(null,e),e}class xh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return WN(this.persistence,new $N,e.initialUser,this.serializer)}Ga(e){return new FN(jm.Zr,this.serializer)}Wa(e){return new JN}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xh.provider={build:()=>new xh};class Up{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>rw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=F2.bind(null,this.syncEngine),await v2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new x2}()}createDatastore(e){const t=qh(e.databaseInfo.databaseId),r=function(a){return new n2(a)}(e.databaseInfo);return function(a,u,h,p){return new s2(a,u,h,p)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,o,a,u,h){return new a2(r,o,a,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>rw(this.syncEngine,t,0),function(){return J0.D()?new J0:new ZN}())}createSyncEngine(e,t){return function(o,a,u,h,p,m,w){const x=new k2(o,a,u,h,p,m);return w&&(x.Qa=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=ke(o);ge("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await gu(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Up.provider={build:()=>new Up};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ii("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e,t,r,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Qt.UNAUTHENTICATED,this.clientId=W_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{ge("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(ge("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Fm(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Kf(n,e){n.asyncQueue.verifyOperationInProgress(),ge("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async o=>{r.isEqual(o)||(await SE(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function sw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await W2(n);ge("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Z0(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>Z0(e.remoteStore,o)),n._onlineComponents=e}async function W2(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ge("FirestoreClient","Using user provided OfflineComponentProvider");try{await Kf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;pa("Error using user provided cache. Falling back to memory cache: "+t),await Kf(n,new xh)}}else ge("FirestoreClient","Using default OfflineComponentProvider"),await Kf(n,new xh);return n._offlineComponents}async function zE(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ge("FirestoreClient","Using user provided OnlineComponentProvider"),await sw(n,n._uninitializedComponentsProvider._online)):(ge("FirestoreClient","Using default OnlineComponentProvider"),await sw(n,new Up))),n._onlineComponents}function q2(n){return zE(n).then(e=>e.syncEngine)}async function G2(n){const e=await zE(n),t=e.eventManager;return t.onListen=C2.bind(null,e.syncEngine),t.onUnlisten=j2.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=N2.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=D2.bind(null,e.syncEngine),t}function K2(n,e,t={}){const r=new Ki;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,h,p,m){const w=new $2({next:E=>{w.Za(),u.enqueueAndForget(()=>E2(a,x));const I=E.docs.has(h);!I&&E.fromCache?m.reject(new _e(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&E.fromCache&&p&&p.source==="server"?m.reject(new _e(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(E)},error:E=>m.reject(E)}),x=new I2(Pm(h.path),w,{includeMetadataChanges:!0,_a:!0});return _2(a,x)}(await G2(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(n,e,t){if(!t)throw new _e(ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Y2(n,e,t,r){if(e===!0&&r===!0)throw new _e(ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function aw(n){if(!Ee.isDocumentKey(n))throw new _e(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function $m(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Pe()}function tu(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new _e(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=$m(n);throw new _e(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new _e(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Y2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$E((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new _e(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new _e(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new _e(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hm{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lw({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lw(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new lC;switch(r.type){case"firstParty":return new dC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _e(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=ow.get(t);r&&(ge("ComponentProvider","Removing Datastore"),ow.delete(t),r.terminate())}(this),Promise.resolve()}}function X2(n,e,t,r={}){var o;const a=(n=tu(n,Hm))._getSettings(),u=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==u&&pa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:u,ssl:!1})),r.mockUserToken){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=Qt.MOCK_USER;else{h=_b(r.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new _e(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Qt(m)}n._authCredentials=new uC(new H_(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wm(this.firestore,e,this._query)}}class Mn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mn(this.firestore,e,this._key)}}class nu extends Wm{constructor(e,t,r){super(e,t,Pm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mn(this.firestore,null,new Ee(e))}withConverter(e){return new nu(this.firestore,e,this._path)}}function uw(n,e,...t){if(n=At(n),arguments.length===1&&(e=W_.newId()),Q2("doc","path",e),n instanceof Hm){const r=ht.fromString(e,...t);return aw(r),new Mn(n,null,new Ee(r))}{if(!(n instanceof Mn||n instanceof nu))throw new _e(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ht.fromString(e,...t));return aw(r),new Mn(n.firestore,n instanceof nu?n.converter:null,new Ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new bE(this,"async_queue_retry"),this.Vu=()=>{const r=Gf();r&&ge("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const t=Gf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=Gf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new Ki;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!fu(e))throw e;ge("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const o=function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h}(r);throw ii("INTERNAL UNHANDLED ERROR: ",o),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const o=Um.createAndSchedule(this,e,t,r,a=>this.yu(a));return this.Tu.push(o),o}fu(){this.Eu&&Pe()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class qm extends Hm{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new cw,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cw(e),this._firestoreClient=void 0,await e}}}function J2(n,e){const t=typeof n=="object"?n:cm(),r=typeof n=="string"?n:"(default)",o=to(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=wb("firestore");a&&X2(o,...a)}return o}function HE(n){if(n._terminated)throw new _e(ie.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Z2(n),n._firestoreClient}function Z2(n){var e,t,r;const o=n._freezeSettings(),a=function(h,p,m,w){return new IC(h,p,m,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,$E(w.experimentalLongPollingOptions),w.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new H2(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(h){const p=h?._online.build();return{_offline:h?._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xa(zt.fromBase64String(e))}catch(t){throw new _e(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new xa(zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new _e(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _e(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _e(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=/^__.*__$/;class tR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ro(e,this.data,this.fieldMask,t,this.fieldTransforms):new pu(e,this.data,t,this.fieldTransforms)}}function qE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe()}}class Ym{constructor(e,t,r,o,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Ym(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:r,xu:!1});return o.Ou(e),o}Nu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:r,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return _h(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(qE(this.Cu)&&eR.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class nR{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||qh(e)}Qu(e,t,r,o=!1){return new Ym({Cu:e,methodName:t,qu:r,path:Ft.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rR(n){const e=n._freezeSettings(),t=qh(n._databaseId);return new nR(n._databaseId,!!e.ignoreUndefinedProperties,t)}function iR(n,e,t,r,o,a={}){const u=n.Qu(a.merge||a.mergeFields?2:0,e,t,o);YE("Data must be an object, but it was:",u,r);const h=KE(r,u);let p,m;if(a.merge)p=new rr(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const w=[];for(const x of a.mergeFields){const E=sR(e,x,t);if(!u.contains(E))throw new _e(ie.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);aR(w,E)||w.push(E)}p=new rr(w),m=u.fieldTransforms.filter(x=>p.covers(x.field))}else p=null,m=u.fieldTransforms;return new tR(new Ln(h),p,m)}function GE(n,e){if(QE(n=At(n)))return YE("Unsupported field value:",e,n),KE(n,e);if(n instanceof WE)return function(r,o){if(!qE(o.Cu))throw o.Bu(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,o){const a=[];let u=0;for(const h of r){let p=GE(h,o.Lu(u));p==null&&(p={nullValue:"NULL_VALUE"}),a.push(p),u++}return{arrayValue:{values:a}}}(n,e)}return function(r,o){if((r=At(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return KC(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Pt.fromDate(r);return{timestampValue:vh(o.serializer,a)}}if(r instanceof Pt){const a=new Pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:vh(o.serializer,a)}}if(r instanceof Km)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xa)return{bytesValue:yE(o.serializer,r._byteString)};if(r instanceof Mn){const a=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw o.Bu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Nm(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Qm)return function(u,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw h.Bu("VectorValues must only contain numeric values.");return Am(h.serializer,p)})}}}}}}(r,o);throw o.Bu(`Unsupported field value: ${$m(r)}`)}(n,e)}function KE(n,e){const t={};return q_(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pa(n,(r,o)=>{const a=GE(o,e.Mu(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function QE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Pt||n instanceof Km||n instanceof xa||n instanceof Mn||n instanceof WE||n instanceof Qm)}function YE(n,e,t){if(!QE(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const r=$m(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function sR(n,e,t){if((e=At(e))instanceof Gm)return e._internalPath;if(typeof e=="string")return XE(n,e);throw _h("Field path arguments must be of type string or ",n,!1,void 0,t)}const oR=new RegExp("[~\\*/\\[\\]]");function XE(n,e,t){if(e.search(oR)>=0)throw _h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Gm(...e.split("."))._internalPath}catch{throw _h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function _h(n,e,t,r,o){const a=r&&!r.isEmpty(),u=o!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(a||u)&&(p+=" (found",a&&(p+=` in field ${r}`),u&&(p+=` in document ${o}`),p+=")"),new _e(ie.INVALID_ARGUMENT,h+n+p)}function aR(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e,t,r,o,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ZE("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class lR extends JE{data(){return super.data()}}function ZE(n,e){return typeof e=="string"?XE(n,e):e instanceof Gm?e._internalPath:e._delegate._internalPath}class uR{convertValue(e,t="none"){switch(Ys(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Pa(e,(o,a)=>{r[o]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,o;const a=(o=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(u=>pt(u.doubleValue));return new Qm(a)}convertGeoPoint(e){return new Km(pt(e.latitude),pt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Tm(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Yl(e));default:return null}}convertTimestamp(e){const t=Ji(e);return new Pt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ht.fromString(e);Qe(TE(r));const o=new Xl(r.get(1),r.get(3)),a=new Ee(r.popFirst(5));return o.isEqual(t)||ii(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eT extends JE{constructor(e,t,r,o,a,u){super(e,t,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new dR(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(ZE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class dR extends eT{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(n){n=tu(n,Mn);const e=tu(n.firestore,qm);return K2(HE(e),n._key).then(t=>yR(e,n,t))}class pR extends uR{constructor(e){super(),this.firestore=e}convertBytes(e){return new xa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mn(this.firestore,null,t)}}function mR(n,e,t){n=tu(n,Mn);const r=tu(n.firestore,qm),o=cR(n.converter,e);return gR(r,[iR(rR(r),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Zr.none())])}function gR(n,e){return function(r,o){const a=new Ki;return r.asyncQueue.enqueueAndForget(async()=>V2(await q2(r),o,a)),a.promise}(HE(n),e)}function yR(n,e,t){const r=t.docs.get(e._key),o=new pR(n);return new eT(n,o,e._key,r,new hR(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){ba=o})(Ia),Pr(new sr("firestore",(r,{instanceIdentifier:o,options:a})=>{const u=r.getProvider("app").getImmediate(),h=new qm(new cC(r.getProvider("auth-internal")),new pC(r.getProvider("app-check-internal")),function(m,w){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new _e(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xl(m.options.projectId,w)}(u,o),u);return a=Object.assign({useFetchStreams:t},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),On(k0,"4.7.3",e),On(k0,"4.7.3","esm2017")})();var vR="firebase",wR="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */On(vR,wR,"app");const tT="@firebase/installations",Xm="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT=1e4,rT=`w:${Xm}`,iT="FIS_v2",xR="https://firebaseinstallations.googleapis.com/v1",_R=3600*1e3,ER="installations",TR="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Xs=new eo(ER,TR,SR);function sT(n){return n instanceof lr&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT({projectId:n}){return`${xR}/projects/${n}/installations`}function aT(n){return{token:n.token,requestStatus:2,expiresIn:bR(n.expiresIn),creationTime:Date.now()}}async function lT(n,e){const r=(await e.json()).error;return Xs.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function uT({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function IR(n,{refreshToken:e}){const t=uT(n);return t.append("Authorization",PR(e)),t}async function cT(n){const e=await n();return e.status>=500&&e.status<600?n():e}function bR(n){return Number(n.replace("s","000"))}function PR(n){return`${iT} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AR({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=oT(n),o=uT(n),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&o.append("x-firebase-client",m)}const u={fid:t,authVersion:iT,appId:n.appId,sdkVersion:rT},h={method:"POST",headers:o,body:JSON.stringify(u)},p=await cT(()=>fetch(r,h));if(p.ok){const m=await p.json();return{fid:m.fid||t,registrationStatus:2,refreshToken:m.refreshToken,authToken:aT(m.authToken)}}else throw await lT("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=/^[cdef][\w-]{21}$/,Fp="";function NR(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=RR(n);return CR.test(t)?t:Fp}catch{return Fp}}function RR(n){return kR(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT=new Map;function fT(n,e){const t=Qh(n);pT(t,e),jR(t,e)}function pT(n,e){const t=dT.get(n);if(t)for(const r of t)r(e)}function jR(n,e){const t=DR();t&&t.postMessage({key:n,fid:e}),VR()}let Fs=null;function DR(){return!Fs&&"BroadcastChannel"in self&&(Fs=new BroadcastChannel("[Firebase] FID Change"),Fs.onmessage=n=>{pT(n.data.key,n.data.fid)}),Fs}function VR(){dT.size===0&&Fs&&(Fs.close(),Fs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR="firebase-installations-database",OR=1,Js="firebase-installations-store";let Qf=null;function Jm(){return Qf||(Qf=Jx(LR,OR,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Js)}}})),Qf}async function Eh(n,e){const t=Qh(n),o=(await Jm()).transaction(Js,"readwrite"),a=o.objectStore(Js),u=await a.get(t);return await a.put(e,t),await o.done,(!u||u.fid!==e.fid)&&fT(n,e.fid),e}async function mT(n){const e=Qh(n),r=(await Jm()).transaction(Js,"readwrite");await r.objectStore(Js).delete(e),await r.done}async function Yh(n,e){const t=Qh(n),o=(await Jm()).transaction(Js,"readwrite"),a=o.objectStore(Js),u=await a.get(t),h=e(u);return h===void 0?await a.delete(t):await a.put(h,t),await o.done,h&&(!u||u.fid!==h.fid)&&fT(n,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zm(n){let e;const t=await Yh(n.appConfig,r=>{const o=MR(r),a=UR(n,o);return e=a.registrationPromise,a.installationEntry});return t.fid===Fp?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function MR(n){const e=n||{fid:NR(),registrationStatus:0};return gT(e)}function UR(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Xs.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=FR(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:BR(n)}:{installationEntry:e}}async function FR(n,e){try{const t=await AR(n,e);return Eh(n.appConfig,t)}catch(t){throw sT(t)&&t.customData.serverCode===409?await mT(n.appConfig):await Eh(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function BR(n){let e=await hw(n.appConfig);for(;e.registrationStatus===1;)await hT(100),e=await hw(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await Zm(n);return r||t}return e}function hw(n){return Yh(n,e=>{if(!e)throw Xs.create("installation-not-found");return gT(e)})}function gT(n){return zR(n)?{fid:n.fid,registrationStatus:0}:n}function zR(n){return n.registrationStatus===1&&n.registrationTime+nT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $R({appConfig:n,heartbeatServiceProvider:e},t){const r=HR(n,t),o=IR(n,t),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&o.append("x-firebase-client",m)}const u={installation:{sdkVersion:rT,appId:n.appId}},h={method:"POST",headers:o,body:JSON.stringify(u)},p=await cT(()=>fetch(r,h));if(p.ok){const m=await p.json();return aT(m)}else throw await lT("Generate Auth Token",p)}function HR(n,{fid:e}){return`${oT(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eg(n,e=!1){let t;const r=await Yh(n.appConfig,a=>{if(!yT(a))throw Xs.create("not-registered");const u=a.authToken;if(!e&&GR(u))return a;if(u.requestStatus===1)return t=WR(n,e),a;{if(!navigator.onLine)throw Xs.create("app-offline");const h=QR(a);return t=qR(n,h),h}});return t?await t:r.authToken}async function WR(n,e){let t=await dw(n.appConfig);for(;t.authToken.requestStatus===1;)await hT(100),t=await dw(n.appConfig);const r=t.authToken;return r.requestStatus===0?eg(n,e):r}function dw(n){return Yh(n,e=>{if(!yT(e))throw Xs.create("not-registered");const t=e.authToken;return YR(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function qR(n,e){try{const t=await $R(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return await Eh(n.appConfig,r),t}catch(t){if(sT(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await mT(n.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Eh(n.appConfig,r)}throw t}}function yT(n){return n!==void 0&&n.registrationStatus===2}function GR(n){return n.requestStatus===2&&!KR(n)}function KR(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+_R}function QR(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function YR(n){return n.requestStatus===1&&n.requestTime+nT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XR(n){const e=n,{installationEntry:t,registrationPromise:r}=await Zm(e);return r?r.catch(console.error):eg(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JR(n,e=!1){const t=n;return await ZR(t),(await eg(t,e)).token}async function ZR(n){const{registrationPromise:e}=await Zm(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ej(n){if(!n||!n.options)throw Yf("App Configuration");if(!n.name)throw Yf("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Yf(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Yf(n){return Xs.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="installations",tj="installations-internal",nj=n=>{const e=n.getProvider("app").getImmediate(),t=ej(e),r=to(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},rj=n=>{const e=n.getProvider("app").getImmediate(),t=to(e,vT).getImmediate();return{getId:()=>XR(t),getToken:o=>JR(t,o)}};function ij(){Pr(new sr(vT,nj,"PUBLIC")),Pr(new sr(tj,rj,"PRIVATE"))}ij();On(tT,Xm);On(tT,Xm,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th="analytics",sj="firebase_id",oj="origin",aj=60*1e3,lj="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",tg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn=new Vh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},En=new eo("analytics","Analytics",uj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cj(n){if(!n.startsWith(tg)){const e=En.create("invalid-gtag-resource",{gtagURL:n});return dn.warn(e.message),""}return n}function wT(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function hj(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function dj(n,e){const t=hj("firebase-js-sdk-policy",{createScriptURL:cj}),r=document.createElement("script"),o=`${tg}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function fj(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function pj(n,e,t,r,o,a){const u=r[o];try{if(u)await e[u];else{const p=(await wT(t)).find(m=>m.measurementId===o);p&&await e[p.appId]}}catch(h){dn.error(h)}n("config",o,a)}async function mj(n,e,t,r,o){try{let a=[];if(o&&o.send_to){let u=o.send_to;Array.isArray(u)||(u=[u]);const h=await wT(t);for(const p of u){const m=h.find(x=>x.measurementId===p),w=m&&e[m.appId];if(w)a.push(w);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),n("event",r,o||{})}catch(a){dn.error(a)}}function gj(n,e,t,r){async function o(a,...u){try{if(a==="event"){const[h,p]=u;await mj(n,e,t,h,p)}else if(a==="config"){const[h,p]=u;await pj(n,e,t,r,h,p)}else if(a==="consent"){const[h,p]=u;n("consent",h,p)}else if(a==="get"){const[h,p,m]=u;n("get",h,p,m)}else if(a==="set"){const[h]=u;n("set",h)}else n(a,...u)}catch(h){dn.error(h)}}return o}function yj(n,e,t,r,o){let a=function(...u){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(a=window[o]),window[o]=gj(a,n,e,t),{gtagCore:a,wrappedGtag:window[o]}}function vj(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(tg)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj=30,xj=1e3;class _j{constructor(e={},t=xj){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const xT=new _j;function Ej(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function Tj(n){var e;const{appId:t,apiKey:r}=n,o={method:"GET",headers:Ej(r)},a=lj.replace("{app-id}",t),u=await fetch(a,o);if(u.status!==200&&u.status!==304){let h="";try{const p=await u.json();!((e=p.error)===null||e===void 0)&&e.message&&(h=p.error.message)}catch{}throw En.create("config-fetch-failed",{httpStatus:u.status,responseMessage:h})}return u.json()}async function Sj(n,e=xT,t){const{appId:r,apiKey:o,measurementId:a}=n.options;if(!r)throw En.create("no-app-id");if(!o){if(a)return{measurementId:a,appId:r};throw En.create("no-api-key")}const u=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new Pj;return setTimeout(async()=>{h.abort()},aj),_T({appId:r,apiKey:o,measurementId:a},u,h,e)}async function _T(n,{throttleEndTimeMillis:e,backoffCount:t},r,o=xT){var a;const{appId:u,measurementId:h}=n;try{await Ij(r,e)}catch(p){if(h)return dn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:u,measurementId:h};throw p}try{const p=await Tj(n);return o.deleteThrottleMetadata(u),p}catch(p){const m=p;if(!bj(m)){if(o.deleteThrottleMetadata(u),h)return dn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:u,measurementId:h};throw p}const w=Number((a=m?.customData)===null||a===void 0?void 0:a.httpStatus)===503?Zv(t,o.intervalMillis,wj):Zv(t,o.intervalMillis),x={throttleEndTimeMillis:Date.now()+w,backoffCount:t+1};return o.setThrottleMetadata(u,x),dn.debug(`Calling attemptFetch again in ${w} millis`),_T(n,x,r,o)}}function Ij(n,e){return new Promise((t,r)=>{const o=Math.max(e-Date.now(),0),a=setTimeout(t,o);n.addEventListener(()=>{clearTimeout(a),r(En.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function bj(n){if(!(n instanceof lr)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class Pj{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Aj(n,e,t,r,o){if(o&&o.global){n("event",t,r);return}else{const a=await e,u=Object.assign(Object.assign({},r),{send_to:a});n("event",t,u)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kj(){if(Kx())try{await Qx()}catch(n){return dn.warn(En.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return dn.warn(En.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Cj(n,e,t,r,o,a,u){var h;const p=Sj(n);p.then(I=>{t[I.measurementId]=I.appId,n.options.measurementId&&I.measurementId!==n.options.measurementId&&dn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${I.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(I=>dn.error(I)),e.push(p);const m=kj().then(I=>{if(I)return r.getId()}),[w,x]=await Promise.all([p,m]);vj(a)||dj(a,w.measurementId),o("js",new Date);const E=(h=u?.config)!==null&&h!==void 0?h:{};return E[oj]="firebase",E.update=!0,x!=null&&(E[sj]=x),o("config",w.measurementId,E),w.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e){this.app=e}_delete(){return delete Ul[this.app.options.appId],Promise.resolve()}}let Ul={},fw=[];const pw={};let Xf="dataLayer",Rj="gtag",mw,ET,gw=!1;function jj(){const n=[];if(Gx()&&n.push("This is a browser extension environment."),Ab()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,o)=>`(${o+1}) ${r}`).join(" "),t=En.create("invalid-analytics-context",{errorInfo:e});dn.warn(t.message)}}function Dj(n,e,t){jj();const r=n.options.appId;if(!r)throw En.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)dn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw En.create("no-api-key");if(Ul[r]!=null)throw En.create("already-exists",{id:r});if(!gw){fj(Xf);const{wrappedGtag:a,gtagCore:u}=yj(Ul,fw,pw,Xf,Rj);ET=a,mw=u,gw=!0}return Ul[r]=Cj(n,fw,pw,e,mw,Xf,t),new Nj(n)}function Vj(n=cm()){n=At(n);const e=to(n,Th);return e.isInitialized()?e.getImmediate():Lj(n)}function Lj(n,e={}){const t=to(n,Th);if(t.isInitialized()){const o=t.getImmediate();if(ql(e,t.getOptions()))return o;throw En.create("already-initialized")}return t.initialize({options:e})}function Oj(n,e,t,r){n=At(n),Aj(ET,Ul[n.app.options.appId],e,t,r).catch(o=>dn.error(o))}const yw="@firebase/analytics",vw="0.10.8";function Mj(){Pr(new sr(Th,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return Dj(r,o,t)},"PUBLIC")),Pr(new sr("analytics-internal",n,"PRIVATE")),On(yw,vw),On(yw,vw,"esm2017");function n(e){try{const t=e.getProvider(Th).getImmediate();return{logEvent:(r,o,a)=>Oj(t,r,o,a)}}catch(t){throw En.create("interop-component-reg-failed",{reason:t})}}}Mj();const Uj={apiKey:"AIzaSyDSplfIeCdHaXnAgH1WnmaY78uINeUHHeA",authDomain:"glyphmart.firebaseapp.com",projectId:"glyphmart",storageBucket:"glyphmart.firebasestorage.app",messagingSenderId:"582834377960",appId:"1:582834377960:web:2f844d65c9c0f92f93255d",measurementId:"G-1RC8D5PY66"},ng=Zx(Uj),ra=oC(ng),ww=J2(ng);Vj(ng);const TT=j.createContext(),Nr=()=>{const n=j.useContext(TT);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},Fj=({children:n})=>{const[e,t]=j.useState(null),[r,o]=j.useState(!0),[a,u]=j.useState(null),h=async(E,I,D,k)=>{const z=(await BA(ra,E,I)).user;return await Sp(z,{displayName:k}),await mR(uw(ww,"users",z.uid),{uid:z.uid,email:E,username:D,displayName:k,createdAt:new Date,glyphsCount:0,bio:"",website:"",location:""}),z},p=(E,I)=>zA(ra,E,I),m=()=>QA(ra),w=async E=>{try{const I=await fR(uw(ww,"users",E));I.exists()&&u(I.data())}catch(I){console.error("Error fetching user profile:",I)}};j.useEffect(()=>KA(ra,I=>{t(I),I?w(I.uid):u(null),o(!1)}),[]);const x={currentUser:e,userProfile:a,signup:h,signin:p,logout:m,fetchUserProfile:w};return f.jsx(TT.Provider,{value:x,children:!r&&n})};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Bj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ne=(n,e)=>{const t=j.forwardRef(({color:r="currentColor",size:o=24,strokeWidth:a=2,absoluteStrokeWidth:u,className:h="",children:p,...m},w)=>j.createElement("svg",{ref:w,...Bj,width:o,height:o,stroke:r,strokeWidth:u?Number(a)*24/Number(o):a,className:["lucide",`lucide-${zj(n)}`,h].join(" "),...m},[...e.map(([x,E])=>j.createElement(x,E)),...Array.isArray(p)?p:[p]]));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=Ne("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=Ne("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=Ne("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=Ne("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=Ne("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=Ne("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=Ne("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=Ne("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=Ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=Ne("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=Ne("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=Ne("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=Ne("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=Ne("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=Ne("FileImage",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["circle",{cx:"10",cy:"13",r:"2",key:"6v46hv"}],["path",{d:"m20 17-1.09-1.09a2 2 0 0 0-2.82 0L10 22",key:"17vly1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=Ne("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=Ne("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=Ne("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=Ne("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=Ne("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=Ne("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=Ne("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=Ne("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xw=Ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=Ne("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=Ne("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=Ne("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=Ne("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=Ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _w=Ne("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=Ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=Ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=Ne("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=Ne("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ew=Ne("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=Ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=Ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=Ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=Ne("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=Ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=Ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=Ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=Ne("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),PT=j.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),Xh=j.createContext({}),Jh=j.createContext(null),Zh=typeof document<"u",sg=Zh?j.useLayoutEffect:j.useEffect,AT=j.createContext({strict:!1}),og=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),uD="framerAppearId",kT="data-"+og(uD);function cD(n,e,t,r){const{visualElement:o}=j.useContext(Xh),a=j.useContext(AT),u=j.useContext(Jh),h=j.useContext(PT).reducedMotion,p=j.useRef();r=r||a.renderer,!p.current&&r&&(p.current=r(n,{visualState:e,parent:o,props:t,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const m=p.current;j.useInsertionEffect(()=>{m&&m.update(t,u)});const w=j.useRef(!!(t[kT]&&!window.HandoffComplete));return sg(()=>{m&&(m.render(),w.current&&m.animationState&&m.animationState.animateChanges())}),j.useEffect(()=>{m&&(m.updateFeatures(),!w.current&&m.animationState&&m.animationState.animateChanges(),w.current&&(w.current=!1,window.HandoffComplete=!0))}),m}function sa(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function hD(n,e,t){return j.useCallback(r=>{r&&n.mount&&n.mount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):sa(t)&&(t.current=r))},[e])}function ru(n){return typeof n=="string"||Array.isArray(n)}function ed(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const ag=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],lg=["initial",...ag];function td(n){return ed(n.animate)||lg.some(e=>ru(n[e]))}function CT(n){return!!(td(n)||n.variants)}function dD(n,e){if(td(n)){const{initial:t,animate:r}=n;return{initial:t===!1||ru(t)?t:void 0,animate:ru(r)?r:void 0}}return n.inherit!==!1?e:{}}function fD(n){const{initial:e,animate:t}=dD(n,j.useContext(Xh));return j.useMemo(()=>({initial:e,animate:t}),[Sw(e),Sw(t)])}function Sw(n){return Array.isArray(n)?n.join(" "):n}const Iw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},iu={};for(const n in Iw)iu[n]={isEnabled:e=>Iw[n].some(t=>!!e[t])};function pD(n){for(const e in n)iu[e]={...iu[e],...n[e]}}const ug=j.createContext({}),NT=j.createContext({}),mD=Symbol.for("motionComponentSymbol");function gD({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:o}){n&&pD(n);function a(h,p){let m;const w={...j.useContext(PT),...h,layoutId:yD(h)},{isStatic:x}=w,E=fD(h),I=r(h,x);if(!x&&Zh){E.visualElement=cD(o,I,w,e);const D=j.useContext(NT),k=j.useContext(AT).strict;E.visualElement&&(m=E.visualElement.loadFeatures(w,k,n,D))}return j.createElement(Xh.Provider,{value:E},m&&E.visualElement?j.createElement(m,{visualElement:E.visualElement,...w}):null,t(o,h,hD(I,E.visualElement,p),I,x,E.visualElement))}const u=j.forwardRef(a);return u[mD]=o,u}function yD({layoutId:n}){const e=j.useContext(ug).id;return e&&n!==void 0?e+"-"+n:n}function vD(n){function e(r,o={}){return gD(n(r,o))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(r,o)=>(t.has(o)||t.set(o,e(o)),t.get(o))})}const wD=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function cg(n){return typeof n!="string"||n.includes("-")?!1:!!(wD.indexOf(n)>-1||/[A-Z]/.test(n))}const Sh={};function xD(n){Object.assign(Sh,n)}const vu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],so=new Set(vu);function RT(n,{layout:e,layoutId:t}){return so.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Sh[n]||n==="opacity")}const pn=n=>!!(n&&n.getVelocity),_D={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ED=vu.length;function TD(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},r,o){let a="";for(let u=0;u<ED;u++){const h=vu[u];if(n[h]!==void 0){const p=_D[h]||h;a+=`${p}(${n[h]}) `}}return e&&!n.z&&(a+="translateZ(0)"),a=a.trim(),o?a=o(n,r?"":a):t&&r&&(a="none"),a}const jT=n=>e=>typeof e=="string"&&e.startsWith(n),DT=jT("--"),Wp=jT("var(--"),SD=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,ID=(n,e)=>e&&typeof n=="number"?e.transform(n):n,es=(n,e,t)=>Math.min(Math.max(t,n),e),oo={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Fl={...oo,transform:n=>es(0,1,n)},$c={...oo,default:1},Bl=n=>Math.round(n*1e5)/1e5,nd=/(-)?([\d]*\.?[\d])+/g,VT=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,bD=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function wu(n){return typeof n=="string"}const xu=n=>({test:e=>wu(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Vi=xu("deg"),br=xu("%"),Te=xu("px"),PD=xu("vh"),AD=xu("vw"),bw={...br,parse:n=>br.parse(n)/100,transform:n=>br.transform(n*100)},Pw={...oo,transform:Math.round},LT={borderWidth:Te,borderTopWidth:Te,borderRightWidth:Te,borderBottomWidth:Te,borderLeftWidth:Te,borderRadius:Te,radius:Te,borderTopLeftRadius:Te,borderTopRightRadius:Te,borderBottomRightRadius:Te,borderBottomLeftRadius:Te,width:Te,maxWidth:Te,height:Te,maxHeight:Te,size:Te,top:Te,right:Te,bottom:Te,left:Te,padding:Te,paddingTop:Te,paddingRight:Te,paddingBottom:Te,paddingLeft:Te,margin:Te,marginTop:Te,marginRight:Te,marginBottom:Te,marginLeft:Te,rotate:Vi,rotateX:Vi,rotateY:Vi,rotateZ:Vi,scale:$c,scaleX:$c,scaleY:$c,scaleZ:$c,skew:Vi,skewX:Vi,skewY:Vi,distance:Te,translateX:Te,translateY:Te,translateZ:Te,x:Te,y:Te,z:Te,perspective:Te,transformPerspective:Te,opacity:Fl,originX:bw,originY:bw,originZ:Te,zIndex:Pw,fillOpacity:Fl,strokeOpacity:Fl,numOctaves:Pw};function hg(n,e,t,r){const{style:o,vars:a,transform:u,transformOrigin:h}=n;let p=!1,m=!1,w=!0;for(const x in e){const E=e[x];if(DT(x)){a[x]=E;continue}const I=LT[x],D=ID(E,I);if(so.has(x)){if(p=!0,u[x]=D,!w)continue;E!==(I.default||0)&&(w=!1)}else x.startsWith("origin")?(m=!0,h[x]=D):o[x]=D}if(e.transform||(p||r?o.transform=TD(n.transform,t,w,r):o.transform&&(o.transform="none")),m){const{originX:x="50%",originY:E="50%",originZ:I=0}=h;o.transformOrigin=`${x} ${E} ${I}`}}const dg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function OT(n,e,t){for(const r in e)!pn(e[r])&&!RT(r,t)&&(n[r]=e[r])}function kD({transformTemplate:n},e,t){return j.useMemo(()=>{const r=dg();return hg(r,e,{enableHardwareAcceleration:!t},n),Object.assign({},r.vars,r.style)},[e])}function CD(n,e,t){const r=n.style||{},o={};return OT(o,r,n),Object.assign(o,kD(n,e,t)),n.transformValues?n.transformValues(o):o}function ND(n,e,t){const r={},o=CD(n,e,t);return n.drag&&n.dragListener!==!1&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(r.tabIndex=0),r.style=o,r}const RD=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ih(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||RD.has(n)}let MT=n=>!Ih(n);function jD(n){n&&(MT=e=>e.startsWith("on")?!Ih(e):n(e))}try{jD(require("@emotion/is-prop-valid").default)}catch{}function DD(n,e,t){const r={};for(const o in n)o==="values"&&typeof n.values=="object"||(MT(o)||t===!0&&Ih(o)||!e&&!Ih(o)||n.draggable&&o.startsWith("onDrag"))&&(r[o]=n[o]);return r}function Aw(n,e,t){return typeof n=="string"?n:Te.transform(e+t*n)}function VD(n,e,t){const r=Aw(e,n.x,n.width),o=Aw(t,n.y,n.height);return`${r} ${o}`}const LD={offset:"stroke-dashoffset",array:"stroke-dasharray"},OD={offset:"strokeDashoffset",array:"strokeDasharray"};function MD(n,e,t=1,r=0,o=!0){n.pathLength=1;const a=o?LD:OD;n[a.offset]=Te.transform(-r);const u=Te.transform(e),h=Te.transform(t);n[a.array]=`${u} ${h}`}function fg(n,{attrX:e,attrY:t,attrScale:r,originX:o,originY:a,pathLength:u,pathSpacing:h=1,pathOffset:p=0,...m},w,x,E){if(hg(n,m,w,E),x){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:I,style:D,dimensions:k}=n;I.transform&&(k&&(D.transform=I.transform),delete I.transform),k&&(o!==void 0||a!==void 0||D.transform)&&(D.transformOrigin=VD(k,o!==void 0?o:.5,a!==void 0?a:.5)),e!==void 0&&(I.x=e),t!==void 0&&(I.y=t),r!==void 0&&(I.scale=r),u!==void 0&&MD(I,u,h,p,!1)}const UT=()=>({...dg(),attrs:{}}),pg=n=>typeof n=="string"&&n.toLowerCase()==="svg";function UD(n,e,t,r){const o=j.useMemo(()=>{const a=UT();return fg(a,e,{enableHardwareAcceleration:!1},pg(r),n.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};OT(a,n.style,n),o.style={...a,...o.style}}return o}function FD(n=!1){return(t,r,o,{latestValues:a},u)=>{const p=(cg(t)?UD:ND)(r,a,u,t),w={...DD(r,typeof t=="string",n),...p,ref:o},{children:x}=r,E=j.useMemo(()=>pn(x)?x.get():x,[x]);return j.createElement(t,{...w,children:E})}}function FT(n,{style:e,vars:t},r,o){Object.assign(n.style,e,o&&o.getProjectionStyles(r));for(const a in t)n.style.setProperty(a,t[a])}const BT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function zT(n,e,t,r){FT(n,e,void 0,r);for(const o in e.attrs)n.setAttribute(BT.has(o)?o:og(o),e.attrs[o])}function mg(n,e){const{style:t}=n,r={};for(const o in t)(pn(t[o])||e.style&&pn(e.style[o])||RT(o,n))&&(r[o]=t[o]);return r}function $T(n,e){const t=mg(n,e);for(const r in n)if(pn(n[r])||pn(e[r])){const o=vu.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;t[o]=n[r]}return t}function gg(n,e,t,r={},o={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,o)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,o)),e}function HT(n){const e=j.useRef(null);return e.current===null&&(e.current=n()),e.current}const bh=n=>Array.isArray(n),BD=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),zD=n=>bh(n)?n[n.length-1]||0:n;function rh(n){const e=pn(n)?n.get():n;return BD(e)?e.toValue():e}function $D({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},r,o,a){const u={latestValues:HD(r,o,a,n),renderState:e()};return t&&(u.mount=h=>t(r,h,u)),u}const WT=n=>(e,t)=>{const r=j.useContext(Xh),o=j.useContext(Jh),a=()=>$D(n,e,r,o);return t?a():HT(a)};function HD(n,e,t,r){const o={},a=r(n,{});for(const E in a)o[E]=rh(a[E]);let{initial:u,animate:h}=n;const p=td(n),m=CT(n);e&&m&&!p&&n.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let w=t?t.initial===!1:!1;w=w||u===!1;const x=w?h:u;return x&&typeof x!="boolean"&&!ed(x)&&(Array.isArray(x)?x:[x]).forEach(I=>{const D=gg(n,I);if(!D)return;const{transitionEnd:k,transition:A,...z}=D;for(const G in z){let O=z[G];if(Array.isArray(O)){const Y=w?O.length-1:0;O=O[Y]}O!==null&&(o[G]=O)}for(const G in k)o[G]=k[G]}),o}const mt=n=>n;class kw{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);t!==-1&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function WD(n){let e=new kw,t=new kw,r=0,o=!1,a=!1;const u=new WeakSet,h={schedule:(p,m=!1,w=!1)=>{const x=w&&o,E=x?e:t;return m&&u.add(p),E.add(p)&&x&&o&&(r=e.order.length),p},cancel:p=>{t.remove(p),u.delete(p)},process:p=>{if(o){a=!0;return}if(o=!0,[e,t]=[t,e],t.clear(),r=e.order.length,r)for(let m=0;m<r;m++){const w=e.order[m];w(p),u.has(w)&&(h.schedule(w),n())}o=!1,a&&(a=!1,h.process(p))}};return h}const Hc=["prepare","read","update","preRender","render","postRender"],qD=40;function GD(n,e){let t=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},a=Hc.reduce((x,E)=>(x[E]=WD(()=>t=!0),x),{}),u=x=>a[x].process(o),h=()=>{const x=performance.now();t=!1,o.delta=r?1e3/60:Math.max(Math.min(x-o.timestamp,qD),1),o.timestamp=x,o.isProcessing=!0,Hc.forEach(u),o.isProcessing=!1,t&&e&&(r=!1,n(h))},p=()=>{t=!0,r=!0,o.isProcessing||n(h)};return{schedule:Hc.reduce((x,E)=>{const I=a[E];return x[E]=(D,k=!1,A=!1)=>(t||p(),I.schedule(D,k,A)),x},{}),cancel:x=>Hc.forEach(E=>a[E].cancel(x)),state:o,steps:a}}const{schedule:et,cancel:ai,state:Kt,steps:Zf}=GD(typeof requestAnimationFrame<"u"?requestAnimationFrame:mt,!0),KD={useVisualState:WT({scrapeMotionValuesFromProps:$T,createRenderState:UT,onMount:(n,e,{renderState:t,latestValues:r})=>{et.read(()=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}),et.render(()=>{fg(t,r,{enableHardwareAcceleration:!1},pg(e.tagName),n.transformTemplate),zT(e,t)})}})},QD={useVisualState:WT({scrapeMotionValuesFromProps:mg,createRenderState:dg})};function YD(n,{forwardMotionProps:e=!1},t,r){return{...cg(n)?KD:QD,preloadedFeatures:t,useRender:FD(e),createVisualElement:r,Component:n}}function Jr(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}const qT=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function rd(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const XD=n=>e=>qT(e)&&n(e,rd(e));function ei(n,e,t,r){return Jr(n,e,XD(t),r)}const JD=(n,e)=>t=>e(n(t)),Qi=(...n)=>n.reduce(JD);function GT(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const Cw=GT("dragHorizontal"),Nw=GT("dragVertical");function KT(n){let e=!1;if(n==="y")e=Nw();else if(n==="x")e=Cw();else{const t=Cw(),r=Nw();t&&r?e=()=>{t(),r()}:(t&&t(),r&&r())}return e}function QT(){const n=KT(!0);return n?(n(),!1):!0}class is{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Rw(n,e){const t="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),o=(a,u)=>{if(a.pointerType==="touch"||QT())return;const h=n.getProps();n.animationState&&h.whileHover&&n.animationState.setActive("whileHover",e),h[r]&&et.update(()=>h[r](a,u))};return ei(n.current,t,o,{passive:!n.getProps()[r]})}class ZD extends is{mount(){this.unmount=Qi(Rw(this.node,!0),Rw(this.node,!1))}unmount(){}}class eV extends is{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Qi(Jr(this.node.current,"focus",()=>this.onFocus()),Jr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const YT=(n,e)=>e?n===e?!0:YT(n,e.parentElement):!1;function ep(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,rd(t))}class tV extends is{constructor(){super(...arguments),this.removeStartListeners=mt,this.removeEndListeners=mt,this.removeAccessibleListeners=mt,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=ei(window,"pointerup",(h,p)=>{if(!this.checkPressEnd())return;const{onTap:m,onTapCancel:w,globalTapTarget:x}=this.node.getProps();et.update(()=>{!x&&!YT(this.node.current,h.target)?w&&w(h,p):m&&m(h,p)})},{passive:!(r.onTap||r.onPointerUp)}),u=ei(window,"pointercancel",(h,p)=>this.cancelPress(h,p),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Qi(a,u),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=a=>{if(a.key!=="Enter"||this.isPressing)return;const u=h=>{h.key!=="Enter"||!this.checkPressEnd()||ep("up",(p,m)=>{const{onTap:w}=this.node.getProps();w&&et.update(()=>w(p,m))})};this.removeEndListeners(),this.removeEndListeners=Jr(this.node.current,"keyup",u),ep("down",(h,p)=>{this.startPress(h,p)})},t=Jr(this.node.current,"keydown",e),r=()=>{this.isPressing&&ep("cancel",(a,u)=>this.cancelPress(a,u))},o=Jr(this.node.current,"blur",r);this.removeAccessibleListeners=Qi(t,o)}}startPress(e,t){this.isPressing=!0;const{onTapStart:r,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&et.update(()=>r(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!QT()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&et.update(()=>r(e,t))}mount(){const e=this.node.getProps(),t=ei(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Jr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Qi(t,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const qp=new WeakMap,tp=new WeakMap,nV=n=>{const e=qp.get(n.target);e&&e(n)},rV=n=>{n.forEach(nV)};function iV({root:n,...e}){const t=n||document;tp.has(t)||tp.set(t,{});const r=tp.get(t),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(rV,{root:n,...e})),r[o]}function sV(n,e,t){const r=iV(e);return qp.set(n,t),r.observe(n),()=>{qp.delete(n),r.unobserve(n)}}const oV={some:0,all:1};class aV extends is{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:o="some",once:a}=e,u={root:t?t.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:oV[o]},h=p=>{const{isIntersecting:m}=p;if(this.isInView===m||(this.isInView=m,a&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:w,onViewportLeave:x}=this.node.getProps(),E=m?w:x;E&&E(p)};return sV(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(lV(e,t))&&this.startObserver()}unmount(){}}function lV({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const uV={inView:{Feature:aV},tap:{Feature:tV},focus:{Feature:eV},hover:{Feature:ZD}};function XT(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function cV(n){const e={};return n.values.forEach((t,r)=>e[r]=t.get()),e}function hV(n){const e={};return n.values.forEach((t,r)=>e[r]=t.getVelocity()),e}function id(n,e,t){const r=n.getProps();return gg(r,e,t!==void 0?t:r.custom,cV(n),hV(n))}let yg=mt;const Hs=n=>n*1e3,ti=n=>n/1e3,dV={current:!1},JT=n=>Array.isArray(n)&&typeof n[0]=="number";function ZT(n){return!!(!n||typeof n=="string"&&e1[n]||JT(n)||Array.isArray(n)&&n.every(ZT))}const jl=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,e1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:jl([0,.65,.55,1]),circOut:jl([.55,0,1,.45]),backIn:jl([.31,.01,.66,-.59]),backOut:jl([.33,1.53,.69,.99])};function t1(n){if(n)return JT(n)?jl(n):Array.isArray(n)?n.map(t1):e1[n]}function fV(n,e,t,{delay:r=0,duration:o,repeat:a=0,repeatType:u="loop",ease:h,times:p}={}){const m={[e]:t};p&&(m.offset=p);const w=t1(h);return Array.isArray(w)&&(m.easing=w),n.animate(m,{delay:r,duration:o,easing:Array.isArray(w)?"linear":w,fill:"both",iterations:a+1,direction:u==="reverse"?"alternate":"normal"})}function pV(n,{repeat:e,repeatType:t="loop"}){const r=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[r]}const n1=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,mV=1e-7,gV=12;function yV(n,e,t,r,o){let a,u,h=0;do u=e+(t-e)/2,a=n1(u,r,o)-n,a>0?t=u:e=u;while(Math.abs(a)>mV&&++h<gV);return u}function _u(n,e,t,r){if(n===e&&t===r)return mt;const o=a=>yV(a,0,1,n,t);return a=>a===0||a===1?a:n1(o(a),e,r)}const vV=_u(.42,0,1,1),wV=_u(0,0,.58,1),r1=_u(.42,0,.58,1),xV=n=>Array.isArray(n)&&typeof n[0]!="number",i1=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,s1=n=>e=>1-n(1-e),vg=n=>1-Math.sin(Math.acos(n)),o1=s1(vg),_V=i1(vg),a1=_u(.33,1.53,.69,.99),wg=s1(a1),EV=i1(wg),TV=n=>(n*=2)<1?.5*wg(n):.5*(2-Math.pow(2,-10*(n-1))),SV={linear:mt,easeIn:vV,easeInOut:r1,easeOut:wV,circIn:vg,circInOut:_V,circOut:o1,backIn:wg,backInOut:EV,backOut:a1,anticipate:TV},jw=n=>{if(Array.isArray(n)){yg(n.length===4);const[e,t,r,o]=n;return _u(e,t,r,o)}else if(typeof n=="string")return SV[n];return n},xg=(n,e)=>t=>!!(wu(t)&&bD.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),l1=(n,e,t)=>r=>{if(!wu(r))return r;const[o,a,u,h]=r.match(nd);return{[n]:parseFloat(o),[e]:parseFloat(a),[t]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},IV=n=>es(0,255,n),np={...oo,transform:n=>Math.round(IV(n))},Bs={test:xg("rgb","red"),parse:l1("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+np.transform(n)+", "+np.transform(e)+", "+np.transform(t)+", "+Bl(Fl.transform(r))+")"};function bV(n){let e="",t="",r="",o="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),o=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),o=n.substring(4,5),e+=e,t+=t,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Gp={test:xg("#"),parse:bV,transform:Bs.transform},oa={test:xg("hsl","hue"),parse:l1("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+br.transform(Bl(e))+", "+br.transform(Bl(t))+", "+Bl(Fl.transform(r))+")"},nn={test:n=>Bs.test(n)||Gp.test(n)||oa.test(n),parse:n=>Bs.test(n)?Bs.parse(n):oa.test(n)?oa.parse(n):Gp.parse(n),transform:n=>wu(n)?n:n.hasOwnProperty("red")?Bs.transform(n):oa.transform(n)},lt=(n,e,t)=>-t*n+t*e+n;function rp(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function PV({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let o=0,a=0,u=0;if(!e)o=a=u=t;else{const h=t<.5?t*(1+e):t+e-t*e,p=2*t-h;o=rp(p,h,n+1/3),a=rp(p,h,n),u=rp(p,h,n-1/3)}return{red:Math.round(o*255),green:Math.round(a*255),blue:Math.round(u*255),alpha:r}}const ip=(n,e,t)=>{const r=n*n;return Math.sqrt(Math.max(0,t*(e*e-r)+r))},AV=[Gp,Bs,oa],kV=n=>AV.find(e=>e.test(n));function Dw(n){const e=kV(n);let t=e.parse(n);return e===oa&&(t=PV(t)),t}const u1=(n,e)=>{const t=Dw(n),r=Dw(e),o={...t};return a=>(o.red=ip(t.red,r.red,a),o.green=ip(t.green,r.green,a),o.blue=ip(t.blue,r.blue,a),o.alpha=lt(t.alpha,r.alpha,a),Bs.transform(o))};function CV(n){var e,t;return isNaN(n)&&wu(n)&&(((e=n.match(nd))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(VT))===null||t===void 0?void 0:t.length)||0)>0}const c1={regex:SD,countKey:"Vars",token:"${v}",parse:mt},h1={regex:VT,countKey:"Colors",token:"${c}",parse:nn.parse},d1={regex:nd,countKey:"Numbers",token:"${n}",parse:oo.parse};function sp(n,{regex:e,countKey:t,token:r,parse:o}){const a=n.tokenised.match(e);a&&(n["num"+t]=a.length,n.tokenised=n.tokenised.replace(e,r),n.values.push(...a.map(o)))}function Ph(n){const e=n.toString(),t={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return t.value.includes("var(--")&&sp(t,c1),sp(t,h1),sp(t,d1),t}function f1(n){return Ph(n).values}function p1(n){const{values:e,numColors:t,numVars:r,tokenised:o}=Ph(n),a=e.length;return u=>{let h=o;for(let p=0;p<a;p++)p<r?h=h.replace(c1.token,u[p]):p<r+t?h=h.replace(h1.token,nn.transform(u[p])):h=h.replace(d1.token,Bl(u[p]));return h}}const NV=n=>typeof n=="number"?0:n;function RV(n){const e=f1(n);return p1(n)(e.map(NV))}const ts={test:CV,parse:f1,createTransformer:p1,getAnimatableNone:RV},m1=(n,e)=>t=>`${t>0?e:n}`;function g1(n,e){return typeof n=="number"?t=>lt(n,e,t):nn.test(n)?u1(n,e):n.startsWith("var(")?m1(n,e):v1(n,e)}const y1=(n,e)=>{const t=[...n],r=t.length,o=n.map((a,u)=>g1(a,e[u]));return a=>{for(let u=0;u<r;u++)t[u]=o[u](a);return t}},jV=(n,e)=>{const t={...n,...e},r={};for(const o in t)n[o]!==void 0&&e[o]!==void 0&&(r[o]=g1(n[o],e[o]));return o=>{for(const a in r)t[a]=r[a](o);return t}},v1=(n,e)=>{const t=ts.createTransformer(e),r=Ph(n),o=Ph(e);return r.numVars===o.numVars&&r.numColors===o.numColors&&r.numNumbers>=o.numNumbers?Qi(y1(r.values,o.values),t):m1(n,e)},su=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},Vw=(n,e)=>t=>lt(n,e,t);function DV(n){return typeof n=="number"?Vw:typeof n=="string"?nn.test(n)?u1:v1:Array.isArray(n)?y1:typeof n=="object"?jV:Vw}function VV(n,e,t){const r=[],o=t||DV(n[0]),a=n.length-1;for(let u=0;u<a;u++){let h=o(n[u],n[u+1]);if(e){const p=Array.isArray(e)?e[u]||mt:e;h=Qi(p,h)}r.push(h)}return r}function w1(n,e,{clamp:t=!0,ease:r,mixer:o}={}){const a=n.length;if(yg(a===e.length),a===1)return()=>e[0];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const u=VV(e,r,o),h=u.length,p=m=>{let w=0;if(h>1)for(;w<n.length-2&&!(m<n[w+1]);w++);const x=su(n[w],n[w+1],m);return u[w](x)};return t?m=>p(es(n[0],n[a-1],m)):p}function LV(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const o=su(0,e,r);n.push(lt(t,1,o))}}function OV(n){const e=[0];return LV(e,n.length-1),e}function MV(n,e){return n.map(t=>t*e)}function UV(n,e){return n.map(()=>e||r1).splice(0,n.length-1)}function Ah({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const o=xV(r)?r.map(jw):jw(r),a={done:!1,value:e[0]},u=MV(t&&t.length===e.length?t:OV(e),n),h=w1(u,e,{ease:Array.isArray(o)?o:UV(e,o)});return{calculatedDuration:n,next:p=>(a.value=h(p),a.done=p>=n,a)}}function x1(n,e){return e?n*(1e3/e):0}const FV=5;function _1(n,e,t){const r=Math.max(e-FV,0);return x1(t-n(r),e-r)}const op=.001,BV=.01,zV=10,$V=.05,HV=1;function WV({duration:n=800,bounce:e=.25,velocity:t=0,mass:r=1}){let o,a,u=1-e;u=es($V,HV,u),n=es(BV,zV,ti(n)),u<1?(o=m=>{const w=m*u,x=w*n,E=w-t,I=Kp(m,u),D=Math.exp(-x);return op-E/I*D},a=m=>{const x=m*u*n,E=x*t+t,I=Math.pow(u,2)*Math.pow(m,2)*n,D=Math.exp(-x),k=Kp(Math.pow(m,2),u);return(-o(m)+op>0?-1:1)*((E-I)*D)/k}):(o=m=>{const w=Math.exp(-m*n),x=(m-t)*n+1;return-op+w*x},a=m=>{const w=Math.exp(-m*n),x=(t-m)*(n*n);return w*x});const h=5/n,p=GV(o,a,h);if(n=Hs(n),isNaN(p))return{stiffness:100,damping:10,duration:n};{const m=Math.pow(p,2)*r;return{stiffness:m,damping:u*2*Math.sqrt(r*m),duration:n}}}const qV=12;function GV(n,e,t){let r=t;for(let o=1;o<qV;o++)r=r-n(r)/e(r);return r}function Kp(n,e){return n*Math.sqrt(1-e*e)}const KV=["duration","bounce"],QV=["stiffness","damping","mass"];function Lw(n,e){return e.some(t=>n[t]!==void 0)}function YV(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!Lw(n,QV)&&Lw(n,KV)){const t=WV(n);e={...e,...t,mass:1},e.isResolvedFromDuration=!0}return e}function E1({keyframes:n,restDelta:e,restSpeed:t,...r}){const o=n[0],a=n[n.length-1],u={done:!1,value:o},{stiffness:h,damping:p,mass:m,duration:w,velocity:x,isResolvedFromDuration:E}=YV({...r,velocity:-ti(r.velocity||0)}),I=x||0,D=p/(2*Math.sqrt(h*m)),k=a-o,A=ti(Math.sqrt(h/m)),z=Math.abs(k)<5;t||(t=z?.01:2),e||(e=z?.005:.5);let G;if(D<1){const O=Kp(A,D);G=Y=>{const Z=Math.exp(-D*A*Y);return a-Z*((I+D*A*k)/O*Math.sin(O*Y)+k*Math.cos(O*Y))}}else if(D===1)G=O=>a-Math.exp(-A*O)*(k+(I+A*k)*O);else{const O=A*Math.sqrt(D*D-1);G=Y=>{const Z=Math.exp(-D*A*Y),se=Math.min(O*Y,300);return a-Z*((I+D*A*k)*Math.sinh(se)+O*k*Math.cosh(se))/O}}return{calculatedDuration:E&&w||null,next:O=>{const Y=G(O);if(E)u.done=O>=w;else{let Z=I;O!==0&&(D<1?Z=_1(G,O,Y):Z=0);const se=Math.abs(Z)<=t,R=Math.abs(a-Y)<=e;u.done=se&&R}return u.value=u.done?a:Y,u}}}function Ow({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:u,min:h,max:p,restDelta:m=.5,restSpeed:w}){const x=n[0],E={done:!1,value:x},I=b=>h!==void 0&&b<h||p!==void 0&&b>p,D=b=>h===void 0?p:p===void 0||Math.abs(h-b)<Math.abs(p-b)?h:p;let k=t*e;const A=x+k,z=u===void 0?A:u(A);z!==A&&(k=z-x);const G=b=>-k*Math.exp(-b/r),O=b=>z+G(b),Y=b=>{const P=G(b),V=O(b);E.done=Math.abs(P)<=m,E.value=E.done?z:V};let Z,se;const R=b=>{I(E.value)&&(Z=b,se=E1({keyframes:[E.value,D(E.value)],velocity:_1(O,b,E.value),damping:o,stiffness:a,restDelta:m,restSpeed:w}))};return R(0),{calculatedDuration:null,next:b=>{let P=!1;return!se&&Z===void 0&&(P=!0,Y(b),R(b)),Z!==void 0&&b>Z?se.next(b-Z):(!P&&Y(b),E)}}}const XV=n=>{const e=({timestamp:t})=>n(t);return{start:()=>et.update(e,!0),stop:()=>ai(e),now:()=>Kt.isProcessing?Kt.timestamp:performance.now()}},Mw=2e4;function Uw(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<Mw;)e+=t,r=n.next(e);return e>=Mw?1/0:e}const JV={decay:Ow,inertia:Ow,tween:Ah,keyframes:Ah,spring:E1};function kh({autoplay:n=!0,delay:e=0,driver:t=XV,keyframes:r,type:o="keyframes",repeat:a=0,repeatDelay:u=0,repeatType:h="loop",onPlay:p,onStop:m,onComplete:w,onUpdate:x,...E}){let I=1,D=!1,k,A;const z=()=>{A=new Promise(L=>{k=L})};z();let G;const O=JV[o]||Ah;let Y;O!==Ah&&typeof r[0]!="number"&&(Y=w1([0,100],r,{clamp:!1}),r=[0,100]);const Z=O({...E,keyframes:r});let se;h==="mirror"&&(se=O({...E,keyframes:[...r].reverse(),velocity:-(E.velocity||0)}));let R="idle",b=null,P=null,V=null;Z.calculatedDuration===null&&a&&(Z.calculatedDuration=Uw(Z));const{calculatedDuration:U}=Z;let B=1/0,N=1/0;U!==null&&(B=U+u,N=B*(a+1)-u);let be=0;const $e=L=>{if(P===null)return;I>0&&(P=Math.min(P,L)),I<0&&(P=Math.min(L-N/I,P)),b!==null?be=b:be=Math.round(L-P)*I;const J=be-e*(I>=0?1:-1),fe=I>=0?J<0:J>N;be=Math.max(J,0),R==="finished"&&b===null&&(be=N);let le=be,ce=Z;if(a){const qe=Math.min(be,N)/B;let st=Math.floor(qe),Dt=qe%1;!Dt&&qe>=1&&(Dt=1),Dt===1&&st--,st=Math.min(st,a+1),!!(st%2)&&(h==="reverse"?(Dt=1-Dt,u&&(Dt-=u/B)):h==="mirror"&&(ce=se)),le=es(0,1,Dt)*B}const ve=fe?{done:!1,value:r[0]}:ce.next(le);Y&&(ve.value=Y(ve.value));let{done:je}=ve;!fe&&U!==null&&(je=I>=0?be>=N:be<=0);const Be=b===null&&(R==="finished"||R==="running"&&je);return x&&x(ve.value),Be&&oe(),ve},Re=()=>{G&&G.stop(),G=void 0},Ce=()=>{R="idle",Re(),k(),z(),P=V=null},oe=()=>{R="finished",w&&w(),Re(),k()},$=()=>{if(D)return;G||(G=t($e));const L=G.now();p&&p(),b!==null?P=L-b:(!P||R==="finished")&&(P=L),R==="finished"&&z(),V=P,b=null,R="running",G.start()};n&&$();const X={then(L,J){return A.then(L,J)},get time(){return ti(be)},set time(L){L=Hs(L),be=L,b!==null||!G||I===0?b=L:P=G.now()-L/I},get duration(){const L=Z.calculatedDuration===null?Uw(Z):Z.calculatedDuration;return ti(L)},get speed(){return I},set speed(L){L===I||!G||(I=L,X.time=ti(be))},get state(){return R},play:$,pause:()=>{R="paused",b=be},stop:()=>{D=!0,R!=="idle"&&(R="idle",m&&m(),Ce())},cancel:()=>{V!==null&&$e(V),Ce()},complete:()=>{R="finished"},sample:L=>(P=0,$e(L))};return X}function ZV(n){let e;return()=>(e===void 0&&(e=n()),e)}const e4=ZV(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),t4=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Wc=10,n4=2e4,r4=(n,e)=>e.type==="spring"||n==="backgroundColor"||!ZT(e.ease);function i4(n,e,{onUpdate:t,onComplete:r,...o}){if(!(e4()&&t4.has(e)&&!o.repeatDelay&&o.repeatType!=="mirror"&&o.damping!==0&&o.type!=="inertia"))return!1;let u=!1,h,p,m=!1;const w=()=>{p=new Promise(O=>{h=O})};w();let{keyframes:x,duration:E=300,ease:I,times:D}=o;if(r4(e,o)){const O=kh({...o,repeat:0,delay:0});let Y={done:!1,value:x[0]};const Z=[];let se=0;for(;!Y.done&&se<n4;)Y=O.sample(se),Z.push(Y.value),se+=Wc;D=void 0,x=Z,E=se-Wc,I="linear"}const k=fV(n.owner.current,e,x,{...o,duration:E,ease:I,times:D}),A=()=>{m=!1,k.cancel()},z=()=>{m=!0,et.update(A),h(),w()};return k.onfinish=()=>{m||(n.set(pV(x,o)),r&&r(),z())},{then(O,Y){return p.then(O,Y)},attachTimeline(O){return k.timeline=O,k.onfinish=null,mt},get time(){return ti(k.currentTime||0)},set time(O){k.currentTime=Hs(O)},get speed(){return k.playbackRate},set speed(O){k.playbackRate=O},get duration(){return ti(E)},play:()=>{u||(k.play(),ai(A))},pause:()=>k.pause(),stop:()=>{if(u=!0,k.playState==="idle")return;const{currentTime:O}=k;if(O){const Y=kh({...o,autoplay:!1});n.setWithVelocity(Y.sample(O-Wc).value,Y.sample(O).value,Wc)}z()},complete:()=>{m||k.finish()},cancel:z}}function s4({keyframes:n,delay:e,onUpdate:t,onComplete:r}){const o=()=>(t&&t(n[n.length-1]),r&&r(),{time:0,speed:1,duration:0,play:mt,pause:mt,stop:mt,then:a=>(a(),Promise.resolve()),cancel:mt,complete:mt});return e?kh({keyframes:[0,1],duration:0,delay:e,onComplete:o}):o()}const o4={type:"spring",stiffness:500,damping:25,restSpeed:10},a4=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),l4={type:"keyframes",duration:.8},u4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},c4=(n,{keyframes:e})=>e.length>2?l4:so.has(n)?n.startsWith("scale")?a4(e[1]):o4:u4,Qp=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ts.test(e)||e==="0")&&!e.startsWith("url(")),h4=new Set(["brightness","contrast","saturate","opacity"]);function d4(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(nd)||[];if(!r)return n;const o=t.replace(r,"");let a=h4.has(e)?1:0;return r!==t&&(a*=100),e+"("+a+o+")"}const f4=/([a-z-]*)\(.*?\)/g,Yp={...ts,getAnimatableNone:n=>{const e=n.match(f4);return e?e.map(d4).join(" "):n}},p4={...LT,color:nn,backgroundColor:nn,outlineColor:nn,fill:nn,stroke:nn,borderColor:nn,borderTopColor:nn,borderRightColor:nn,borderBottomColor:nn,borderLeftColor:nn,filter:Yp,WebkitFilter:Yp},_g=n=>p4[n];function T1(n,e){let t=_g(n);return t!==Yp&&(t=ts),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const S1=n=>/^0[^.\s]+$/.test(n);function m4(n){if(typeof n=="number")return n===0;if(n!==null)return n==="none"||n==="0"||S1(n)}function g4(n,e,t,r){const o=Qp(e,t);let a;Array.isArray(t)?a=[...t]:a=[null,t];const u=r.from!==void 0?r.from:n.get();let h;const p=[];for(let m=0;m<a.length;m++)a[m]===null&&(a[m]=m===0?u:a[m-1]),m4(a[m])&&p.push(m),typeof a[m]=="string"&&a[m]!=="none"&&a[m]!=="0"&&(h=a[m]);if(o&&p.length&&h)for(let m=0;m<p.length;m++){const w=p[m];a[w]=T1(e,h)}return a}function y4({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:o,repeat:a,repeatType:u,repeatDelay:h,from:p,elapsed:m,...w}){return!!Object.keys(w).length}function Eg(n,e){return n[e]||n.default||n}const v4={skipAnimations:!1},Tg=(n,e,t,r={})=>o=>{const a=Eg(r,n)||{},u=a.delay||r.delay||0;let{elapsed:h=0}=r;h=h-Hs(u);const p=g4(e,n,t,a),m=p[0],w=p[p.length-1],x=Qp(n,m),E=Qp(n,w);let I={keyframes:p,velocity:e.getVelocity(),ease:"easeOut",...a,delay:-h,onUpdate:D=>{e.set(D),a.onUpdate&&a.onUpdate(D)},onComplete:()=>{o(),a.onComplete&&a.onComplete()}};if(y4(a)||(I={...I,...c4(n,I)}),I.duration&&(I.duration=Hs(I.duration)),I.repeatDelay&&(I.repeatDelay=Hs(I.repeatDelay)),!x||!E||dV.current||a.type===!1||v4.skipAnimations)return s4(I);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const D=i4(e,n,I);if(D)return D}return kh(I)};function Ch(n){return!!(pn(n)&&n.add)}const I1=n=>/^\-?\d*\.?\d+$/.test(n);function Sg(n,e){n.indexOf(e)===-1&&n.push(e)}function Ig(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class bg{constructor(){this.subscriptions=[]}add(e){return Sg(this.subscriptions,e),()=>Ig(this.subscriptions,e)}notify(e,t,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,t,r);else for(let a=0;a<o;a++){const u=this.subscriptions[a];u&&u(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const w4=n=>!isNaN(parseFloat(n));class x4{constructor(e,t={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,o=!0)=>{this.prev=this.current,this.current=r;const{delta:a,timestamp:u}=Kt;this.lastUpdated!==u&&(this.timeDelta=a,this.lastUpdated=u,et.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>et.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=w4(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new bg);const r=this.events[e].add(t);return e==="change"?()=>{r(),et.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?x1(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _a(n,e){return new x4(n,e)}const b1=n=>e=>e.test(n),_4={test:n=>n==="auto",parse:n=>n},P1=[oo,Te,br,Vi,AD,PD,_4],bl=n=>P1.find(b1(n)),E4=[...P1,nn,ts],T4=n=>E4.find(b1(n));function S4(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,_a(t))}function I4(n,e){const t=id(n,e);let{transitionEnd:r={},transition:o={},...a}=t?n.makeTargetAnimatable(t,!1):{};a={...a,...r};for(const u in a){const h=zD(a[u]);S4(n,u,h)}}function b4(n,e,t){var r,o;const a=Object.keys(e).filter(h=>!n.hasValue(h)),u=a.length;if(u)for(let h=0;h<u;h++){const p=a[h],m=e[p];let w=null;Array.isArray(m)&&(w=m[0]),w===null&&(w=(o=(r=t[p])!==null&&r!==void 0?r:n.readValue(p))!==null&&o!==void 0?o:e[p]),w!=null&&(typeof w=="string"&&(I1(w)||S1(w))?w=parseFloat(w):!T4(w)&&ts.test(m)&&(w=T1(p,m)),n.addValue(p,_a(w,{owner:n})),t[p]===void 0&&(t[p]=w),w!==null&&n.setBaseTarget(p,w))}}function P4(n,e){return e?(e[n]||e.default||e).from:void 0}function A4(n,e,t){const r={};for(const o in n){const a=P4(o,e);if(a!==void 0)r[o]=a;else{const u=t.getValue(o);u&&(r[o]=u.get())}}return r}function k4({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function C4(n,e){const t=n.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}else return t!==e}function A1(n,e,{delay:t=0,transitionOverride:r,type:o}={}){let{transition:a=n.getDefaultTransition(),transitionEnd:u,...h}=n.makeTargetAnimatable(e);const p=n.getValue("willChange");r&&(a=r);const m=[],w=o&&n.animationState&&n.animationState.getState()[o];for(const x in h){const E=n.getValue(x),I=h[x];if(!E||I===void 0||w&&k4(w,x))continue;const D={delay:t,elapsed:0,...Eg(a||{},x)};if(window.HandoffAppearAnimations){const z=n.getProps()[kT];if(z){const G=window.HandoffAppearAnimations(z,x,E,et);G!==null&&(D.elapsed=G,D.isHandoff=!0)}}let k=!D.isHandoff&&!C4(E,I);if(D.type==="spring"&&(E.getVelocity()||D.velocity)&&(k=!1),E.animation&&(k=!1),k)continue;E.start(Tg(x,E,I,n.shouldReduceMotion&&so.has(x)?{type:!1}:D));const A=E.animation;Ch(p)&&(p.add(x),A.then(()=>p.remove(x))),m.push(A)}return u&&Promise.all(m).then(()=>{u&&I4(n,u)}),m}function Xp(n,e,t={}){const r=id(n,e,t.custom);let{transition:o=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(o=t.transitionOverride);const a=r?()=>Promise.all(A1(n,r,t)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:m=0,staggerChildren:w,staggerDirection:x}=o;return N4(n,e,m+p,w,x,t)}:()=>Promise.resolve(),{when:h}=o;if(h){const[p,m]=h==="beforeChildren"?[a,u]:[u,a];return p().then(()=>m())}else return Promise.all([a(),u(t.delay)])}function N4(n,e,t=0,r=0,o=1,a){const u=[],h=(n.variantChildren.size-1)*r,p=o===1?(m=0)=>m*r:(m=0)=>h-m*r;return Array.from(n.variantChildren).sort(R4).forEach((m,w)=>{m.notify("AnimationStart",e),u.push(Xp(m,e,{...a,delay:t+p(w)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(u)}function R4(n,e){return n.sortNodePosition(e)}function j4(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(a=>Xp(n,a,t));r=Promise.all(o)}else if(typeof e=="string")r=Xp(n,e,t);else{const o=typeof e=="function"?id(n,e,t.custom):e;r=Promise.all(A1(n,o,t))}return r.then(()=>n.notify("AnimationComplete",e))}const D4=[...ag].reverse(),V4=ag.length;function L4(n){return e=>Promise.all(e.map(({animation:t,options:r})=>j4(n,t,r)))}function O4(n){let e=L4(n);const t=U4();let r=!0;const o=(p,m)=>{const w=id(n,m);if(w){const{transition:x,transitionEnd:E,...I}=w;p={...p,...I,...E}}return p};function a(p){e=p(n)}function u(p,m){const w=n.getProps(),x=n.getVariantContext(!0)||{},E=[],I=new Set;let D={},k=1/0;for(let z=0;z<V4;z++){const G=D4[z],O=t[G],Y=w[G]!==void 0?w[G]:x[G],Z=ru(Y),se=G===m?O.isActive:null;se===!1&&(k=z);let R=Y===x[G]&&Y!==w[G]&&Z;if(R&&r&&n.manuallyAnimateOnMount&&(R=!1),O.protectedKeys={...D},!O.isActive&&se===null||!Y&&!O.prevProp||ed(Y)||typeof Y=="boolean")continue;let P=M4(O.prevProp,Y)||G===m&&O.isActive&&!R&&Z||z>k&&Z,V=!1;const U=Array.isArray(Y)?Y:[Y];let B=U.reduce(o,{});se===!1&&(B={});const{prevResolvedValues:N={}}=O,be={...N,...B},$e=Re=>{P=!0,I.has(Re)&&(V=!0,I.delete(Re)),O.needsAnimating[Re]=!0};for(const Re in be){const Ce=B[Re],oe=N[Re];if(D.hasOwnProperty(Re))continue;let $=!1;bh(Ce)&&bh(oe)?$=!XT(Ce,oe):$=Ce!==oe,$?Ce!==void 0?$e(Re):I.add(Re):Ce!==void 0&&I.has(Re)?$e(Re):O.protectedKeys[Re]=!0}O.prevProp=Y,O.prevResolvedValues=B,O.isActive&&(D={...D,...B}),r&&n.blockInitialAnimation&&(P=!1),P&&(!R||V)&&E.push(...U.map(Re=>({animation:Re,options:{type:G,...p}})))}if(I.size){const z={};I.forEach(G=>{const O=n.getBaseTarget(G);O!==void 0&&(z[G]=O)}),E.push({animation:z})}let A=!!E.length;return r&&(w.initial===!1||w.initial===w.animate)&&!n.manuallyAnimateOnMount&&(A=!1),r=!1,A?e(E):Promise.resolve()}function h(p,m,w){var x;if(t[p].isActive===m)return Promise.resolve();(x=n.variantChildren)===null||x===void 0||x.forEach(I=>{var D;return(D=I.animationState)===null||D===void 0?void 0:D.setActive(p,m)}),t[p].isActive=m;const E=u(w,p);for(const I in t)t[I].protectedKeys={};return E}return{animateChanges:u,setActive:h,setAnimateFunction:a,getState:()=>t}}function M4(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!XT(e,n):!1}function Ds(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function U4(){return{animate:Ds(!0),whileInView:Ds(),whileHover:Ds(),whileTap:Ds(),whileDrag:Ds(),whileFocus:Ds(),exit:Ds()}}class F4 extends is{constructor(e){super(e),e.animationState||(e.animationState=O4(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),ed(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let B4=0;class z4 extends is{constructor(){super(...arguments),this.id=B4++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:r}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===o)return;const a=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});t&&!e&&a.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const $4={animation:{Feature:F4},exit:{Feature:z4}},Fw=(n,e)=>Math.abs(n-e);function H4(n,e){const t=Fw(n.x,e.x),r=Fw(n.y,e.y);return Math.sqrt(t**2+r**2)}class k1{constructor(e,t,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=lp(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,I=H4(x.offset,{x:0,y:0})>=3;if(!E&&!I)return;const{point:D}=x,{timestamp:k}=Kt;this.history.push({...D,timestamp:k});const{onStart:A,onMove:z}=this.handlers;E||(A&&A(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),z&&z(this.lastMoveEvent,x)},this.handlePointerMove=(x,E)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=ap(E,this.transformPagePoint),et.update(this.updatePoint,!0)},this.handlePointerUp=(x,E)=>{this.end();const{onEnd:I,onSessionEnd:D,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=lp(x.type==="pointercancel"?this.lastMoveEventInfo:ap(E,this.transformPagePoint),this.history);this.startEvent&&I&&I(x,A),D&&D(x,A)},!qT(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=r,this.contextWindow=o||window;const u=rd(e),h=ap(u,this.transformPagePoint),{point:p}=h,{timestamp:m}=Kt;this.history=[{...p,timestamp:m}];const{onSessionStart:w}=t;w&&w(e,lp(h,this.history)),this.removeListeners=Qi(ei(this.contextWindow,"pointermove",this.handlePointerMove),ei(this.contextWindow,"pointerup",this.handlePointerUp),ei(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ai(this.updatePoint)}}function ap(n,e){return e?{point:e(n.point)}:n}function Bw(n,e){return{x:n.x-e.x,y:n.y-e.y}}function lp({point:n},e){return{point:n,delta:Bw(n,C1(e)),offset:Bw(n,W4(e)),velocity:q4(e,.1)}}function W4(n){return n[0]}function C1(n){return n[n.length-1]}function q4(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const o=C1(n);for(;t>=0&&(r=n[t],!(o.timestamp-r.timestamp>Hs(e)));)t--;if(!r)return{x:0,y:0};const a=ti(o.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const u={x:(o.x-r.x)/a,y:(o.y-r.y)/a};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function Tn(n){return n.max-n.min}function Jp(n,e=0,t=.01){return Math.abs(n-e)<=t}function zw(n,e,t,r=.5){n.origin=r,n.originPoint=lt(e.min,e.max,n.origin),n.scale=Tn(t)/Tn(e),(Jp(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=lt(t.min,t.max,n.origin)-n.originPoint,(Jp(n.translate)||isNaN(n.translate))&&(n.translate=0)}function zl(n,e,t,r){zw(n.x,e.x,t.x,r?r.originX:void 0),zw(n.y,e.y,t.y,r?r.originY:void 0)}function $w(n,e,t){n.min=t.min+e.min,n.max=n.min+Tn(e)}function G4(n,e,t){$w(n.x,e.x,t.x),$w(n.y,e.y,t.y)}function Hw(n,e,t){n.min=e.min-t.min,n.max=n.min+Tn(e)}function $l(n,e,t){Hw(n.x,e.x,t.x),Hw(n.y,e.y,t.y)}function K4(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?lt(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?lt(t,n,r.max):Math.min(n,t)),n}function Ww(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function Q4(n,{top:e,left:t,bottom:r,right:o}){return{x:Ww(n.x,t,o),y:Ww(n.y,e,r)}}function qw(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function Y4(n,e){return{x:qw(n.x,e.x),y:qw(n.y,e.y)}}function X4(n,e){let t=.5;const r=Tn(n),o=Tn(e);return o>r?t=su(e.min,e.max-r,n.min):r>o&&(t=su(n.min,n.max-o,e.min)),es(0,1,t)}function J4(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Zp=.35;function Z4(n=Zp){return n===!1?n=0:n===!0&&(n=Zp),{x:Gw(n,"left","right"),y:Gw(n,"top","bottom")}}function Gw(n,e,t){return{min:Kw(n,e),max:Kw(n,t)}}function Kw(n,e){return typeof n=="number"?n:n[e]||0}const Qw=()=>({translate:0,scale:1,origin:0,originPoint:0}),aa=()=>({x:Qw(),y:Qw()}),Yw=()=>({min:0,max:0}),xt=()=>({x:Yw(),y:Yw()});function Vn(n){return[n("x"),n("y")]}function N1({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function eL({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function tL(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function up(n){return n===void 0||n===1}function em({scale:n,scaleX:e,scaleY:t}){return!up(n)||!up(e)||!up(t)}function Ls(n){return em(n)||R1(n)||n.z||n.rotate||n.rotateX||n.rotateY}function R1(n){return Xw(n.x)||Xw(n.y)}function Xw(n){return n&&n!=="0%"}function Nh(n,e,t){const r=n-t,o=e*r;return t+o}function Jw(n,e,t,r,o){return o!==void 0&&(n=Nh(n,o,r)),Nh(n,t,r)+e}function tm(n,e=0,t=1,r,o){n.min=Jw(n.min,e,t,r,o),n.max=Jw(n.max,e,t,r,o)}function j1(n,{x:e,y:t}){tm(n.x,e.translate,e.scale,e.originPoint),tm(n.y,t.translate,t.scale,t.originPoint)}function nL(n,e,t,r=!1){const o=t.length;if(!o)return;e.x=e.y=1;let a,u;for(let h=0;h<o;h++){a=t[h],u=a.projectionDelta;const p=a.instance;p&&p.style&&p.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&la(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,j1(n,u)),r&&Ls(a.latestValues)&&la(n,a.latestValues))}e.x=Zw(e.x),e.y=Zw(e.y)}function Zw(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function Li(n,e){n.min=n.min+e,n.max=n.max+e}function ex(n,e,[t,r,o]){const a=e[o]!==void 0?e[o]:.5,u=lt(n.min,n.max,a);tm(n,e[t],e[r],u,e.scale)}const rL=["x","scaleX","originX"],iL=["y","scaleY","originY"];function la(n,e){ex(n.x,e,rL),ex(n.y,e,iL)}function D1(n,e){return N1(tL(n.getBoundingClientRect(),e))}function sL(n,e,t){const r=D1(n,t),{scroll:o}=e;return o&&(Li(r.x,o.offset.x),Li(r.y,o.offset.y)),r}const V1=({current:n})=>n?n.ownerDocument.defaultView:null,oL=new WeakMap;class aL{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=xt(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=w=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(rd(w,"page").point)},a=(w,x)=>{const{drag:E,dragPropagation:I,onDragStart:D}=this.getProps();if(E&&!I&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=KT(E),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vn(A=>{let z=this.getAxisMotionValue(A).get()||0;if(br.test(z)){const{projection:G}=this.visualElement;if(G&&G.layout){const O=G.layout.layoutBox[A];O&&(z=Tn(O)*(parseFloat(z)/100))}}this.originPoint[A]=z}),D&&et.update(()=>D(w,x),!1,!0);const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},u=(w,x)=>{const{dragPropagation:E,dragDirectionLock:I,onDirectionLock:D,onDrag:k}=this.getProps();if(!E&&!this.openGlobalLock)return;const{offset:A}=x;if(I&&this.currentDirection===null){this.currentDirection=lL(A),this.currentDirection!==null&&D&&D(this.currentDirection);return}this.updateAxis("x",x.point,A),this.updateAxis("y",x.point,A),this.visualElement.render(),k&&k(w,x)},h=(w,x)=>this.stop(w,x),p=()=>Vn(w=>{var x;return this.getAnimationState(w)==="paused"&&((x=this.getAxisMotionValue(w).animation)===null||x===void 0?void 0:x.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new k1(e,{onSessionStart:o,onStart:a,onMove:u,onSessionEnd:h,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:V1(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=t;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&et.update(()=>a(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:o}=this.getProps();if(!r||!qc(e,o,this.currentDirection))return;const a=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=K4(u,this.constraints[e],this.elastic[e])),a.set(u)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;t&&sa(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&o?this.constraints=Q4(o.layoutBox,t):this.constraints=!1,this.elastic=Z4(r),a!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Vn(u=>{this.getAxisMotionValue(u)&&(this.constraints[u]=J4(o.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!sa(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const a=sL(r,o.root,this.visualElement.getTransformPagePoint());let u=Y4(o.layout.layoutBox,a);if(t){const h=t(eL(u));this.hasMutatedConstraints=!!h,h&&(u=N1(h))}return u}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:o,dragTransition:a,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),p=this.constraints||{},m=Vn(w=>{if(!qc(w,t,this.currentDirection))return;let x=p&&p[w]||{};u&&(x={min:0,max:0});const E=o?200:1e6,I=o?40:1e7,D={type:"inertia",velocity:r?e[w]:0,bounceStiffness:E,bounceDamping:I,timeConstant:750,restDelta:1,restSpeed:10,...a,...x};return this.startAxisValueAnimation(w,D)});return Promise.all(m).then(h)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return r.start(Tg(e,r,0,t))}stopAnimation(){Vn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Vn(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),o=r[t];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Vn(t=>{const{drag:r}=this.getProps();if(!qc(t,r,this.currentDirection))return;const{projection:o}=this.visualElement,a=this.getAxisMotionValue(t);if(o&&o.layout){const{min:u,max:h}=o.layout.layoutBox[t];a.set(e[t]-lt(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!sa(t)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Vn(u=>{const h=this.getAxisMotionValue(u);if(h){const p=h.get();o[u]=X4({min:p,max:p},this.constraints[u])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Vn(u=>{if(!qc(u,e,null))return;const h=this.getAxisMotionValue(u),{min:p,max:m}=this.constraints[u];h.set(lt(p,m,o[u]))})}addListeners(){if(!this.visualElement.current)return;oL.set(this.visualElement,this);const e=this.visualElement.current,t=ei(e,"pointerdown",p=>{const{drag:m,dragListener:w=!0}=this.getProps();m&&w&&this.start(p)}),r=()=>{const{dragConstraints:p}=this.getProps();sa(p)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,a=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),r();const u=Jr(window,"resize",()=>this.scalePositionWithinConstraints()),h=o.addEventListener("didUpdate",({delta:p,hasLayoutChanged:m})=>{this.isDragging&&m&&(Vn(w=>{const x=this.getAxisMotionValue(w);x&&(this.originPoint[w]+=p[w].translate,x.set(x.get()+p[w].translate))}),this.visualElement.render())});return()=>{u(),t(),a(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:a=!1,dragElastic:u=Zp,dragMomentum:h=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:o,dragConstraints:a,dragElastic:u,dragMomentum:h}}}function qc(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function lL(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class uL extends is{constructor(e){super(e),this.removeGroupControls=mt,this.removeListeners=mt,this.controls=new aL(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||mt}unmount(){this.removeGroupControls(),this.removeListeners()}}const tx=n=>(e,t)=>{n&&et.update(()=>n(e,t))};class cL extends is{constructor(){super(...arguments),this.removePointerDownListener=mt}onPointerDown(e){this.session=new k1(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:V1(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:tx(e),onStart:tx(t),onMove:r,onEnd:(a,u)=>{delete this.session,o&&et.update(()=>o(a,u))}}}mount(){this.removePointerDownListener=ei(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function hL(){const n=j.useContext(Jh);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:r}=n,o=j.useId();return j.useEffect(()=>r(o),[]),!e&&t?[!1,()=>t&&t(o)]:[!0]}const ih={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function nx(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Pl={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Te.test(n))n=parseFloat(n);else return n;const t=nx(n,e.target.x),r=nx(n,e.target.y);return`${t}% ${r}%`}},dL={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,o=ts.parse(n);if(o.length>5)return r;const a=ts.createTransformer(n),u=typeof o[0]!="number"?1:0,h=t.x.scale*e.x,p=t.y.scale*e.y;o[0+u]/=h,o[1+u]/=p;const m=lt(h,p,.5);return typeof o[2+u]=="number"&&(o[2+u]/=m),typeof o[3+u]=="number"&&(o[3+u]/=m),a(o)}};class fL extends Rh.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:o}=this.props,{projection:a}=e;xD(pL),a&&(t.group&&t.group.add(a),r&&r.register&&o&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),ih.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:o,isPresent:a}=this.props,u=r.projection;return u&&(u.isPresent=a,o||e.layoutDependency!==t||t===void 0?u.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?u.promote():u.relegate()||et.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function L1(n){const[e,t]=hL(),r=j.useContext(ug);return Rh.createElement(fL,{...n,layoutGroup:r,switchLayoutGroup:j.useContext(NT),isPresent:e,safeToRemove:t})}const pL={borderRadius:{...Pl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Pl,borderTopRightRadius:Pl,borderBottomLeftRadius:Pl,borderBottomRightRadius:Pl,boxShadow:dL},O1=["TopLeft","TopRight","BottomLeft","BottomRight"],mL=O1.length,rx=n=>typeof n=="string"?parseFloat(n):n,ix=n=>typeof n=="number"||Te.test(n);function gL(n,e,t,r,o,a){o?(n.opacity=lt(0,t.opacity!==void 0?t.opacity:1,yL(r)),n.opacityExit=lt(e.opacity!==void 0?e.opacity:1,0,vL(r))):a&&(n.opacity=lt(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let u=0;u<mL;u++){const h=`border${O1[u]}Radius`;let p=sx(e,h),m=sx(t,h);if(p===void 0&&m===void 0)continue;p||(p=0),m||(m=0),p===0||m===0||ix(p)===ix(m)?(n[h]=Math.max(lt(rx(p),rx(m),r),0),(br.test(m)||br.test(p))&&(n[h]+="%")):n[h]=m}(e.rotate||t.rotate)&&(n.rotate=lt(e.rotate||0,t.rotate||0,r))}function sx(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const yL=M1(0,.5,o1),vL=M1(.5,.95,mt);function M1(n,e,t){return r=>r<n?0:r>e?1:t(su(n,e,r))}function ox(n,e){n.min=e.min,n.max=e.max}function Dn(n,e){ox(n.x,e.x),ox(n.y,e.y)}function ax(n,e,t,r,o){return n-=e,n=Nh(n,1/t,r),o!==void 0&&(n=Nh(n,1/o,r)),n}function wL(n,e=0,t=1,r=.5,o,a=n,u=n){if(br.test(e)&&(e=parseFloat(e),e=lt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=lt(a.min,a.max,r);n===a&&(h-=e),n.min=ax(n.min,e,t,h,o),n.max=ax(n.max,e,t,h,o)}function lx(n,e,[t,r,o],a,u){wL(n,e[t],e[r],e[o],e.scale,a,u)}const xL=["x","scaleX","originX"],_L=["y","scaleY","originY"];function ux(n,e,t,r){lx(n.x,e,xL,t?t.x:void 0,r?r.x:void 0),lx(n.y,e,_L,t?t.y:void 0,r?r.y:void 0)}function cx(n){return n.translate===0&&n.scale===1}function U1(n){return cx(n.x)&&cx(n.y)}function EL(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function F1(n,e){return Math.round(n.x.min)===Math.round(e.x.min)&&Math.round(n.x.max)===Math.round(e.x.max)&&Math.round(n.y.min)===Math.round(e.y.min)&&Math.round(n.y.max)===Math.round(e.y.max)}function hx(n){return Tn(n.x)/Tn(n.y)}class TL{constructor(){this.members=[]}add(e){Sg(this.members,e),e.scheduleRender()}remove(e){if(Ig(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(o=>e===o);if(t===0)return!1;let r;for(let o=t;o>=0;o--){const a=this.members[o];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function dx(n,e,t){let r="";const o=n.x.translate/e.x,a=n.y.translate/e.y;if((o||a)&&(r=`translate3d(${o}px, ${a}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:p,rotateX:m,rotateY:w}=t;p&&(r+=`rotate(${p}deg) `),m&&(r+=`rotateX(${m}deg) `),w&&(r+=`rotateY(${w}deg) `)}const u=n.x.scale*e.x,h=n.y.scale*e.y;return(u!==1||h!==1)&&(r+=`scale(${u}, ${h})`),r||"none"}const SL=(n,e)=>n.depth-e.depth;class IL{constructor(){this.children=[],this.isDirty=!1}add(e){Sg(this.children,e),this.isDirty=!0}remove(e){Ig(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(SL),this.isDirty=!1,this.children.forEach(e)}}function bL(n,e){const t=performance.now(),r=({timestamp:o})=>{const a=o-t;a>=e&&(ai(r),n(a-e))};return et.read(r,!0),()=>ai(r)}function PL(n){window.MotionDebug&&window.MotionDebug.record(n)}function AL(n){return n instanceof SVGElement&&n.tagName!=="svg"}function kL(n,e,t){const r=pn(n)?n:_a(n);return r.start(Tg("",r,e,t)),r.animation}const fx=["","X","Y","Z"],CL={visibility:"hidden"},px=1e3;let NL=0;const Os={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function B1({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(u={},h=e?.()){this.id=NL++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Os.totalNodes=Os.resolvedTargetDeltas=Os.recalculatedProjection=0,this.nodes.forEach(DL),this.nodes.forEach(UL),this.nodes.forEach(FL),this.nodes.forEach(VL),PL(Os)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new IL)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new bg),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const p=this.eventHandlers.get(u);p&&p.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=AL(u),this.instance=u;const{layoutId:p,layout:m,visualElement:w}=this.options;if(w&&!w.current&&w.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(m||p)&&(this.isLayoutDirty=!0),n){let x;const E=()=>this.root.updateBlockedByResize=!1;n(u,()=>{this.root.updateBlockedByResize=!0,x&&x(),x=bL(E,250),ih.hasAnimatedSinceResize&&(ih.hasAnimatedSinceResize=!1,this.nodes.forEach(gx))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&w&&(p||m)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:E,hasRelativeTargetChanged:I,layout:D})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||w.getDefaultTransition()||WL,{onLayoutAnimationStart:A,onLayoutAnimationComplete:z}=w.getProps(),G=!this.targetLayout||!F1(this.targetLayout,D)||I,O=!E&&I;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||O||E&&(G||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(x,O);const Y={...Eg(k,"layout"),onPlay:A,onComplete:z};(w.shouldReduceMotion||this.options.layoutRoot)&&(Y.delay=0,Y.type=!1),this.startAnimation(Y)}else E||gx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=D})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ai(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(BL),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let w=0;w<this.path.length;w++){const x=this.path[w];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:h,layout:p}=this.options;if(h===void 0&&!p)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(mx);return}this.isUpdating||this.nodes.forEach(OL),this.isUpdating=!1,this.nodes.forEach(ML),this.nodes.forEach(RL),this.nodes.forEach(jL),this.clearAllSnapshots();const h=performance.now();Kt.delta=es(0,1e3/60,h-Kt.timestamp),Kt.timestamp=h,Kt.isProcessing=!0,Zf.update.process(Kt),Zf.preRender.process(Kt),Zf.render.process(Kt),Kt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(LL),this.sharedNodes.forEach(zL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,et.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){et.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=xt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&(this.scroll={animationId:this.root.animationId,phase:u,isRoot:r(this.instance),offset:t(this.instance)})}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform,h=this.projectionDelta&&!U1(this.projectionDelta),p=this.getTransformTemplate(),m=p?p(this.latestValues,""):void 0,w=m!==this.prevTransformTemplateValue;u&&(h||Ls(this.latestValues)||w)&&(o(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let p=this.removeElementScroll(h);return u&&(p=this.removeTransform(p)),qL(p),{animationId:this.root.animationId,measuredBox:h,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return xt();const h=u.measureViewportBox(),{scroll:p}=this.root;return p&&(Li(h.x,p.offset.x),Li(h.y,p.offset.y)),h}removeElementScroll(u){const h=xt();Dn(h,u);for(let p=0;p<this.path.length;p++){const m=this.path[p],{scroll:w,options:x}=m;if(m!==this.root&&w&&x.layoutScroll){if(w.isRoot){Dn(h,u);const{scroll:E}=this.root;E&&(Li(h.x,-E.offset.x),Li(h.y,-E.offset.y))}Li(h.x,w.offset.x),Li(h.y,w.offset.y)}}return h}applyTransform(u,h=!1){const p=xt();Dn(p,u);for(let m=0;m<this.path.length;m++){const w=this.path[m];!h&&w.options.layoutScroll&&w.scroll&&w!==w.root&&la(p,{x:-w.scroll.offset.x,y:-w.scroll.offset.y}),Ls(w.latestValues)&&la(p,w.latestValues)}return Ls(this.latestValues)&&la(p,this.latestValues),p}removeTransform(u){const h=xt();Dn(h,u);for(let p=0;p<this.path.length;p++){const m=this.path[p];if(!m.instance||!Ls(m.latestValues))continue;em(m.latestValues)&&m.updateSnapshot();const w=xt(),x=m.measurePageBox();Dn(w,x),ux(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,w)}return Ls(this.latestValues)&&ux(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Kt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var h;const p=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=p.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=p.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=p.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==p;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:x,layoutId:E}=this.options;if(!(!this.layout||!(x||E))){if(this.resolvedRelativeTargetAt=Kt.timestamp,!this.targetDelta&&!this.relativeTarget){const I=this.getClosestProjectingParent();I&&I.layout&&this.animationProgress!==1?(this.relativeParent=I,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xt(),this.relativeTargetOrigin=xt(),$l(this.relativeTargetOrigin,this.layout.layoutBox,I.layout.layoutBox),Dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=xt(),this.targetWithTransforms=xt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),G4(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Dn(this.target,this.layout.layoutBox),j1(this.target,this.targetDelta)):Dn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const I=this.getClosestProjectingParent();I&&!!I.resumingFrom==!!this.resumingFrom&&!I.options.layoutScroll&&I.target&&this.animationProgress!==1?(this.relativeParent=I,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xt(),this.relativeTargetOrigin=xt(),$l(this.relativeTargetOrigin,this.target,I.target),Dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Os.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||em(this.parent.latestValues)||R1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const h=this.getLead(),p=!!this.resumingFrom||this!==h;let m=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(m=!1),p&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Kt.timestamp&&(m=!1),m)return;const{layout:w,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(w||x))return;Dn(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,I=this.treeScale.y;nL(this.layoutCorrected,this.treeScale,this.path,p),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox);const{target:D}=h;if(!D){this.projectionTransform&&(this.projectionDelta=aa(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=aa(),this.projectionDeltaWithTransform=aa());const k=this.projectionTransform;zl(this.projectionDelta,this.layoutCorrected,D,this.latestValues),this.projectionTransform=dx(this.projectionDelta,this.treeScale),(this.projectionTransform!==k||this.treeScale.x!==E||this.treeScale.y!==I)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",D)),Os.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(u,h=!1){const p=this.snapshot,m=p?p.latestValues:{},w={...this.latestValues},x=aa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const E=xt(),I=p?p.source:void 0,D=this.layout?this.layout.source:void 0,k=I!==D,A=this.getStack(),z=!A||A.members.length<=1,G=!!(k&&!z&&this.options.crossfade===!0&&!this.path.some(HL));this.animationProgress=0;let O;this.mixTargetDelta=Y=>{const Z=Y/1e3;yx(x.x,u.x,Z),yx(x.y,u.y,Z),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&($l(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),$L(this.relativeTarget,this.relativeTargetOrigin,E,Z),O&&EL(this.relativeTarget,O)&&(this.isProjectionDirty=!1),O||(O=xt()),Dn(O,this.relativeTarget)),k&&(this.animationValues=w,gL(w,m,this.latestValues,Z,G,z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ai(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=et.update(()=>{ih.hasAnimatedSinceResize=!0,this.currentAnimation=kL(0,px,{...u,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(px),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:p,layout:m,latestValues:w}=u;if(!(!h||!p||!m)){if(this!==u&&this.layout&&m&&z1(this.options.animationType,this.layout.layoutBox,m.layoutBox)){p=this.target||xt();const x=Tn(this.layout.layoutBox.x);p.x.min=u.target.x.min,p.x.max=p.x.min+x;const E=Tn(this.layout.layoutBox.y);p.y.min=u.target.y.min,p.y.max=p.y.min+E}Dn(h,p),la(h,w),zl(this.projectionDeltaWithTransform,this.layoutCorrected,h,w)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new TL),this.sharedNodes.get(u).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:h}=this.options;return h?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:h}=this.options;return h?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:p}={}){const m=this.getStack();m&&m.promote(this,p),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:p}=u;if((p.rotate||p.rotateX||p.rotateY||p.rotateZ)&&(h=!0),!h)return;const m={};for(let w=0;w<fx.length;w++){const x="rotate"+fx[w];p[x]&&(m[x]=p[x],u.setStaticValue(x,0))}u.render();for(const w in m)u.setStaticValue(w,m[w]);u.scheduleRender()}getProjectionStyles(u){var h,p;if(!this.instance||this.isSVG)return;if(!this.isVisible)return CL;const m={visibility:""},w=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=rh(u?.pointerEvents)||"",m.transform=w?w(this.latestValues,""):"none",m;const x=this.getLead();if(!this.projectionDelta||!this.layout||!x.target){const k={};return this.options.layoutId&&(k.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,k.pointerEvents=rh(u?.pointerEvents)||""),this.hasProjected&&!Ls(this.latestValues)&&(k.transform=w?w({},""):"none",this.hasProjected=!1),k}const E=x.animationValues||x.latestValues;this.applyTransformsToTarget(),m.transform=dx(this.projectionDeltaWithTransform,this.treeScale,E),w&&(m.transform=w(E,m.transform));const{x:I,y:D}=this.projectionDelta;m.transformOrigin=`${I.origin*100}% ${D.origin*100}% 0`,x.animationValues?m.opacity=x===this?(p=(h=E.opacity)!==null&&h!==void 0?h:this.latestValues.opacity)!==null&&p!==void 0?p:1:this.preserveOpacity?this.latestValues.opacity:E.opacityExit:m.opacity=x===this?E.opacity!==void 0?E.opacity:"":E.opacityExit!==void 0?E.opacityExit:0;for(const k in Sh){if(E[k]===void 0)continue;const{correct:A,applyTo:z}=Sh[k],G=m.transform==="none"?E[k]:A(E[k],x);if(z){const O=z.length;for(let Y=0;Y<O;Y++)m[z[Y]]=G}else m[k]=G}return this.options.layoutId&&(m.pointerEvents=x===this?rh(u?.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var h;return(h=u.currentAnimation)===null||h===void 0?void 0:h.stop()}),this.root.nodes.forEach(mx),this.root.sharedNodes.clear()}}}function RL(n){n.updateLayout()}function jL(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=n.layout,{animationType:a}=n.options,u=t.source!==n.layout.source;a==="size"?Vn(x=>{const E=u?t.measuredBox[x]:t.layoutBox[x],I=Tn(E);E.min=r[x].min,E.max=E.min+I}):z1(a,t.layoutBox,r)&&Vn(x=>{const E=u?t.measuredBox[x]:t.layoutBox[x],I=Tn(r[x]);E.max=E.min+I,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[x].max=n.relativeTarget[x].min+I)});const h=aa();zl(h,r,t.layoutBox);const p=aa();u?zl(p,n.applyTransform(o,!0),t.measuredBox):zl(p,r,t.layoutBox);const m=!U1(h);let w=!1;if(!n.resumeFrom){const x=n.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:E,layout:I}=x;if(E&&I){const D=xt();$l(D,t.layoutBox,E.layoutBox);const k=xt();$l(k,r,I.layoutBox),F1(D,k)||(w=!0),x.options.layoutRoot&&(n.relativeTarget=k,n.relativeTargetOrigin=D,n.relativeParent=x)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:p,layoutDelta:h,hasLayoutChanged:m,hasRelativeTargetChanged:w})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function DL(n){Os.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function VL(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function LL(n){n.clearSnapshot()}function mx(n){n.clearMeasurements()}function OL(n){n.isLayoutDirty=!1}function ML(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function gx(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function UL(n){n.resolveTargetDelta()}function FL(n){n.calcProjection()}function BL(n){n.resetRotation()}function zL(n){n.removeLeadSnapshot()}function yx(n,e,t){n.translate=lt(e.translate,0,t),n.scale=lt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function vx(n,e,t,r){n.min=lt(e.min,t.min,r),n.max=lt(e.max,t.max,r)}function $L(n,e,t,r){vx(n.x,e.x,t.x,r),vx(n.y,e.y,t.y,r)}function HL(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const WL={duration:.45,ease:[.4,0,.1,1]},wx=n=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(n),xx=wx("applewebkit/")&&!wx("chrome/")?Math.round:mt;function _x(n){n.min=xx(n.min),n.max=xx(n.max)}function qL(n){_x(n.x),_x(n.y)}function z1(n,e,t){return n==="position"||n==="preserve-aspect"&&!Jp(hx(e),hx(t),.2)}const GL=B1({attachResizeListener:(n,e)=>Jr(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),cp={current:void 0},$1=B1({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!cp.current){const n=new GL({});n.mount(window),n.setOptions({layoutScroll:!0}),cp.current=n}return cp.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),KL={pan:{Feature:cL},drag:{Feature:uL,ProjectionNode:$1,MeasureLayout:L1}},QL=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function YL(n){const e=QL.exec(n);if(!e)return[,];const[,t,r]=e;return[t,r]}function nm(n,e,t=1){const[r,o]=YL(n);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const u=a.trim();return I1(u)?parseFloat(u):u}else return Wp(o)?nm(o,e,t+1):o}function XL(n,{...e},t){const r=n.current;if(!(r instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(o=>{const a=o.get();if(!Wp(a))return;const u=nm(a,r);u&&o.set(u)});for(const o in e){const a=e[o];if(!Wp(a))continue;const u=nm(a,r);u&&(e[o]=u,t||(t={}),t[o]===void 0&&(t[o]=a))}return{target:e,transitionEnd:t}}const JL=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),H1=n=>JL.has(n),ZL=n=>Object.keys(n).some(H1),Ex=n=>n===oo||n===Te,Tx=(n,e)=>parseFloat(n.split(", ")[e]),Sx=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/);if(o)return Tx(o[1],e);{const a=r.match(/^matrix\((.+)\)$/);return a?Tx(a[1],n):0}},eO=new Set(["x","y","z"]),tO=vu.filter(n=>!eO.has(n));function nO(n){const e=[];return tO.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const Ea={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:Sx(4,13),y:Sx(5,14)};Ea.translateX=Ea.x;Ea.translateY=Ea.y;const rO=(n,e,t)=>{const r=e.measureViewportBox(),o=e.current,a=getComputedStyle(o),{display:u}=a,h={};u==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(m=>{h[m]=Ea[m](r,a)}),e.render();const p=e.measureViewportBox();return t.forEach(m=>{const w=e.getValue(m);w&&w.jump(h[m]),n[m]=Ea[m](p,a)}),n},iO=(n,e,t={},r={})=>{e={...e},r={...r};const o=Object.keys(e).filter(H1);let a=[],u=!1;const h=[];if(o.forEach(p=>{const m=n.getValue(p);if(!n.hasValue(p))return;let w=t[p],x=bl(w);const E=e[p];let I;if(bh(E)){const D=E.length,k=E[0]===null?1:0;w=E[k],x=bl(w);for(let A=k;A<D&&E[A]!==null;A++)I?yg(bl(E[A])===I):I=bl(E[A])}else I=bl(E);if(x!==I)if(Ex(x)&&Ex(I)){const D=m.get();typeof D=="string"&&m.set(parseFloat(D)),typeof E=="string"?e[p]=parseFloat(E):Array.isArray(E)&&I===Te&&(e[p]=E.map(parseFloat))}else x?.transform&&I?.transform&&(w===0||E===0)?w===0?m.set(I.transform(w)):e[p]=x.transform(E):(u||(a=nO(n),u=!0),h.push(p),r[p]=r[p]!==void 0?r[p]:e[p],m.jump(E))}),h.length){const p=h.indexOf("height")>=0?window.pageYOffset:null,m=rO(e,n,h);return a.length&&a.forEach(([w,x])=>{n.getValue(w).set(x)}),n.render(),Zh&&p!==null&&window.scrollTo({top:p}),{target:m,transitionEnd:r}}else return{target:e,transitionEnd:r}};function sO(n,e,t,r){return ZL(e)?iO(n,e,t,r):{target:e,transitionEnd:r}}const oO=(n,e,t,r)=>{const o=XL(n,e,r);return e=o.target,r=o.transitionEnd,sO(n,e,t,r)},rm={current:null},W1={current:!1};function aO(){if(W1.current=!0,!!Zh)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>rm.current=n.matches;n.addListener(e),e()}else rm.current=!1}function lO(n,e,t){const{willChange:r}=e;for(const o in e){const a=e[o],u=t[o];if(pn(a))n.addValue(o,a),Ch(r)&&r.add(o);else if(pn(u))n.addValue(o,_a(a,{owner:n})),Ch(r)&&r.remove(o);else if(u!==a)if(n.hasValue(o)){const h=n.getValue(o);!h.hasAnimated&&h.set(a)}else{const h=n.getStaticValue(o);n.addValue(o,_a(h!==void 0?h:a,{owner:n}))}}for(const o in t)e[o]===void 0&&n.removeValue(o);return e}const Ix=new WeakMap,q1=Object.keys(iu),uO=q1.length,bx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],cO=lg.length;class hO{constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:o,visualState:a},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>et.render(this.render,!1,!0);const{latestValues:h,renderState:p}=a;this.latestValues=h,this.baseTarget={...h},this.initialValues=t.initial?{...h}:{},this.renderState=p,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=u,this.isControllingVariants=td(t),this.isVariantNode=CT(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...w}=this.scrapeMotionValuesFromProps(t,{});for(const x in w){const E=w[x];h[x]!==void 0&&pn(E)&&(E.set(h[x],!1),Ch(m)&&m.add(x))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,Ix.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),W1.current||aO(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:rm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Ix.delete(this.current),this.projection&&this.projection.unmount(),ai(this.notifyUpdate),ai(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const r=so.has(e),o=t.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&et.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{o(),a()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},r,o,a){let u,h;for(let p=0;p<uO;p++){const m=q1[p],{isEnabled:w,Feature:x,ProjectionNode:E,MeasureLayout:I}=iu[m];E&&(u=E),w(t)&&(!this.features[m]&&x&&(this.features[m]=new x(this)),I&&(h=I))}if((this.type==="html"||this.type==="svg")&&!this.projection&&u){this.projection=new u(this.latestValues,this.parent&&this.parent.projection);const{layoutId:p,layout:m,drag:w,dragConstraints:x,layoutScroll:E,layoutRoot:I}=t;this.projection.setOptions({layoutId:p,layout:m,alwaysMeasureLayout:!!w||x&&sa(x),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof m=="string"?m:"both",initialPromotionConfig:a,layoutScroll:E,layoutRoot:I})}return h}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):xt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<bx.length;r++){const o=bx[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const a=e["on"+o];a&&(this.propEventSubscriptions[o]=this.on(o,a))}this.prevMotionValues=lO(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const t={};for(let r=0;r<cO;r++){const o=lg[r],a=this.props[o];(ru(a)||a===!1)&&(t[o]=a)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=_a(t,{owner:this}),this.addValue(e,r)),r}readValue(e){var t;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(t=this.getBaseTargetFromProps(this.props,e))!==null&&t!==void 0?t:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props,o=typeof r=="string"||typeof r=="object"?(t=gg(this.props,r))===null||t===void 0?void 0:t[e]:void 0;if(r&&o!==void 0)return o;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!pn(a)?a:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new bg),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class G1 extends hO{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...r},{transformValues:o},a){let u=A4(r,e||{},this);if(o&&(t&&(t=o(t)),r&&(r=o(r)),u&&(u=o(u))),a){b4(this,r,u);const h=oO(this,r,u,t);t=h.transitionEnd,r=h.target}return{transition:e,transitionEnd:t,...r}}}function dO(n){return window.getComputedStyle(n)}class fO extends G1{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(so.has(t)){const r=_g(t);return r&&r.default||0}else{const r=dO(e),o=(DT(t)?r.getPropertyValue(t):r[t])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:t}){return D1(e,t)}build(e,t,r,o){hg(e,t,r,o.transformTemplate)}scrapeMotionValuesFromProps(e,t){return mg(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;pn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,r,o){FT(e,t,r,o)}}class pO extends G1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(so.has(t)){const r=_g(t);return r&&r.default||0}return t=BT.has(t)?t:og(t),e.getAttribute(t)}measureInstanceViewportBox(){return xt()}scrapeMotionValuesFromProps(e,t){return $T(e,t)}build(e,t,r,o){fg(e,t,r,this.isSVGTag,o.transformTemplate)}renderInstance(e,t,r,o){zT(e,t,r,o)}mount(e){this.isSVGTag=pg(e.tagName),super.mount(e)}}const mO=(n,e)=>cg(n)?new pO(e,{enableHardwareAcceleration:!1}):new fO(e,{enableHardwareAcceleration:!0}),gO={layout:{ProjectionNode:$1,MeasureLayout:L1}},yO={...$4,...uV,...KL,...gO},De=vD((n,e)=>YD(n,e,yO,mO));function K1(){const n=j.useRef(!1);return sg(()=>(n.current=!0,()=>{n.current=!1}),[]),n}function vO(){const n=K1(),[e,t]=j.useState(0),r=j.useCallback(()=>{n.current&&t(e+1)},[e]);return[j.useCallback(()=>et.postRender(r),[r]),e]}class wO extends j.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function xO({children:n,isPresent:e}){const t=j.useId(),r=j.useRef(null),o=j.useRef({width:0,height:0,top:0,left:0});return j.useInsertionEffect(()=>{const{width:a,height:u,top:h,left:p}=o.current;if(e||!r.current||!a||!u)return;r.current.dataset.motionPopId=t;const m=document.createElement("style");return document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${u}px !important;
            top: ${h}px !important;
            left: ${p}px !important;
          }
        `),()=>{document.head.removeChild(m)}},[e]),j.createElement(wO,{isPresent:e,childRef:r,sizeRef:o},j.cloneElement(n,{ref:r}))}const hp=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:o,presenceAffectsLayout:a,mode:u})=>{const h=HT(_O),p=j.useId(),m=j.useMemo(()=>({id:p,initial:e,isPresent:t,custom:o,onExitComplete:w=>{h.set(w,!0);for(const x of h.values())if(!x)return;r&&r()},register:w=>(h.set(w,!1),()=>h.delete(w))}),a?void 0:[t]);return j.useMemo(()=>{h.forEach((w,x)=>h.set(x,!1))},[t]),j.useEffect(()=>{!t&&!h.size&&r&&r()},[t]),u==="popLayout"&&(n=j.createElement(xO,{isPresent:t},n)),j.createElement(Jh.Provider,{value:m},n)};function _O(){return new Map}function EO(n){return j.useEffect(()=>()=>n(),[])}const Ms=n=>n.key||"";function TO(n,e){n.forEach(t=>{const r=Ms(t);e.set(r,t)})}function SO(n){const e=[];return j.Children.forEach(n,t=>{j.isValidElement(t)&&e.push(t)}),e}const IO=({children:n,custom:e,initial:t=!0,onExitComplete:r,exitBeforeEnter:o,presenceAffectsLayout:a=!0,mode:u="sync"})=>{const h=j.useContext(ug).forceRender||vO()[0],p=K1(),m=SO(n);let w=m;const x=j.useRef(new Map).current,E=j.useRef(w),I=j.useRef(new Map).current,D=j.useRef(!0);if(sg(()=>{D.current=!1,TO(m,I),E.current=w}),EO(()=>{D.current=!0,I.clear(),x.clear()}),D.current)return j.createElement(j.Fragment,null,w.map(G=>j.createElement(hp,{key:Ms(G),isPresent:!0,initial:t?void 0:!1,presenceAffectsLayout:a,mode:u},G)));w=[...w];const k=E.current.map(Ms),A=m.map(Ms),z=k.length;for(let G=0;G<z;G++){const O=k[G];A.indexOf(O)===-1&&!x.has(O)&&x.set(O,void 0)}return u==="wait"&&x.size&&(w=[]),x.forEach((G,O)=>{if(A.indexOf(O)!==-1)return;const Y=I.get(O);if(!Y)return;const Z=k.indexOf(O);let se=G;if(!se){const R=()=>{x.delete(O);const b=Array.from(I.keys()).filter(P=>!A.includes(P));if(b.forEach(P=>I.delete(P)),E.current=m.filter(P=>{const V=Ms(P);return V===O||b.includes(V)}),!x.size){if(p.current===!1)return;h(),r&&r()}};se=j.createElement(hp,{key:Ms(Y),isPresent:!1,onExitComplete:R,custom:e,presenceAffectsLayout:a,mode:u},Y),x.set(O,se)}w.splice(Z,0,se)}),w=w.map(G=>{const O=G.key;return x.has(O)?G:j.createElement(hp,{key:Ms(G),isPresent:!0,presenceAffectsLayout:a,mode:u},G)}),j.createElement(j.Fragment,null,x.size?w:w.map(G=>j.cloneElement(G)))},bO="",Gc=new Map;class PO{constructor(){this.baseURL=bO}async getAuthToken(){return ra.currentUser?await ra.currentUser.getIdToken():null}async request(e,t={}){const r=`${this.baseURL}/api${e}`,o=await this.getAuthToken(),a={"Content-Type":"application/json",...t.headers};o&&(a.Authorization=`Bearer ${o}`);const u={...t,headers:a};try{const h=await fetch(r,u);if(!h.ok){const p=await h.json().catch(()=>({}));throw new Error(p.error||`HTTP ${h.status}`)}return await h.json()}catch(h){throw console.error(`API request failed: ${e}`,h),h}}async getGlyphs(e={}){const t=new URLSearchParams;Object.entries(e).forEach(([a,u])=>{u!=null&&u!==""&&t.append(a,u.toString())});const r=`/get-glyphs${t.toString()?"?"+t.toString():""}`;return(await this.request(r)).glyphs}async getGlyph(e){return(await this.request(`/get-glyph/${e}`)).glyph}async uploadGlyph(e){return await this.request("/upload-glyph",{method:"POST",body:JSON.stringify(e)})}async updateGlyph(e,t){return await this.request(`/update-glyph/${e}`,{method:"PUT",body:JSON.stringify(t)})}async deleteGlyph(e){return await this.request(`/delete-glyph/${e}`,{method:"DELETE"})}async uploadFile(e,t="images"){const r=new FormData;r.append("file",e),r.append("type",t);const o=await this.getAuthToken(),u=await fetch("/api/upload-file",{method:"POST",headers:{Authorization:o?`Bearer ${o}`:""},body:r});if(!u.ok){const h=await u.json();throw new Error(h.error||"Failed to upload file")}return await u.json()}async deleteFile(e,t){return await this.request("/delete-file",{method:"DELETE",body:JSON.stringify({filename:e,type:t})})}getFileUrl(e,t){return`/api/files/${e}/${t}`}cleanImageUrl(e){if(!e)return e;if(Gc.has(e))return Gc.get(e);let t=e;if(e.startsWith("/api/files/"))return Gc.set(e,t),t;if(e.includes("://")){if(e.includes("127.0.0.1:5000")||e.includes("localhost:5000")){const r=e.match(/\/api\/files\/.*$/);r&&(t=r[0])}else if(e.includes("glyphmart.andreibanu.com")){const r=e.match(/\/api\/files\/.*$/);r&&(t=r[0])}}return Gc.set(e,t),t}async recordView(e){try{return(await this.request("/record-view",{method:"POST",body:JSON.stringify({glyphId:e})})).recorded}catch(t){return console.error("Failed to record view:",t),!1}}async recordDownload(e){try{return(await this.request("/record-download",{method:"POST",body:JSON.stringify({glyphId:e})})).recorded}catch(t){return console.error("Failed to record download:",t),!1}}async toggleLike(e){const t=await this.request("/toggle-like",{method:"POST",body:JSON.stringify({glyphId:e})});return{liked:t.liked,totalLikes:t.totalLikes}}async checkLikeStatus(e){return(await this.request(`/check-like-status?glyphId=${e}`)).liked}async getUserLikes(){return(await this.request("/get-user-likes")).glyphs}async getUser(e){return(await this.request(`/get-user/${e}`)).user}async getUserByUsername(e){return(await this.request(`/get-user-by-username/${e}`)).user}async updateUser(e){return await this.request("/update-user",{method:"POST",body:JSON.stringify(e)})}async deleteUserData(){return await this.request("/delete-user-data",{method:"DELETE"})}async healthCheck(){return await this.request("/health")}async getAdminStats(){return await this.request("/admin/stats")}async getAllUsers(){return(await this.request("/admin/users")).users}async adminUpdateUser(e,t){return await this.request(`/admin/users/${e}`,{method:"PUT",body:JSON.stringify(t)})}async makeUserAdmin(e){return await this.request(`/admin/make-admin/${e}`,{method:"POST"})}async addAdminByEmail(e){return await this.request("/admin/add-admin",{method:"POST",body:JSON.stringify({email:e})})}async adminDeleteGlyph(e){return await this.request(`/admin/glyphs/${e}`,{method:"DELETE"})}}const Xe=new PO,fn=n=>Xe.cleanImageUrl(n),AO=()=>{const[n,e]=j.useState(!1),[t,r]=j.useState(""),{currentUser:o,userProfile:a,logout:u}=Nr(),h=ar(),p=Zs(),m=o?.uid==="9H3pw5zS6GRDFTZaoYspEmruORj2"||a?.isAdmin===!0,w=async()=>{try{await u(),h("/")}catch(E){console.error("Failed to log out:",E)}},x=E=>{E.preventDefault(),t.trim()&&h(`/search?q=${encodeURIComponent(t.trim())}`)};return f.jsxs("nav",{className:"bg-nothing-black border-b border-nothing-gray-800 sticky top-0 z-50",children:[f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs("div",{className:"flex justify-between items-center h-16",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsxs(Ge,{to:"/",className:"flex items-center space-x-2",children:[f.jsx("div",{className:"w-8 h-8 bg-nothing-red rounded-full flex items-center justify-center",children:f.jsx("div",{className:"w-4 h-4 bg-nothing-white rounded-full animate-glow"})}),f.jsx("span",{className:"text-xl font-bold text-nothing-white font-nothing",children:"GlyphMart"})]})}),p.pathname!=="/search"&&f.jsx("div",{className:"hidden md:block flex-1 max-w-lg mx-8",children:f.jsxs("form",{onSubmit:x,className:"relative",children:[f.jsx("input",{type:"text",value:t,onChange:E=>r(E.target.value),placeholder:"Search glyphs...",className:"w-full bg-nothing-gray-900 border border-nothing-gray-700 rounded-lg py-2 pl-10 pr-4 text-nothing-white placeholder-nothing-gray-400 focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-transparent transition-all duration-200"}),f.jsx(zi,{className:"absolute left-3 top-2.5 h-5 w-5 text-nothing-gray-400"})]})}),f.jsx("div",{className:"hidden md:flex items-center space-x-4",children:o?f.jsxs(f.Fragment,{children:[f.jsxs(Ge,{to:"/upload",className:"bg-nothing-red hover:bg-red-700 text-nothing-white px-4 py-2 rounded-lg font-medium transition-colors duration-200 flex items-center space-x-2",children:[f.jsx(rD,{className:"h-4 w-4"}),f.jsx("span",{children:"Upload Glyph"})]}),f.jsxs("div",{className:"relative group",children:[f.jsxs("button",{className:"flex items-center space-x-2 text-nothing-white hover:text-nothing-gray-300 transition-colors duration-200",children:[f.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden border border-nothing-gray-600",children:a?.profilePicture||o.photoURL?f.jsx("img",{src:fn(a?.profilePicture||o.photoURL),alt:"Profile",loading:"lazy",className:"w-full h-full object-cover"}):f.jsx("div",{className:"w-full h-full bg-nothing-gray-700 flex items-center justify-center",children:f.jsx($s,{className:"h-4 w-4"})})}),f.jsx("span",{className:"font-medium",children:a?.username||o.displayName})]}),f.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-nothing-gray-900 border border-nothing-gray-700 rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200",children:f.jsxs("div",{className:"py-1",children:[f.jsxs(Ge,{to:`/storefront/${a?.username||o.displayName}`,className:"block px-4 py-2 text-sm text-nothing-white hover:bg-nothing-gray-800 transition-colors duration-200 flex items-center space-x-2",children:[f.jsx(Ew,{className:"h-4 w-4"}),f.jsx("span",{children:"My Storefront"})]}),f.jsxs(Ge,{to:"/liked",className:"block px-4 py-2 text-sm text-nothing-white hover:bg-nothing-gray-800 transition-colors duration-200 flex items-center space-x-2",children:[f.jsx(ir,{className:"h-4 w-4"}),f.jsx("span",{children:"Liked Posts"})]}),f.jsxs(Ge,{to:"/settings",className:"block px-4 py-2 text-sm text-nothing-white hover:bg-nothing-gray-800 transition-colors duration-200 flex items-center space-x-2",children:[f.jsx($p,{className:"h-4 w-4"}),f.jsx("span",{children:"Settings"})]}),m&&f.jsxs(Ge,{to:"/admin",className:"block px-4 py-2 text-sm text-nothing-white hover:bg-nothing-gray-800 transition-colors duration-200 flex items-center space-x-2",children:[f.jsx(ia,{className:"h-4 w-4"}),f.jsx("span",{children:"Admin Panel"})]}),f.jsxs("button",{onClick:w,className:"w-full text-left block px-4 py-2 text-sm text-nothing-white hover:bg-nothing-gray-800 transition-colors duration-200 flex items-center space-x-2",children:[f.jsx(xw,{className:"h-4 w-4"}),f.jsx("span",{children:"Logout"})]})]})})]})]}):f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx(Ge,{to:"/login",className:"text-nothing-white hover:text-nothing-gray-300 font-medium transition-colors duration-200",children:"Login"}),f.jsx(Ge,{to:"/signup",className:"bg-nothing-red hover:bg-red-700 text-nothing-white px-4 py-2 rounded-lg font-medium transition-colors duration-200",children:"Sign Up"})]})}),f.jsx("div",{className:"md:hidden",children:f.jsx("button",{onClick:()=>e(!n),className:"text-nothing-white hover:text-nothing-gray-300 transition-colors duration-200",children:n?f.jsx(bT,{className:"h-6 w-6"}):f.jsx(tD,{className:"h-6 w-6"})})})]}),f.jsx("div",{className:"md:hidden pb-4",children:f.jsxs("form",{onSubmit:x,className:"relative",children:[f.jsx("input",{type:"text",value:t,onChange:E=>r(E.target.value),placeholder:"Search glyphs...",className:"w-full bg-nothing-gray-900 border border-nothing-gray-700 rounded-lg py-2 pl-10 pr-4 text-nothing-white placeholder-nothing-gray-400 focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-transparent transition-all duration-200"}),f.jsx(zi,{className:"absolute left-3 top-2.5 h-5 w-5 text-nothing-gray-400"})]})})]}),f.jsx(IO,{children:n&&f.jsx(De.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden bg-nothing-gray-900 border-t border-nothing-gray-800",children:f.jsx("div",{className:"px-4 py-4 space-y-4",children:o?f.jsxs(f.Fragment,{children:[f.jsx(Ge,{to:"/upload",className:"block bg-nothing-red hover:bg-red-700 text-nothing-white px-4 py-2 rounded-lg font-medium transition-colors duration-200 text-center",onClick:()=>e(!1),children:"Upload Glyph"}),f.jsxs(Ge,{to:`/storefront/${a?.username||o.displayName}`,className:"block text-nothing-white hover:text-nothing-gray-300 font-medium transition-colors duration-200 flex items-center space-x-2",onClick:()=>e(!1),children:[f.jsx(Ew,{className:"h-4 w-4"}),f.jsx("span",{children:"My Storefront"})]}),f.jsxs(Ge,{to:"/liked",className:"block text-nothing-white hover:text-nothing-gray-300 font-medium transition-colors duration-200 flex items-center space-x-2",onClick:()=>e(!1),children:[f.jsx(ir,{className:"h-4 w-4"}),f.jsx("span",{children:"Liked Posts"})]}),f.jsxs(Ge,{to:"/settings",className:"block text-nothing-white hover:text-nothing-gray-300 font-medium transition-colors duration-200 flex items-center space-x-2",onClick:()=>e(!1),children:[f.jsx($p,{className:"h-4 w-4"}),f.jsx("span",{children:"Settings"})]}),m&&f.jsxs(Ge,{to:"/admin",className:"block text-nothing-white hover:text-nothing-gray-300 font-medium transition-colors duration-200 flex items-center space-x-2",onClick:()=>e(!1),children:[f.jsx(ia,{className:"h-4 w-4"}),f.jsx("span",{children:"Admin Panel"})]}),f.jsxs("button",{onClick:()=>{w(),e(!1)},className:"block w-full text-left text-nothing-white hover:text-nothing-gray-300 font-medium transition-colors duration-200 flex items-center space-x-2",children:[f.jsx(xw,{className:"h-4 w-4"}),f.jsx("span",{children:"Logout"})]})]}):f.jsxs(f.Fragment,{children:[f.jsx(Ge,{to:"/login",className:"block text-nothing-white hover:text-nothing-gray-300 font-medium transition-colors duration-200",onClick:()=>e(!1),children:"Login"}),f.jsx(Ge,{to:"/signup",className:"block bg-nothing-red hover:bg-red-700 text-nothing-white px-4 py-2 rounded-lg font-medium transition-colors duration-200 text-center",onClick:()=>e(!1),children:"Sign Up"})]})})})})]})},Pg=Rh.memo(({glyph:n})=>{const e=ar(),t=j.useMemo(()=>n.images&&n.images.length>0?fn(n.images[0]):null,[n.images]),r=()=>{e(`/glyph/${n.id}`)},o=a=>{a.stopPropagation()};return f.jsx(De.div,{whileHover:{y:-5},className:"bg-nothing-gray-900 border border-nothing-gray-800 rounded-lg overflow-hidden hover:border-nothing-gray-700 transition-all duration-300",children:f.jsxs("div",{className:"cursor-pointer",onClick:r,children:[f.jsxs("div",{className:"aspect-square bg-nothing-gray-800 relative overflow-hidden",children:[t?f.jsx("img",{src:t,alt:n.title,loading:"lazy",className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"}):f.jsx("div",{className:"w-full h-full flex items-center justify-center",children:f.jsx("div",{className:"w-16 h-16 bg-nothing-red rounded-full flex items-center justify-center glyph-animation",children:f.jsx(xr,{className:"h-8 w-8 text-nothing-white"})})}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-nothing-black/80 via-transparent to-transparent opacity-0 hover:opacity-100 transition-opacity duration-300",children:f.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:f.jsxs("div",{className:"flex items-center justify-between text-nothing-white text-sm",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(oi,{className:"h-4 w-4"}),f.jsx("span",{children:n.downloads||0})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(ir,{className:"h-4 w-4"}),f.jsx("span",{children:n.likes||0})]})]})})})]}),f.jsxs("div",{className:"p-4",children:[f.jsx("h3",{className:"text-nothing-white font-semibold text-lg mb-2 truncate",children:n.title}),f.jsx("p",{className:"text-nothing-gray-400 text-sm mb-3 line-clamp-2",children:n.description}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs(Ge,{to:`/storefront/${n.creatorUsername}`,className:"text-nothing-red hover:text-red-400 text-sm font-medium transition-colors duration-200",onClick:o,children:["@",n.creatorUsername]}),f.jsxs("div",{className:"flex items-center space-x-4 text-nothing-gray-500 text-sm",children:[f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsx(oi,{className:"h-3 w-3"}),f.jsx("span",{children:n.downloads||0})]}),f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsx(Un,{className:"h-3 w-3"}),f.jsx("span",{children:n.views||0})]})]})]})]})]})})});Pg.displayName="GlyphCard";const kO=()=>{const[n,e]=j.useState([]),[t,r]=j.useState([]),[o,a]=j.useState(!0),[u,h]=j.useState("latest");return j.useEffect(()=>{(async()=>{try{const m=await Xe.getGlyphs({sort:"latest",limit:12}),w=await Xe.getGlyphs({sort:"popular",limit:12});e(m),r(w)}catch(m){console.error("Error fetching glyphs:",m)}finally{a(!1)}})()},[]),o?f.jsx("div",{className:"min-h-screen bg-nothing-black flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-nothing-red rounded-full flex items-center justify-center mx-auto mb-4 glyph-animation",children:f.jsx(xr,{className:"h-8 w-8 text-nothing-white"})}),f.jsx("p",{className:"text-nothing-gray-400",children:"Loading latest glyphs..."})]})}):f.jsxs("div",{className:"min-h-screen bg-nothing-black",children:[f.jsxs("section",{className:"relative py-20 px-4 sm:px-6 lg:px-8",children:[f.jsx("div",{className:"max-w-7xl mx-auto text-center",children:f.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},children:[f.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-nothing-white mb-6 font-nothing",children:["Glyph",f.jsx("span",{className:"text-nothing-red",children:"Mart"})]}),f.jsx("p",{className:"text-xl md:text-2xl text-nothing-gray-300 mb-8 max-w-3xl mx-auto",children:"Discover, share, and download custom Nothing Phone(3) glyphs created by the community"}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[f.jsx(Ge,{to:"/browse",className:"bg-nothing-red hover:bg-red-700 text-nothing-white px-8 py-3 rounded-lg font-semibold text-lg transition-colors duration-200",children:"Browse Glyphs"}),f.jsx(Ge,{to:"/upload",className:"border border-nothing-gray-700 hover:border-nothing-gray-600 text-nothing-white px-8 py-3 rounded-lg font-semibold text-lg transition-colors duration-200",children:"Upload Your Glyph"})]})]})}),f.jsx("div",{className:"absolute top-1/2 left-1/4 transform -translate-y-1/2 opacity-20",children:f.jsx("div",{className:"w-20 h-20 bg-nothing-red rounded-full flex items-center justify-center animate-float",children:f.jsx(xr,{className:"h-10 w-10 text-nothing-white"})})}),f.jsx("div",{className:"absolute top-1/3 right-1/4 transform -translate-y-1/2 opacity-10",children:f.jsx("div",{className:"w-16 h-16 bg-nothing-white rounded-full flex items-center justify-center animate-float",style:{animationDelay:"1s"},children:f.jsx(xr,{className:"h-8 w-8 text-nothing-black"})})})]}),f.jsx("section",{className:"px-4 sm:px-6 lg:px-8 mb-8",children:f.jsx("div",{className:"max-w-7xl mx-auto",children:f.jsxs("div",{className:"flex space-x-4 border-b border-nothing-gray-800",children:[f.jsxs("button",{onClick:()=>h("latest"),className:`flex items-center space-x-2 px-4 py-3 font-medium border-b-2 transition-colors duration-200 ${u==="latest"?"border-nothing-red text-nothing-red":"border-transparent text-nothing-gray-400 hover:text-nothing-white"}`,children:[f.jsx(Qj,{className:"h-4 w-4"}),f.jsx("span",{children:"Latest"})]}),f.jsxs("button",{onClick:()=>h("popular"),className:`flex items-center space-x-2 px-4 py-3 font-medium border-b-2 transition-colors duration-200 ${u==="popular"?"border-nothing-red text-nothing-red":"border-transparent text-nothing-gray-400 hover:text-nothing-white"}`,children:[f.jsx(aD,{className:"h-4 w-4"}),f.jsx("span",{children:"Popular"})]})]})})}),f.jsx("section",{className:"px-4 sm:px-6 lg:px-8 pb-20",children:f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:(u==="latest"?n:t).map((p,m)=>f.jsx(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:m*.1},children:f.jsx(Pg,{glyph:p})},p.id))}),(u==="latest"?n:t).length===0&&f.jsxs("div",{className:"text-center py-12",children:[f.jsx("div",{className:"w-16 h-16 bg-nothing-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx(xr,{className:"h-8 w-8 text-nothing-gray-600"})}),f.jsx("p",{className:"text-nothing-gray-400 text-lg",children:"No glyphs found"}),f.jsx("p",{className:"text-nothing-gray-500 text-sm mt-2",children:"Be the first to share your custom Nothing Phone(3) glyph!"})]})]})})]})},CO=()=>{const[n,e]=j.useState({email:"",password:""}),[t,r]=j.useState(!1),[o,a]=j.useState(!1),[u,h]=j.useState(""),{signin:p}=Nr(),m=ar(),w=E=>{e({...n,[E.target.name]:E.target.value}),h("")},x=async E=>{E.preventDefault(),a(!0),h("");try{await p(n.email,n.password),m("/")}catch(I){switch(console.error("Login error:",I),I.code){case"auth/user-not-found":h("No account found with this email address.");break;case"auth/wrong-password":h("Incorrect password.");break;case"auth/invalid-email":h("Invalid email address.");break;case"auth/too-many-requests":h("Too many failed attempts. Please try again later.");break;default:h("Failed to sign in. Please try again.")}}finally{a(!1)}};return f.jsx("div",{className:"min-h-screen bg-nothing-black flex items-center justify-center px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"max-w-md w-full space-y-8",children:[f.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center",children:[f.jsx("div",{className:"flex justify-center mb-6",children:f.jsx("div",{className:"w-16 h-16 bg-nothing-red rounded-full flex items-center justify-center glyph-animation",children:f.jsx(xr,{className:"h-8 w-8 text-nothing-white"})})}),f.jsx("h2",{className:"text-3xl font-bold text-nothing-white font-nothing",children:"Welcome back"}),f.jsx("p",{className:"mt-2 text-nothing-gray-400",children:"Sign in to your GlyphMart account"})]}),f.jsxs(De.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"mt-8 space-y-6",onSubmit:x,children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(ig,{className:"h-5 w-5 text-nothing-gray-400"})}),f.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n.email,onChange:w,className:"appearance-none relative block w-full px-10 py-3 border border-nothing-gray-700 placeholder-nothing-gray-400 text-nothing-white bg-nothing-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-nothing-red focus:z-10 transition-all duration-200",placeholder:"Email address"})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(Bi,{className:"h-5 w-5 text-nothing-gray-400"})}),f.jsx("input",{id:"password",name:"password",type:t?"text":"password",autoComplete:"current-password",required:!0,value:n.password,onChange:w,className:"appearance-none relative block w-full px-10 py-3 pr-10 border border-nothing-gray-700 placeholder-nothing-gray-400 text-nothing-white bg-nothing-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-nothing-red focus:z-10 transition-all duration-200",placeholder:"Password"}),f.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>r(!t),children:t?f.jsx(fa,{className:"h-5 w-5 text-nothing-gray-400 hover:text-nothing-gray-300"}):f.jsx(Un,{className:"h-5 w-5 text-nothing-gray-400 hover:text-nothing-gray-300"})})]})]})]}),u&&f.jsx(De.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-900/20 border border-red-700 text-red-400 px-4 py-3 rounded-lg text-sm",children:u}),f.jsx("div",{className:"flex items-center justify-between",children:f.jsx("div",{className:"text-sm",children:f.jsx(Ge,{to:"/forgot-password",className:"text-nothing-red hover:text-red-400 transition-colors duration-200",children:"Forgot your password?"})})}),f.jsx("div",{children:f.jsx("button",{type:"submit",disabled:o,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-nothing-white bg-nothing-red hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-nothing-red disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:o?f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-nothing-white mr-2"}),"Signing in..."]}):"Sign in"})}),f.jsx("div",{className:"text-center",children:f.jsxs("p",{className:"text-nothing-gray-400",children:["Don't have an account?"," ",f.jsx(Ge,{to:"/signup",className:"text-nothing-red hover:text-red-400 font-medium transition-colors duration-200",children:"Sign up"})]})})]})]})})},NO=()=>{const[n,e]=j.useState({email:"",username:"",displayName:"",password:"",confirmPassword:""}),[t,r]=j.useState(!1),[o,a]=j.useState(!1),[u,h]=j.useState(!1),[p,m]=j.useState(""),{signup:w}=Nr(),x=ar(),E=k=>{e({...n,[k.target.name]:k.target.value}),m("")},I=()=>n.password!==n.confirmPassword?(m("Passwords do not match"),!1):n.password.length<6?(m("Password must be at least 6 characters long"),!1):n.username.length<3?(m("Username must be at least 3 characters long"),!1):/^[a-zA-Z0-9_]+$/.test(n.username)?!0:(m("Username can only contain letters, numbers, and underscores"),!1),D=async k=>{if(k.preventDefault(),h(!0),m(""),!I()){h(!1);return}try{await w(n.email,n.password,n.username,n.displayName),x("/")}catch(A){switch(console.error("Signup error:",A),A.code){case"auth/email-already-in-use":m("An account with this email already exists.");break;case"auth/invalid-email":m("Invalid email address.");break;case"auth/weak-password":m("Password is too weak.");break;default:m("Failed to create account. Please try again.")}}finally{h(!1)}};return f.jsx("div",{className:"min-h-screen bg-nothing-black flex items-center justify-center px-4 sm:px-6 lg:px-8 py-12",children:f.jsxs("div",{className:"max-w-md w-full space-y-8",children:[f.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center",children:[f.jsx("div",{className:"flex justify-center mb-6",children:f.jsx("div",{className:"w-16 h-16 bg-nothing-red rounded-full flex items-center justify-center glyph-animation",children:f.jsx(xr,{className:"h-8 w-8 text-nothing-white"})})}),f.jsx("h2",{className:"text-3xl font-bold text-nothing-white font-nothing",children:"Join GlyphMart"}),f.jsx("p",{className:"mt-2 text-nothing-gray-400",children:"Create your account and start sharing glyphs"})]}),f.jsxs(De.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"mt-8 space-y-6",onSubmit:D,children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(ig,{className:"h-5 w-5 text-nothing-gray-400"})}),f.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n.email,onChange:E,className:"appearance-none relative block w-full px-10 py-3 border border-nothing-gray-700 placeholder-nothing-gray-400 text-nothing-white bg-nothing-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-nothing-red focus:z-10 transition-all duration-200",placeholder:"Email address"})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"username",className:"sr-only",children:"Username"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(Wj,{className:"h-5 w-5 text-nothing-gray-400"})}),f.jsx("input",{id:"username",name:"username",type:"text",autoComplete:"username",required:!0,value:n.username,onChange:E,className:"appearance-none relative block w-full px-10 py-3 border border-nothing-gray-700 placeholder-nothing-gray-400 text-nothing-white bg-nothing-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-nothing-red focus:z-10 transition-all duration-200",placeholder:"Username"})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"displayName",className:"sr-only",children:"Display Name"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx($s,{className:"h-5 w-5 text-nothing-gray-400"})}),f.jsx("input",{id:"displayName",name:"displayName",type:"text",autoComplete:"name",required:!0,value:n.displayName,onChange:E,className:"appearance-none relative block w-full px-10 py-3 border border-nothing-gray-700 placeholder-nothing-gray-400 text-nothing-white bg-nothing-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-nothing-red focus:z-10 transition-all duration-200",placeholder:"Display Name"})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(Bi,{className:"h-5 w-5 text-nothing-gray-400"})}),f.jsx("input",{id:"password",name:"password",type:t?"text":"password",autoComplete:"new-password",required:!0,value:n.password,onChange:E,className:"appearance-none relative block w-full px-10 py-3 pr-10 border border-nothing-gray-700 placeholder-nothing-gray-400 text-nothing-white bg-nothing-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-nothing-red focus:z-10 transition-all duration-200",placeholder:"Password"}),f.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>r(!t),children:t?f.jsx(fa,{className:"h-5 w-5 text-nothing-gray-400 hover:text-nothing-gray-300"}):f.jsx(Un,{className:"h-5 w-5 text-nothing-gray-400 hover:text-nothing-gray-300"})})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"confirmPassword",className:"sr-only",children:"Confirm Password"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(Bi,{className:"h-5 w-5 text-nothing-gray-400"})}),f.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:o?"text":"password",autoComplete:"new-password",required:!0,value:n.confirmPassword,onChange:E,className:"appearance-none relative block w-full px-10 py-3 pr-10 border border-nothing-gray-700 placeholder-nothing-gray-400 text-nothing-white bg-nothing-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-nothing-red focus:z-10 transition-all duration-200",placeholder:"Confirm Password"}),f.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>a(!o),children:o?f.jsx(fa,{className:"h-5 w-5 text-nothing-gray-400 hover:text-nothing-gray-300"}):f.jsx(Un,{className:"h-5 w-5 text-nothing-gray-400 hover:text-nothing-gray-300"})})]})]})]}),p&&f.jsx(De.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-900/20 border border-red-700 text-red-400 px-4 py-3 rounded-lg text-sm",children:p}),f.jsx("div",{children:f.jsx("button",{type:"submit",disabled:u,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-nothing-white bg-nothing-red hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-nothing-red disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:u?f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-nothing-white mr-2"}),"Creating account..."]}):"Create Account"})}),f.jsx("div",{className:"text-center",children:f.jsxs("p",{className:"text-nothing-gray-400",children:["Already have an account?"," ",f.jsx(Ge,{to:"/login",className:"text-nothing-red hover:text-red-400 font-medium transition-colors duration-200",children:"Sign in"})]})})]})]})})},ou=({onFileUpload:n,acceptedTypes:e="images",multiple:t=!1,maxFiles:r=5})=>{const[o,a]=j.useState(!1),[u,h]=j.useState([]),[p,m]=j.useState(!1),w=j.useRef(null),x=()=>{switch(e){case"images":return"image/png,image/jpeg,image/jpg,image/gif,image/webp";case"apks":return".apk";case"profile":return"image/png,image/jpeg,image/jpg,image/gif,image/webp";default:return""}},E=O=>O.type?.startsWith("image/")?f.jsx(zp,{className:"w-8 h-8 text-blue-500"}):f.jsx(ST,{className:"w-8 h-8 text-gray-500"}),I=O=>{const Y=Array.from(O);if(!t&&Y.length>1){alert("Only one file is allowed");return}if(t&&u.length+Y.length>r){alert(`Maximum ${r} files allowed`);return}Y.forEach(D)},D=async O=>{if(O){a(!0);try{const Y=await Xe.uploadFile(O,e),Z={id:Date.now()+Math.random(),name:O.name,url:Y.url,thumbnail:Y.thumbnail,filename:Y.filename,type:Y.type,file:O};h(se=>[...se,Z]),n(Z)}catch(Y){console.error("Upload failed:",Y),alert("Upload failed: "+Y.message)}finally{a(!1)}}},k=async O=>{try{O.filename&&await Xe.deleteFile(O.filename,O.type),h(Y=>Y.filter(Z=>Z.id!==O.id)),n(null,O)}catch(Y){console.error("Failed to delete file:",Y),alert("Failed to delete file: "+Y.message)}},A=O=>{O.preventDefault(),O.stopPropagation(),O.type==="dragenter"||O.type==="dragover"?m(!0):O.type==="dragleave"&&m(!1)},z=O=>{O.preventDefault(),O.stopPropagation(),m(!1),O.dataTransfer.files&&O.dataTransfer.files[0]&&I(O.dataTransfer.files)},G=()=>{w.current?.click()};return f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors cursor-pointer
          ${p?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}
          ${o?"opacity-50 pointer-events-none":""}`,onDragEnter:A,onDragLeave:A,onDragOver:A,onDrop:z,onClick:G,children:[f.jsx("input",{ref:w,type:"file",multiple:t,accept:x(),onChange:O=>I(O.target.files),className:"hidden"}),f.jsx(Hp,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),f.jsx("p",{className:"text-lg font-medium text-gray-700 mb-2",children:o?"Uploading...":`Upload ${e==="apks"?"APK file":"images"}`}),f.jsx("p",{className:"text-sm text-gray-500",children:"Drag and drop files here, or click to select files"}),e==="images"&&f.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Supported: PNG, JPG, JPEG, GIF, WebP (max 50MB each)"}),e==="apks"&&f.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Supported: APK files (max 50MB)"})]}),u.length>0&&f.jsxs("div",{className:"space-y-2",children:[f.jsx("h4",{className:"font-medium text-gray-700",children:"Uploaded Files:"}),f.jsx("div",{className:"grid gap-2",children:u.map(O=>f.jsxs(De.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[O.thumbnail?f.jsx("img",{src:fn(O.thumbnail),alt:"Preview",className:"w-10 h-10 object-cover rounded"}):E(O.file),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-gray-700 truncate max-w-48",children:O.name}),f.jsxs("p",{className:"text-xs text-gray-500",children:[e==="images"?"Image":"APK"," • Uploaded"]})]})]}),f.jsx("button",{onClick:()=>k(O),className:"p-1 text-red-500 hover:text-red-700 transition-colors",title:"Remove file",children:f.jsx(bT,{className:"w-4 h-4"})})]},O.id))})]})]})},RO=()=>{const{id:n}=Vx(),[e,t]=j.useState(null),[r,o]=j.useState(!0),[a,u]=j.useState(!1),[h,p]=j.useState(!1),[m,w]=j.useState(!1),[x,E]=j.useState(!1),{currentUser:I,userProfile:D}=Nr(),[k,A]=j.useState(!1),[z,G]=j.useState(null),[O,Y]=j.useState(!1),[Z,se]=j.useState(""),[R,b]=j.useState(!1),[P,V]=j.useState(!1),[U,B]=j.useState(!1),[N,be]=j.useState([]),$e=ar();j.useEffect(()=>{n&&(async()=>{try{const ce=await Xe.getGlyph(n);if(ce.createdAt&&(ce.createdAt=new Date(ce.createdAt)),t(ce),await Xe.recordView(n),I){const ve=await Xe.checkLikeStatus(n);p(ve)}else p(!1)}catch(ce){console.error("Error fetching glyph:",ce),ce.message.includes("not found")&&$e("/404")}finally{o(!1)}})()},[n,$e,I]);const Re=async()=>{if(!(!e.apkUrl&&!e.githubUrl)){if(e.apkUrl)E(!0);else if(e.githubUrl){window.open(e.githubUrl,"_blank");try{await Xe.recordDownload(n)&&t(ce=>({...ce,downloads:(ce.downloads||0)+1}))}catch(le){console.error("Error updating download count:",le)}}}},Ce=async()=>{u(!0);try{const le=await Xe.recordDownload(n),ce=document.createElement("a");ce.href=e.apkUrl,ce.download=`${e.title.replace(/[^a-z0-9]/gi,"_").toLowerCase()}.apk`,document.body.appendChild(ce),ce.click(),document.body.removeChild(ce),le&&t(ve=>({...ve,downloads:(ve.downloads||0)+1}))}catch(le){console.error("Error downloading glyph:",le)}finally{u(!1),E(!1)}},oe=async()=>{if(!I||m){I||$e("/login");return}w(!0);try{const le=await Xe.toggleLike(n);p(le.liked),t(ce=>({...ce,likes:le.totalLikes}))}catch(le){console.error("Error liking glyph:",le)}finally{w(!1)}},$=async()=>{const le=window.location.href;if(navigator.share)try{await navigator.share({title:e.title,text:e.description,url:le})}catch(ce){console.error("Error sharing:",ce),X(le)}else X(le)},X=async le=>{try{await navigator.clipboard.writeText(le),alert("Link copied to clipboard!")}catch(ce){console.error("Error copying to clipboard:",ce)}};j.useEffect(()=>{k&&e&&G({title:e.title,description:e.description,apkUrl:e.apkUrl||"",githubUrl:e.githubUrl||"",instructions:e.instructions||"",images:e.images||[]})},[k,e]);const L=le=>{const{name:ce,value:ve}=le.target;G(je=>({...je,[ce]:ve})),se("")},J=(le,ce)=>{le?(be(ve=>[...ve,le]),G(ve=>({...ve,images:[...ve.images,le.url]}))):ce&&(be(ve=>ve.filter(je=>je.id!==ce.id)),G(ve=>({...ve,images:ve.images.filter(je=>je!==ce.url)})))},fe=async le=>{le.preventDefault(),Y(!0),se("");try{await Xe.updateGlyph(e.id,{title:z.title,description:z.description,apkUrl:z.apkUrl,githubUrl:z.githubUrl,instructions:z.instructions,images:z.images}),A(!1),t(ce=>({...ce,...z}))}catch(ce){se("Failed to update glyph: "+ce.message)}finally{Y(!1)}};return r?f.jsx("div",{className:"min-h-screen bg-nothing-black flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-nothing-red rounded-full flex items-center justify-center mx-auto mb-4 glyph-animation",children:f.jsx("div",{className:"w-8 h-8 bg-nothing-white rounded-full"})}),f.jsx("p",{className:"text-nothing-gray-400",children:"Loading glyph..."})]})}):e?e.deleted?f.jsx("div",{className:"min-h-screen bg-nothing-black flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-2xl font-bold text-red-500 mb-4",children:"Glyph Deleted"}),f.jsx("p",{className:"text-nothing-gray-400 mb-6",children:"This glyph has been deleted by its creator and is no longer available."}),f.jsx(Ge,{to:"/",className:"bg-nothing-red hover:bg-red-700 text-nothing-white px-6 py-3 rounded-lg font-medium transition-colors duration-200",children:"Return to home"})]})}):f.jsxs("div",{className:"min-h-screen bg-nothing-black",children:[f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsx(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"aspect-square bg-nothing-gray-900 rounded-lg overflow-hidden",children:e.images&&e.images.length>0?f.jsx("img",{src:fn(e.images[0]),alt:e.title,loading:"lazy",className:"w-full h-full object-cover"}):f.jsx("div",{className:"w-full h-full flex items-center justify-center",children:f.jsx("div",{className:"w-24 h-24 bg-nothing-red rounded-full flex items-center justify-center glyph-animation",children:f.jsx("div",{className:"w-12 h-12 bg-nothing-white rounded-full"})})})}),D&&e.creatorUsername===D.username&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex space-x-3 mt-6",children:[f.jsx("button",{type:"button",onClick:()=>A(!0),className:"px-6 py-3 bg-nothing-gray-700 hover:bg-nothing-gray-800 text-nothing-white rounded-lg font-medium transition-colors duration-200",children:"Edit Glyph"}),f.jsx("button",{type:"button",onClick:()=>b(!0),className:"px-6 py-3 bg-nothing-red hover:bg-red-700 text-nothing-white rounded-lg font-medium transition-colors duration-200",children:"Delete Glyph"})]}),R&&f.jsx("div",{className:"fixed inset-0 bg-nothing-black/80 flex items-center justify-center z-50 p-4",children:f.jsxs(De.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-nothing-gray-900 border border-nothing-gray-800 rounded-lg p-6 max-w-md w-full",children:[f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("h2",{className:"text-2xl font-bold text-nothing-white mb-4",children:"Delete Glyph?"}),f.jsx("p",{className:"text-nothing-gray-300 mb-4",children:"Are you sure you want to permanently delete this glyph and all its related data? This action cannot be undone."})]}),f.jsxs("div",{className:"flex space-x-3",children:[f.jsx("button",{onClick:async()=>{if(!P){V(!0);try{await Xe.deleteGlyph(e.id)}catch(le){console.error("Error deleting glyph:",le)}finally{V(!1),b(!1),$e("/")}}},disabled:P,className:"flex-1 bg-nothing-red hover:bg-red-700 text-nothing-white px-4 py-2 rounded-lg font-medium transition-colors duration-200 disabled:opacity-50",children:P?"Deleting...":"Yes, Delete"}),f.jsx("button",{onClick:()=>b(!1),disabled:P,className:"px-4 py-2 border border-nothing-gray-700 text-nothing-white hover:border-nothing-gray-600 rounded-lg font-medium transition-colors duration-200",children:"Cancel"})]})]})})]})]}),f.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold text-nothing-white mb-4 font-nothing",children:e.title}),f.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[f.jsxs(Ge,{to:`/storefront/${e.creatorUsername||e.creatorId}`,className:"flex items-center space-x-2 text-nothing-red hover:text-red-400 transition-colors duration-200",children:[f.jsx($s,{className:"h-4 w-4"}),f.jsxs("span",{className:"font-medium",children:["@",e.creatorUsername||e.creatorId]})]}),f.jsxs("div",{className:"flex items-center space-x-1 text-nothing-gray-400",children:[f.jsx(rg,{className:"h-4 w-4"}),f.jsx("span",{className:"text-sm",children:e.createdAt?.toDate?.()?.toLocaleDateString()||"Unknown date"})]})]}),f.jsx("div",{className:"text-nothing-gray-300 text-lg leading-relaxed mb-6",style:{position:"relative"},children:e.description?f.jsxs("div",{style:{position:"relative"},children:[f.jsx("span",{className:U?"":"glyph-fade-text glyph-line-clamp",style:U?{display:"block",maxHeight:"none",overflow:"visible"}:void 0,children:e.description}),f.jsx("button",{type:"button",onClick:()=>B(le=>!le),className:"ml-2 text-nothing-red hover:underline focus:outline-none relative z-10",style:{marginTop:"0.5em"},children:U?"Show Less":"Show More"})]}):null})]}),f.jsxs("div",{className:"flex items-center space-x-6 py-4 border-y border-nothing-gray-800",children:[f.jsxs("div",{className:"flex items-center space-x-2 text-nothing-gray-400",children:[f.jsx(oi,{className:"h-5 w-5"}),f.jsx("span",{children:(()=>{const le=e.downloads||0;return`${le} ${le===1?"download":"downloads"}`})()})]}),f.jsxs("div",{className:"flex items-center space-x-2 text-nothing-gray-400",children:[f.jsx(Un,{className:"h-5 w-5"}),f.jsx("span",{children:(()=>{const le=e.views||0;return`${le} ${le===1?"view":"views"}`})()})]}),f.jsxs("div",{className:"flex items-center space-x-2 text-nothing-gray-400",children:[f.jsx(ir,{className:"h-5 w-5"}),f.jsx("span",{children:(()=>{const le=e.likes||0;return`${le} ${le===1?"like":"likes"}`})()})]})]}),f.jsxs("div",{className:"flex space-x-4",children:[(e.apkUrl||e.githubUrl)&&f.jsxs("button",{onClick:Re,className:"flex-1 bg-nothing-red hover:bg-red-700 text-nothing-white px-6 py-3 rounded-lg font-semibold flex items-center justify-center space-x-2 transition-colors duration-200",children:[f.jsx(oi,{className:"h-5 w-5"}),f.jsx("span",{children:e.apkUrl?"Download APK":"View on GitHub"})]}),f.jsxs("button",{onClick:oe,disabled:m,className:`px-6 py-3 rounded-lg font-semibold flex items-center justify-center space-x-2 transition-colors duration-200 min-w-[120px] ${h?"bg-nothing-red text-nothing-white":"border border-nothing-gray-700 text-nothing-white hover:border-nothing-gray-600"} ${m?"opacity-50 cursor-not-allowed":""}`,children:[f.jsx(ir,{className:`h-5 w-5 ${h?"fill-current":""}`}),f.jsx("span",{children:m?"...":h?"Liked":"Like"})]}),f.jsx("button",{onClick:$,className:"px-6 py-3 border border-nothing-gray-700 text-nothing-white hover:border-nothing-gray-600 rounded-lg font-semibold flex items-center justify-center space-x-2 transition-colors duration-200",children:f.jsx(iD,{className:"h-5 w-5"})})]}),(e.githubUrl||e.instructions)&&f.jsxs("div",{className:"space-y-3",children:[f.jsx("h3",{className:"text-lg font-semibold text-nothing-white",children:e.githubUrl&&e.instructions?"Links & Instructions":e.githubUrl?"Repository":"Instructions"}),e.githubUrl&&f.jsxs("a",{href:e.githubUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-nothing-gray-300 hover:text-nothing-white transition-colors duration-200",children:[f.jsx(IT,{className:"h-5 w-5"}),f.jsx("span",{children:"View on GitHub"}),f.jsx(Yj,{className:"h-4 w-4"})]}),e.instructions&&f.jsxs("div",{className:"bg-nothing-gray-900 border border-nothing-gray-800 rounded-lg p-4",children:[f.jsx("h4",{className:"text-nothing-white font-medium mb-2",children:"Installation Instructions"}),f.jsx("p",{className:"text-nothing-gray-300 text-sm whitespace-pre-wrap",children:e.instructions})]})]})]})]})}),x&&f.jsx("div",{className:"fixed inset-0 bg-nothing-black/80 flex items-center justify-center z-50 p-4",children:f.jsxs(De.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-nothing-gray-900 border border-nothing-gray-800 rounded-lg p-6 max-w-md w-full",children:[f.jsxs("div",{className:"flex items-start space-x-3 mb-4",children:[f.jsx($j,{className:"h-6 w-6 text-yellow-500 flex-shrink-0 mt-0.5"}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-nothing-white mb-2",children:"Download Disclaimer"}),f.jsx("p",{className:"text-nothing-gray-300 text-sm",children:"This APK is shared by the community. GlyphMart does not guarantee the safety or functionality of third-party files. Download and install at your own risk."})]})]}),f.jsxs("div",{className:"flex space-x-3",children:[f.jsx("button",{onClick:Ce,disabled:a,className:"flex-1 bg-nothing-red hover:bg-red-700 text-nothing-white px-4 py-2 rounded-lg font-medium transition-colors duration-200 disabled:opacity-50",children:a?"Downloading...":"I Understand, Download"}),f.jsx("button",{onClick:()=>E(!1),className:"px-4 py-2 border border-nothing-gray-700 text-nothing-white hover:border-nothing-gray-600 rounded-lg font-medium transition-colors duration-200",children:"Cancel"})]})]})}),k&&z?f.jsx("div",{className:"min-h-screen bg-nothing-black flex items-center justify-center p-4",children:f.jsxs("div",{className:"bg-nothing-gray-900 border border-nothing-gray-800 rounded-lg p-8 max-w-lg w-full",children:[f.jsx("h2",{className:"text-2xl font-bold text-nothing-white mb-6",children:"Edit Glyph"}),f.jsxs("form",{onSubmit:fe,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-nothing-gray-300 mb-2",children:"Title"}),f.jsx("input",{type:"text",name:"title",value:z.title,onChange:L,className:"w-full px-4 py-3 bg-nothing-gray-800 border border-nothing-gray-700 rounded-lg text-nothing-white",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-nothing-gray-300 mb-2",children:"Description"}),f.jsx("textarea",{name:"description",value:z.description,onChange:L,rows:4,className:"w-full px-4 py-3 bg-nothing-gray-800 border border-nothing-gray-700 rounded-lg text-nothing-white",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-nothing-gray-300 mb-2",children:"APK URL"}),f.jsx("input",{type:"url",name:"apkUrl",value:z.apkUrl,onChange:L,className:"w-full px-4 py-3 bg-nothing-gray-800 border border-nothing-gray-700 rounded-lg text-nothing-white"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-nothing-gray-300 mb-2",children:"GitHub URL"}),f.jsx("input",{type:"url",name:"githubUrl",value:z.githubUrl,onChange:L,className:"w-full px-4 py-3 bg-nothing-gray-800 border border-nothing-gray-700 rounded-lg text-nothing-white"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-nothing-gray-300 mb-2",children:"Instructions"}),f.jsx("textarea",{name:"instructions",value:z.instructions,onChange:L,rows:2,className:"w-full px-4 py-3 bg-nothing-gray-800 border border-nothing-gray-700 rounded-lg text-nothing-white"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-nothing-gray-300 mb-2",children:"Images"}),f.jsxs("div",{className:"space-y-4",children:[z.images&&z.images.length>0&&f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:z.images.map((le,ce)=>f.jsx("div",{className:"relative",children:f.jsx("img",{src:fn(le),alt:`Preview ${ce+1}`,className:"w-full h-24 object-cover rounded-lg"})},ce))}),f.jsx("div",{className:"bg-nothing-gray-800 rounded-lg p-4",children:f.jsx(ou,{onFileUpload:J,acceptedTypes:"images",multiple:!0,maxFiles:5})}),f.jsx("div",{className:"text-center text-nothing-gray-400",children:f.jsx("span",{className:"px-3 py-1 bg-nothing-gray-800 rounded",children:"OR"})}),f.jsx("input",{type:"text",name:"images",value:z.images.join(", "),onChange:le=>G(ce=>({...ce,images:le.target.value.split(",").map(ve=>ve.trim())})),className:"w-full px-4 py-3 bg-nothing-gray-800 border border-nothing-gray-700 rounded-lg text-nothing-white",placeholder:"Or enter image URLs separated by commas"})]})]}),Z&&f.jsx("div",{className:"bg-red-900/20 border border-red-700 text-red-400 px-4 py-2 rounded-lg mb-4",children:Z}),f.jsxs("div",{className:"flex space-x-3 mt-6",children:[f.jsx("button",{type:"submit",disabled:O,className:"px-6 py-3 bg-nothing-red hover:bg-red-700 text-nothing-white rounded-lg font-medium transition-colors duration-200 disabled:opacity-50",children:O?"Saving...":"Save Changes"}),f.jsx("button",{type:"button",onClick:()=>A(!1),className:"px-6 py-3 bg-nothing-gray-700 hover:bg-nothing-gray-800 text-nothing-white rounded-lg font-medium transition-colors duration-200",children:"Cancel"})]})]})]})}):f.jsx(f.Fragment,{})]}):f.jsx("div",{className:"min-h-screen bg-nothing-black flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-2xl font-bold text-nothing-white mb-4",children:"Glyph not found"}),f.jsx(Ge,{to:"/",className:"text-nothing-red hover:text-red-400",children:"Return to home"})]})})},jO=()=>{const{username:n}=Vx(),[e,t]=j.useState(null),[r,o]=j.useState([]),[a,u]=j.useState(!0),[h,p]=j.useState("latest"),[m,w]=j.useState(""),x=A=>{console.log(A),w(z=>z+`
`+A)};j.useEffect(()=>{n&&(async()=>{try{x("Fetching storefront for username: "+n);const z=await Xe.getUserByUsername(n);x("Found user data: "+JSON.stringify({uid:z.uid,username:z.username,displayName:z.displayName})),t(z),x("Fetching glyphs for creatorId: "+z.uid);const G=await Xe.getGlyphs({creator_id:z.uid,sort:"latest",limit:100});x("Found glyphs: "+G.length),G.length>0?x("First glyph: "+JSON.stringify({id:G[0].id,title:G[0].title,creatorId:G[0].creatorId})):x("No glyphs found for this user. Check if glyphs were created with the correct creatorId."),G.forEach(O=>{O.createdAt&&(O.createdAt=new Date(O.createdAt))}),o(G)}catch(z){x("Error fetching user data: "+z.message),console.error("Error fetching user data:",z)}finally{u(!1)}})()},[n]);const E=()=>{switch(h){case"popular":return[...r].sort((A,z)=>(z.downloads||0)-(A.downloads||0));case"liked":return[...r].sort((A,z)=>(z.likes||0)-(A.likes||0));default:return r}},I=({glyph:A})=>f.jsx(De.div,{whileHover:{y:-5},className:"bg-nothing-gray-900 border border-nothing-gray-800 rounded-lg overflow-hidden hover:border-nothing-gray-700 transition-all duration-300",children:f.jsxs(Ge,{to:`/glyph/${A.id}`,children:[f.jsxs("div",{className:"aspect-square bg-nothing-gray-800 relative overflow-hidden",children:[A.images&&A.images.length>0?f.jsx("img",{src:fn(A.images[0]),alt:A.title,loading:"lazy",className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"}):f.jsx("div",{className:"w-full h-full flex items-center justify-center",children:f.jsx("div",{className:"w-16 h-16 bg-nothing-red rounded-full flex items-center justify-center glyph-animation",children:f.jsx(xr,{className:"h-8 w-8 text-nothing-white"})})}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-nothing-black/80 via-transparent to-transparent opacity-0 hover:opacity-100 transition-opacity duration-300",children:f.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:f.jsxs("div",{className:"flex items-center justify-between text-nothing-white text-sm",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(oi,{className:"h-4 w-4"}),f.jsx("span",{children:A.downloads||0})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(ir,{className:"h-4 w-4"}),f.jsx("span",{children:A.likes||0})]})]})})})]}),f.jsxs("div",{className:"p-4",children:[f.jsx("h3",{className:"text-nothing-white font-semibold text-lg mb-2 truncate",children:A.title}),f.jsx("p",{className:"text-nothing-gray-400 text-sm mb-3 line-clamp-2",children:A.description}),f.jsxs("div",{className:"flex items-center justify-between text-nothing-gray-500 text-sm",children:[f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsx(oi,{className:"h-3 w-3"}),f.jsx("span",{children:A.downloads||0})]}),f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsx(Un,{className:"h-3 w-3"}),f.jsx("span",{children:A.views||0})]}),f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsx(ir,{className:"h-3 w-3"}),f.jsx("span",{children:A.likes||0})]})]}),f.jsx("span",{className:"text-xs",children:A.createdAt?.toDate?.()?.toLocaleDateString()||"Unknown"})]})]})]})});if(a)return f.jsx("div",{className:"min-h-screen bg-nothing-black flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-nothing-red rounded-full flex items-center justify-center mx-auto mb-4 glyph-animation",children:f.jsx(xr,{className:"h-8 w-8 text-nothing-white"})}),f.jsx("p",{className:"text-nothing-gray-400",children:"Loading storefront..."})]})});if(!e)return f.jsx("div",{className:"min-h-screen bg-nothing-black flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-2xl font-bold text-nothing-white mb-4",children:"User not found"}),f.jsxs("p",{className:"text-nothing-gray-400 mb-6",children:["The user @",n," does not exist."]}),f.jsx(Ge,{to:"/",className:"bg-nothing-red hover:bg-red-700 text-nothing-white px-6 py-3 rounded-lg font-medium transition-colors duration-200",children:"Return to home"})]})});const D=r.reduce((A,z)=>A+(z.downloads||0),0),k=r.reduce((A,z)=>A+(z.likes||0),0);return f.jsxs("div",{className:"min-h-screen bg-nothing-black",children:[f.jsxs("div",{className:"bg-nothing-gray-900 border-b border-nothing-gray-800 relative overflow-hidden",children:[e.bannerImage&&f.jsxs("div",{className:"absolute inset-0 w-full h-full",children:[f.jsx("img",{src:fn(e.bannerImage),alt:"Profile banner",className:"w-full h-full object-cover opacity-30"}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-nothing-gray-900 via-nothing-gray-900/80 to-nothing-gray-900/40"})]}),f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 relative z-10",children:f.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[f.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden mx-auto mb-6 border-4 border-nothing-white shadow-lg",children:e.profilePicture?f.jsx("img",{src:fn(e.profilePicture),alt:e.displayName||e.username,loading:"lazy",className:"w-full h-full object-cover"}):f.jsx("div",{className:"w-full h-full bg-nothing-red flex items-center justify-center",children:f.jsx("span",{className:"text-2xl font-bold text-nothing-white",children:e.displayName?.charAt(0).toUpperCase()||e.username?.charAt(0).toUpperCase()})})}),f.jsx("h1",{className:"text-3xl font-bold text-nothing-white mb-2 font-nothing",children:e.username}),f.jsxs("p",{className:"text-nothing-red text-lg mb-4",children:["@",e.username]}),e.bio&&f.jsx("p",{className:"text-nothing-gray-300 max-w-2xl mx-auto mb-6",children:e.bio}),f.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 text-nothing-gray-400 text-sm mb-6",children:[e.location&&f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsx(eD,{className:"h-4 w-4"}),f.jsx("span",{children:e.location})]}),e.website&&f.jsxs("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-1 hover:text-nothing-white transition-colors duration-200",children:[f.jsx(Jj,{className:"h-4 w-4"}),f.jsx("span",{children:"Website"})]}),f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsx(rg,{className:"h-4 w-4"}),f.jsxs("span",{children:["Joined ",e.createdAt?.toDate?.()?.toLocaleDateString()||"Unknown"]})]})]}),f.jsxs("div",{className:"flex items-center justify-center space-x-8",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-2xl font-bold text-nothing-white",children:r.length}),f.jsx("div",{className:"text-nothing-gray-400 text-sm",children:"Glyphs"})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-2xl font-bold text-nothing-white",children:D}),f.jsx("div",{className:"text-nothing-gray-400 text-sm",children:"Downloads"})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-2xl font-bold text-nothing-white",children:k}),f.jsx("div",{className:"text-nothing-gray-400 text-sm",children:"Likes"})]})]})]})})]}),f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[f.jsxs("div",{className:"flex space-x-4 border-b border-nothing-gray-800 mb-8",children:[f.jsx("button",{onClick:()=>p("latest"),className:`px-4 py-3 font-medium border-b-2 transition-colors duration-200 ${h==="latest"?"border-nothing-red text-nothing-red":"border-transparent text-nothing-gray-400 hover:text-nothing-white"}`,children:"Latest"}),f.jsx("button",{onClick:()=>p("popular"),className:`px-4 py-3 font-medium border-b-2 transition-colors duration-200 ${h==="popular"?"border-nothing-red text-nothing-red":"border-transparent text-nothing-gray-400 hover:text-nothing-white"}`,children:"Most Downloaded"}),f.jsx("button",{onClick:()=>p("liked"),className:`px-4 py-3 font-medium border-b-2 transition-colors duration-200 ${h==="liked"?"border-nothing-red text-nothing-red":"border-transparent text-nothing-gray-400 hover:text-nothing-white"}`,children:"Most Liked"})]}),r.length>0?f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:E().map((A,z)=>f.jsx(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:z*.1},children:f.jsx(I,{glyph:A})},A.id))}):f.jsxs("div",{className:"text-center py-12",children:[f.jsx("div",{className:"w-16 h-16 bg-nothing-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx(xr,{className:"h-8 w-8 text-nothing-gray-600"})}),f.jsx("h3",{className:"text-nothing-white text-lg font-medium mb-2",children:"No glyphs yet"}),f.jsxs("p",{className:"text-nothing-gray-400",children:[e.username," hasn't shared any glyphs yet."]})]})]}),m&&f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:f.jsxs("div",{className:"bg-nothing-gray-900 border border-nothing-gray-700 rounded-lg p-4",children:[f.jsx("h3",{className:"text-nothing-white font-bold mb-2",children:"Debug Info:"}),f.jsx("pre",{className:"text-nothing-gray-300 text-xs whitespace-pre-wrap overflow-auto",children:m})]})})]})},DO=()=>{const[n,e]=j.useState({title:"",description:"",images:[],apkUrl:"",githubUrl:"",instructions:""}),[t,r]=j.useState([]),[o,a]=j.useState(null),[u,h]=j.useState(!1),[p,m]=j.useState(""),[w,x]=j.useState(""),{currentUser:E,userProfile:I}=Nr(),D=ar(),k=async()=>{try{const Z=await Xe.getGlyphs(),se=Z.filter(b=>b.creatorId===E.uid),R=`Total glyphs in database: ${Z.length}
My glyphs: ${se.length}
My UID: ${E.uid}
My username: ${I?.username}
My displayName: ${E.displayName}

My glyphs:
`+se.map(b=>`- ${b.title} (ID: ${b.id})`).join(`
`);x(R),console.log("Debug info:",R)}catch(Z){console.error("Error checking glyphs:",Z),x("Error checking glyphs: "+Z.message)}};if(!E)return D("/login"),null;const A=Z=>{const{name:se,value:R}=Z.target;e(b=>({...b,[se]:R})),m("")},z=(Z,se)=>{Z?(r(R=>[...R,Z]),e(R=>({...R,images:[...R.images,Z.url]}))):se&&(r(R=>R.filter(b=>b.id!==se.id)),e(R=>({...R,images:R.images.filter(b=>b!==se.url)})))},G=(Z,se)=>{Z?(a(Z),e(R=>({...R,apkUrl:Z.url}))):se&&(a(null),e(R=>({...R,apkUrl:""})))},O=()=>{if(!n.title.trim())return m("Title is required"),!1;if(!n.description.trim())return m("Description is required"),!1;if(!n.apkUrl.trim()&&!n.githubUrl.trim())return m("Either APK file or GitHub repository URL is required"),!1;const Z=/^https?:\/\/.+/;return n.githubUrl.trim()&&!Z.test(n.githubUrl)?(m("GitHub URL must be a valid HTTP/HTTPS URL"),!1):!0},Y=async Z=>{if(Z.preventDefault(),h(!0),m(""),!O()){h(!1);return}try{const se={title:n.title.trim(),description:n.description.trim(),images:n.images,apkUrl:n.apkUrl.trim()||null,githubUrl:n.githubUrl.trim()||null,instructions:n.instructions.trim()||null,creatorId:E.uid,creatorUsername:I?.username,downloads:0,views:0,likes:0,createdAt:new Date};console.log("Creating glyph with data:",se);const R=await Xe.uploadGlyph(se);console.log("Glyph created with ID:",R.id),D(`/glyph/${R.id}`)}catch(se){console.error("Error creating glyph:",se),m("Failed to upload glyph. Please try again.")}finally{h(!1)}};return f.jsx("div",{className:"min-h-screen bg-nothing-black py-12",children:f.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[f.jsx("div",{className:"w-16 h-16 bg-nothing-red rounded-full flex items-center justify-center mx-auto mb-6 glyph-animation",children:f.jsx(Hp,{className:"h-8 w-8 text-nothing-white"})}),f.jsx("h1",{className:"text-3xl font-bold text-nothing-white font-nothing mb-4",children:"Share Your Glyph"}),f.jsx("p",{className:"text-nothing-gray-400",children:"Upload your custom Nothing Phone(3) glyph and share it with the community"})]}),f.jsx(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-nothing-gray-900 border border-nothing-gray-800 rounded-lg p-8",children:f.jsxs("form",{onSubmit:Y,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-nothing-white mb-2",children:"Glyph Title *"}),f.jsx("input",{type:"text",id:"title",name:"title",value:n.title,onChange:A,placeholder:"e.g., Custom Boot Animation Glyph",className:"w-full px-4 py-3 bg-nothing-gray-800 border border-nothing-gray-700 rounded-lg text-nothing-white placeholder-nothing-gray-400 focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-transparent transition-all duration-200",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-nothing-white mb-2",children:"Description *"}),f.jsx("textarea",{id:"description",name:"description",value:n.description,onChange:A,rows:4,placeholder:"Describe your glyph, what it does, and any special features...",className:"w-full px-4 py-3 bg-nothing-gray-800 border border-nothing-gray-700 rounded-lg text-nothing-white placeholder-nothing-gray-400 focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-transparent transition-all duration-200 resize-vertical",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-nothing-white mb-2",children:"Images (Optional)"}),f.jsx("p",{className:"text-sm text-nothing-gray-400 mb-4",children:"Upload images showcasing your glyph (screenshots, demos, etc.)"}),f.jsx("div",{className:"bg-nothing-gray-800 rounded-lg p-4",children:f.jsx(ou,{onFileUpload:z,acceptedTypes:"images",multiple:!0,maxFiles:5})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-nothing-white mb-2",children:"APK File or Download URL"}),f.jsx("p",{className:"text-sm text-nothing-gray-400 mb-4",children:"Upload an APK file directly or provide a download URL"}),f.jsx("div",{className:"bg-nothing-gray-800 rounded-lg p-4 mb-4",children:f.jsx(ou,{onFileUpload:G,acceptedTypes:"apks",multiple:!1})}),f.jsx("div",{className:"text-center text-nothing-gray-400 mb-4",children:f.jsx("span",{className:"px-3 py-1 bg-nothing-gray-800 rounded",children:"OR"})}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(Zj,{className:"h-5 w-5 text-nothing-gray-400"})}),f.jsx("input",{type:"url",id:"apkUrl",name:"apkUrl",value:n.apkUrl,onChange:A,placeholder:"https://github.com/username/repo/releases/download/v1.0/glyph.apk",className:"w-full pl-10 pr-4 py-3 bg-nothing-gray-800 border border-nothing-gray-700 rounded-lg text-nothing-white placeholder-nothing-gray-400 focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-transparent transition-all duration-200",disabled:!!o})]}),f.jsx("p",{className:"text-sm text-nothing-gray-400 mt-2",children:o?"APK file uploaded":"Direct link to your APK file (GitHub Releases, Google Drive, etc.)"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"githubUrl",className:"block text-sm font-medium text-nothing-white mb-2",children:"GitHub Repository"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(IT,{className:"h-5 w-5 text-nothing-gray-400"})}),f.jsx("input",{type:"url",id:"githubUrl",name:"githubUrl",value:n.githubUrl,onChange:A,placeholder:"https://github.com/username/repository",className:"w-full pl-10 pr-4 py-3 bg-nothing-gray-800 border border-nothing-gray-700 rounded-lg text-nothing-white placeholder-nothing-gray-400 focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-transparent transition-all duration-200"})]}),f.jsx("p",{className:"text-sm text-nothing-gray-400 mt-2",children:"Link to your GitHub repository with source code"})]}),f.jsx("div",{className:"bg-blue-900/20 border border-blue-700 text-blue-400 px-4 py-3 rounded-lg",children:f.jsxs("div",{className:"flex items-start space-x-3",children:[f.jsx("div",{className:"flex-shrink-0 mt-0.5",children:f.jsx("div",{className:"w-4 h-4 bg-blue-400 rounded-full flex items-center justify-center",children:f.jsx("span",{className:"text-blue-900 text-xs font-bold",children:"!"})})}),f.jsxs("div",{className:"text-sm",children:[f.jsx("p",{className:"font-medium mb-1",children:"Download Requirement"}),f.jsx("p",{children:"You must provide either an APK download URL or a GitHub repository link (or both). Users need a way to access your glyph."})]})]})}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"instructions",className:"block text-sm font-medium text-nothing-white mb-2",children:"Installation Instructions (Optional)"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute top-3 left-3 pointer-events-none",children:f.jsx(ST,{className:"h-5 w-5 text-nothing-gray-400"})}),f.jsx("textarea",{id:"instructions",name:"instructions",value:n.instructions,onChange:A,rows:4,placeholder:`1. Download the APK file
2. Enable installation from unknown sources
3. Install the APK
4. Open Nothing Glyph Composer...`,className:"w-full pl-10 pr-4 py-3 bg-nothing-gray-800 border border-nothing-gray-700 rounded-lg text-nothing-white placeholder-nothing-gray-400 focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-transparent transition-all duration-200 resize-vertical"})]})]}),p&&f.jsxs(De.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-900/20 border border-red-700 text-red-400 px-4 py-3 rounded-lg flex items-start space-x-3",children:[f.jsx(Bp,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}),f.jsx("span",{className:"text-sm",children:p})]}),f.jsx("div",{className:"bg-yellow-900/20 border border-yellow-700 text-yellow-400 px-4 py-3 rounded-lg",children:f.jsxs("div",{className:"flex items-start space-x-3",children:[f.jsx(Bp,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}),f.jsxs("div",{className:"text-sm",children:[f.jsx("p",{className:"font-medium mb-1",children:"Important Disclaimer"}),f.jsx("p",{children:"By uploading your glyph, you confirm that you own the rights to share this content. GlyphMart is not responsible for the safety or functionality of user-generated content."})]})]})}),f.jsxs("div",{className:"flex justify-end space-x-4",children:[f.jsx("button",{type:"button",onClick:()=>D("/"),className:"px-6 py-3 border border-nothing-gray-700 text-nothing-white hover:border-nothing-gray-600 rounded-lg font-medium transition-colors duration-200",children:"Cancel"}),f.jsx("button",{type:"submit",disabled:u,className:"px-6 py-3 bg-nothing-red hover:bg-red-700 text-nothing-white rounded-lg font-medium transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:u?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-nothing-white"}),f.jsx("span",{children:"Uploading..."})]}):f.jsxs(f.Fragment,{children:[f.jsx(Hp,{className:"h-4 w-4"}),f.jsx("span",{children:"Share Glyph"})]})})]})]})}),f.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-nothing-gray-900 rounded-lg p-6 border border-nothing-gray-800 mt-6",children:[f.jsx("h2",{className:"text-nothing-white text-lg font-bold mb-4",children:"Debug: Check My Glyphs"}),f.jsx("button",{type:"button",onClick:k,className:"px-4 py-2 bg-nothing-gray-800 hover:bg-nothing-gray-700 text-nothing-white rounded-lg font-medium transition-colors duration-200 mb-4",children:"Check Database"}),w&&f.jsx("div",{className:"bg-nothing-gray-800 rounded-lg p-4",children:f.jsx("pre",{className:"text-nothing-gray-300 text-xs whitespace-pre-wrap overflow-auto",children:w})})]})]})})},VO=()=>{const[n,e]=hb(),[t,r]=j.useState(n.get("q")||""),[o,a]=j.useState([]),[u,h]=j.useState(!1),[p,m]=j.useState("latest"),[w,x]=j.useState("all");j.useEffect(()=>{const k=n.get("q");k&&(r(k),E(k))},[n]);const E=async(k,A=p,z=w)=>{if(k.trim()){h(!0);try{const G=await Xe.getGlyphs({search:k,sort:A,limit:100});a(G)}catch(G){console.error("Error searching glyphs:",G),a([])}finally{h(!1)}}},I=k=>{k.preventDefault(),t.trim()&&(e({q:t.trim()}),E(t.trim()))},D=k=>{m(k),t.trim()&&E(t.trim(),k,w)};return f.jsx("div",{className:"min-h-screen bg-nothing-black",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[f.jsx("div",{className:"text-center mb-8",children:f.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[f.jsx("div",{className:"w-16 h-16 bg-nothing-red rounded-full flex items-center justify-center mx-auto mb-6 glyph-animation",children:f.jsx(zi,{className:"h-8 w-8 text-nothing-white"})}),f.jsx("h1",{className:"text-3xl font-bold text-nothing-white font-nothing mb-4",children:"Search Glyphs"}),f.jsx("p",{className:"text-nothing-gray-400 max-w-2xl mx-auto",children:"Discover custom Nothing Phone(3) glyphs created by the community"})]})}),f.jsx(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"max-w-2xl mx-auto mb-8",children:f.jsxs("form",{onSubmit:I,className:"relative",children:[f.jsx("input",{type:"text",value:t,onChange:k=>r(k.target.value),placeholder:"Search for glyphs, creators, or keywords...",className:"w-full px-6 py-4 pl-14 pr-16 bg-nothing-gray-900 border border-nothing-gray-700 rounded-lg text-nothing-white placeholder-nothing-gray-400 focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-transparent transition-all duration-200 text-lg"}),f.jsx(zi,{className:"absolute left-4 top-4 h-6 w-6 text-nothing-gray-400"}),f.jsx("button",{type:"submit",className:"absolute right-2 top-2 bottom-2 px-4 bg-nothing-red hover:bg-red-700 text-nothing-white rounded-md font-medium transition-colors duration-200",children:"Search"})]})}),(o.length>0||u)&&f.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("span",{className:"text-nothing-gray-400 text-sm",children:u?"Searching...":`${o.length} results found`}),t&&f.jsxs("span",{className:"text-nothing-white text-sm",children:['for "',f.jsx("span",{className:"text-nothing-red",children:t}),'"']})]}),f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(Xj,{className:"h-4 w-4 text-nothing-gray-400"}),f.jsx("span",{className:"text-nothing-gray-400 text-sm",children:"Sort by:"})]}),f.jsx("div",{className:"flex space-x-2",children:[{value:"latest",label:"Latest",icon:Hj},{value:"popular",label:"Popular",icon:oi},{value:"liked",label:"Most Liked",icon:ir},{value:"viewed",label:"Most Viewed",icon:Un}].map(({value:k,label:A,icon:z})=>f.jsxs("button",{onClick:()=>D(k),className:`flex items-center space-x-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors duration-200 ${p===k?"bg-nothing-red text-nothing-white":"bg-nothing-gray-800 text-nothing-gray-300 hover:bg-nothing-gray-700"}`,children:[f.jsx(z,{className:"h-4 w-4"}),f.jsx("span",{className:"hidden sm:inline",children:A})]},k))})]})]}),u&&f.jsx("div",{className:"flex items-center justify-center py-12",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-nothing-red rounded-full flex items-center justify-center mx-auto mb-4 glyph-animation",children:f.jsx(zi,{className:"h-8 w-8 text-nothing-white"})}),f.jsx("p",{className:"text-nothing-gray-400",children:"Searching glyphs..."})]})}),!u&&o.length>0&&f.jsx(De.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:o.map((k,A)=>f.jsx(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:A*.1},children:f.jsx(Pg,{glyph:k})},k.id))}),!u&&t&&o.length===0&&f.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12",children:[f.jsx("div",{className:"w-16 h-16 bg-nothing-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx(zi,{className:"h-8 w-8 text-nothing-gray-600"})}),f.jsx("h3",{className:"text-nothing-white text-lg font-medium mb-2",children:"No results found"}),f.jsx("p",{className:"text-nothing-gray-400 mb-6",children:"Try searching with different keywords or browse all glyphs."}),f.jsx(Ge,{to:"/",className:"bg-nothing-red hover:bg-red-700 text-nothing-white px-6 py-3 rounded-lg font-medium transition-colors duration-200",children:"Browse All Glyphs"})]}),!u&&!t&&f.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12",children:[f.jsx("div",{className:"w-16 h-16 bg-nothing-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx(zi,{className:"h-8 w-8 text-nothing-gray-600"})}),f.jsx("h3",{className:"text-nothing-white text-lg font-medium mb-2",children:"Start searching"}),f.jsx("p",{className:"text-nothing-gray-400 mb-6",children:"Enter a search term to find glyphs, creators, or specific features."}),f.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:["boot animation","notification","charging","custom"].map(k=>f.jsx("button",{onClick:()=>{r(k),e({q:k}),E(k)},className:"px-3 py-1 bg-nothing-gray-800 hover:bg-nothing-gray-700 text-nothing-gray-300 rounded-full text-sm transition-colors duration-200",children:k},k))})]})]})})},LO=()=>{const[n,e]=j.useState([]),[t,r]=j.useState(!0),{currentUser:o}=Nr();return j.useEffect(()=>{(async()=>{if(!o){r(!1);return}try{console.log("Fetching liked glyphs for user:",o.uid);const u=await Xe.getUserLikes();console.log("Retrieved liked glyphs:",u),e(u)}catch(u){console.error("Error fetching liked glyphs:",u)}finally{r(!1)}})()},[o]),o?t?f.jsx("div",{className:"min-h-screen bg-nothing-black text-nothing-white flex items-center justify-center",children:f.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-nothing-red"})}):f.jsx("div",{className:"min-h-screen bg-nothing-black text-nothing-white",children:f.jsxs("div",{className:"container mx-auto px-4 py-8",children:[f.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:[f.jsxs("h1",{className:"text-4xl font-bold mb-2 flex items-center",children:[f.jsx(ir,{className:"h-8 w-8 mr-3 text-nothing-red fill-current"}),"Liked Posts"]}),f.jsxs("p",{className:"text-nothing-gray-400",children:[n.length," glyph",n.length!==1?"s":""," you've liked"]})]}),n.length>0?f.jsx(De.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.2},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:n.map((a,u)=>f.jsx(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:u*.1},className:"group",children:f.jsx(Ge,{to:`/glyph/${a.id}`,children:f.jsxs("div",{className:"bg-nothing-gray-900 rounded-lg overflow-hidden border border-nothing-gray-800 hover:border-nothing-gray-700 transition-all duration-300 hover:scale-105",children:[f.jsxs("div",{className:"aspect-square bg-nothing-gray-800 relative overflow-hidden",children:[a.images&&a.images.length>0?f.jsx("img",{src:fn(a.images[0]),alt:a.title,loading:"lazy",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}):f.jsx("div",{className:"w-full h-full flex items-center justify-center",children:f.jsx("div",{className:"text-nothing-gray-500 text-6xl",children:"📱"})}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-nothing-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:f.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:f.jsxs("div",{className:"flex items-center justify-between text-nothing-white text-sm",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(oi,{className:"h-4 w-4"}),f.jsx("span",{children:a.downloads||0})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(Un,{className:"h-4 w-4"}),f.jsx("span",{children:a.views||0})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(ir,{className:"h-4 w-4 fill-current text-nothing-red"}),f.jsx("span",{children:a.likes||0})]})]})})})]}),f.jsxs("div",{className:"p-4",children:[f.jsx("h3",{className:"font-semibold text-nothing-white mb-2 line-clamp-2",children:a.title}),f.jsx("p",{className:"text-nothing-gray-400 text-sm mb-3 line-clamp-2",children:a.description}),f.jsxs("div",{className:"flex items-center justify-between text-xs text-nothing-gray-500",children:[f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsx($s,{className:"h-3 w-3"}),f.jsx("span",{children:a.creatorUsername})]}),f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsx(rg,{className:"h-3 w-3"}),f.jsx("span",{children:a.createdAt?.toDate?a.createdAt.toDate().toLocaleDateString():new Date(a.createdAt).toLocaleDateString()})]})]})]})]})})},a.id))}):f.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"text-center py-16",children:[f.jsx(ir,{className:"h-16 w-16 mx-auto mb-4 text-nothing-gray-600"}),f.jsx("h2",{className:"text-2xl font-bold mb-2 text-nothing-gray-400",children:"No liked posts yet"}),f.jsx("p",{className:"text-nothing-gray-500 mb-6",children:"Start exploring glyphs and like the ones you love!"}),f.jsx(Ge,{to:"/",className:"bg-nothing-red text-nothing-white px-6 py-3 rounded-lg font-semibold hover:bg-red-600 transition-colors duration-200",children:"Explore Glyphs"})]})]})}):f.jsx("div",{className:"min-h-screen bg-nothing-black text-nothing-white flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Please log in to view your liked posts"}),f.jsx(Ge,{to:"/login",className:"bg-nothing-red text-nothing-white px-6 py-3 rounded-lg font-semibold hover:bg-red-600 transition-colors duration-200",children:"Log In"})]})})},OO=()=>{const{currentUser:n,userProfile:e,logout:t}=Nr(),r=ar(),[o,a]=j.useState({displayName:"",username:"",email:"",bio:"",profilePicture:"",bannerImage:""}),[u,h]=j.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[p,m]=j.useState(!1),[w,x]=j.useState(!1),[E,I]=j.useState(!1),[D,k]=j.useState(!1),[A,z]=j.useState(""),[G,O]=j.useState(""),[Y,Z]=j.useState("profile"),[se,R]=j.useState(""),[b,P]=j.useState(!1),[V,U]=j.useState(null),[B,N]=j.useState(null);j.useEffect(()=>{n&&e&&a({displayName:n.displayName||"",username:e.username||"",email:n.email||"",bio:e.bio||"",profilePicture:e.profilePicture||n.photoURL||"",bannerImage:e.bannerImage||""})},[n,e]);const be=async $=>{$.preventDefault(),k(!0),O(""),z("");try{o.displayName!==n.displayName&&await Sp(n,{displayName:o.displayName}),o.profilePicture!==n.photoURL&&await Sp(n,{photoURL:o.profilePicture}),o.email!==n.email&&await HA(n,o.email),await Xe.updateUser({username:o.username,displayName:o.displayName,bio:o.bio,profilePicture:o.profilePicture,bannerImage:o.bannerImage,updatedAt:new Date}),z("Profile updated successfully!")}catch(X){console.error("Error updating profile:",X),X.code==="auth/requires-recent-login"?O("Please log out and log back in before updating your email."):O("Failed to update profile: "+X.message)}finally{k(!1)}},$e=($,X)=>{$?(U($),a(L=>({...L,profilePicture:$.url}))):X&&(U(null),a(L=>({...L,profilePicture:""})))},Re=($,X)=>{$?(N($),a(L=>({...L,bannerImage:$.url}))):X&&(N(null),a(L=>({...L,bannerImage:""})))},Ce=async $=>{if($.preventDefault(),k(!0),O(""),z(""),u.newPassword!==u.confirmPassword){O("New passwords do not match"),k(!1);return}if(u.newPassword.length<6){O("Password must be at least 6 characters long"),k(!1);return}try{const X=Yi.credential(n.email,u.currentPassword);await v0(n,X),await WA(n,u.newPassword),z("Password updated successfully!"),h({currentPassword:"",newPassword:"",confirmPassword:""})}catch(X){console.error("Error updating password:",X),X.code==="auth/wrong-password"?O("Current password is incorrect"):O("Failed to update password: "+X.message)}finally{k(!1)}},oe=async()=>{O(""),z(""),P(!0);try{if(!se){O("Please enter your current password to confirm deletion."),P(!1);return}const $=Yi.credential(n.email,se);await v0(n,$),await Xe.deleteUserData(),await n.delete(),z("Account and all glyphs deleted successfully."),t(),r("/")}catch($){O("Failed to delete account: "+($.message||$.code))}finally{P(!1)}};return n?f.jsx("div",{className:"min-h-screen bg-nothing-black text-nothing-white",children:f.jsxs("div",{className:"container mx-auto px-4 py-8",children:[f.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:[f.jsxs("h1",{className:"text-4xl font-bold mb-2 flex items-center",children:[f.jsx($p,{className:"h-8 w-8 mr-3 text-nothing-red"}),"Settings"]}),f.jsx("p",{className:"text-nothing-gray-400",children:"Manage your account and preferences"})]}),A&&f.jsxs(De.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-green-900/20 border border-green-700 text-green-400 px-4 py-3 rounded-lg mb-6 flex items-center",children:[f.jsx(Kj,{className:"h-5 w-5 mr-2"}),A]}),G&&f.jsxs(De.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-900/20 border border-red-700 text-red-400 px-4 py-3 rounded-lg mb-6 flex items-center",children:[f.jsx(Bp,{className:"h-5 w-5 mr-2"}),G]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[f.jsx(De.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"lg:col-span-1",children:f.jsx("div",{className:"bg-nothing-gray-900 rounded-lg p-6 border border-nothing-gray-800",children:f.jsxs("nav",{className:"space-y-2",children:[f.jsxs("button",{onClick:()=>Z("profile"),className:`w-full text-left px-4 py-3 rounded-lg font-medium transition-colors duration-200 flex items-center space-x-3 ${Y==="profile"?"bg-nothing-red text-nothing-white":"text-nothing-gray-400 hover:text-nothing-white hover:bg-nothing-gray-800"}`,children:[f.jsx($s,{className:"h-5 w-5"}),f.jsx("span",{children:"Profile"})]}),f.jsxs("button",{onClick:()=>Z("security"),className:`w-full text-left px-4 py-3 rounded-lg font-medium transition-colors duration-200 flex items-center space-x-3 ${Y==="security"?"bg-nothing-red text-nothing-white":"text-nothing-gray-400 hover:text-nothing-white hover:bg-nothing-gray-800"}`,children:[f.jsx(Bi,{className:"h-5 w-5"}),f.jsx("span",{children:"Security"})]})]})})}),f.jsxs(De.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5},className:"lg:col-span-3",children:[Y==="profile"&&f.jsxs("div",{className:"bg-nothing-gray-900 rounded-lg p-6 border border-nothing-gray-800",children:[f.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Profile Information"}),f.jsxs("form",{onSubmit:be,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-nothing-gray-300 mb-2",children:"Banner Image"}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("div",{className:"w-full h-32 bg-nothing-gray-800 rounded-lg border border-nothing-gray-700 overflow-hidden",children:o.bannerImage?f.jsx("img",{src:fn(o.bannerImage),alt:"Banner preview",className:"w-full h-full object-cover"}):f.jsx("div",{className:"w-full h-full flex items-center justify-center",children:f.jsx(zp,{className:"h-8 w-8 text-nothing-gray-600"})})}),f.jsx("div",{className:"bg-nothing-gray-800 rounded-lg p-4",children:f.jsx(ou,{onFileUpload:Re,acceptedTypes:"profile",multiple:!1})}),f.jsx("div",{className:"text-center text-nothing-gray-400",children:f.jsx("span",{className:"px-3 py-1 bg-nothing-gray-800 rounded",children:"OR"})}),f.jsxs("div",{className:"relative",children:[f.jsx(zp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-nothing-gray-500"}),f.jsx("input",{type:"url",value:o.bannerImage,onChange:$=>a(X=>({...X,bannerImage:$.target.value})),className:"w-full pl-10 pr-4 py-3 bg-nothing-gray-800 border border-nothing-gray-700 rounded-lg text-nothing-white placeholder-nothing-gray-500 focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-transparent",placeholder:"https://example.com/banner-image.jpg",disabled:!!B}),B&&f.jsx("p",{className:"text-sm text-nothing-gray-400 mt-2",children:"Banner image uploaded"})]})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-nothing-gray-300 mb-2",children:"Profile Picture"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("div",{className:"w-20 h-20 bg-nothing-gray-800 rounded-full border border-nothing-gray-700 overflow-hidden flex-shrink-0",children:o.profilePicture?f.jsx("img",{src:fn(o.profilePicture),alt:"Profile preview",className:"w-full h-full object-cover"}):f.jsx("div",{className:"w-full h-full flex items-center justify-center",children:f.jsx($s,{className:"h-8 w-8 text-nothing-gray-600"})})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"text-sm text-nothing-gray-300",children:"Upload a new profile picture"}),f.jsx("p",{className:"text-xs text-nothing-gray-500",children:"Recommended: 400x400px or larger"})]})]}),f.jsx("div",{className:"bg-nothing-gray-800 rounded-lg p-4",children:f.jsx(ou,{onFileUpload:$e,acceptedTypes:"profile",multiple:!1})}),f.jsx("div",{className:"text-center text-nothing-gray-400",children:f.jsx("span",{className:"px-3 py-1 bg-nothing-gray-800 rounded",children:"OR"})}),f.jsxs("div",{className:"relative",children:[f.jsx(Gj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-nothing-gray-500"}),f.jsx("input",{type:"url",value:o.profilePicture,onChange:$=>a(X=>({...X,profilePicture:$.target.value})),className:"w-full pl-10 pr-4 py-3 bg-nothing-gray-800 border border-nothing-gray-700 rounded-lg text-nothing-white placeholder-nothing-gray-500 focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-transparent",placeholder:"https://example.com/profile-picture.jpg",disabled:!!V}),V&&f.jsx("p",{className:"text-sm text-nothing-gray-400 mt-2",children:"Profile picture uploaded"})]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-nothing-gray-300 mb-2",children:"Display Name"}),f.jsxs("div",{className:"relative",children:[f.jsx($s,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-nothing-gray-500"}),f.jsx("input",{type:"text",value:o.displayName,onChange:$=>a(X=>({...X,displayName:$.target.value})),className:"w-full pl-10 pr-4 py-3 bg-nothing-gray-800 border border-nothing-gray-700 rounded-lg text-nothing-white placeholder-nothing-gray-500 focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-transparent",placeholder:"Your display name"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-nothing-gray-300 mb-2",children:"Username"}),f.jsx("input",{type:"text",value:o.username,onChange:$=>a(X=>({...X,username:$.target.value})),className:"w-full px-4 py-3 bg-nothing-gray-800 border border-nothing-gray-700 rounded-lg text-nothing-white placeholder-nothing-gray-500 focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-transparent",placeholder:"Your username"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-nothing-gray-300 mb-2",children:"Email Address"}),f.jsxs("div",{className:"relative",children:[f.jsx(ig,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-nothing-gray-500"}),f.jsx("input",{type:"email",value:o.email,onChange:$=>a(X=>({...X,email:$.target.value})),className:"w-full pl-10 pr-4 py-3 bg-nothing-gray-800 border border-nothing-gray-700 rounded-lg text-nothing-white placeholder-nothing-gray-500 focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-transparent",placeholder:"your@email.com"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-nothing-gray-300 mb-2",children:"Bio"}),f.jsx("textarea",{value:o.bio,onChange:$=>a(X=>({...X,bio:$.target.value})),rows:4,className:"w-full px-4 py-3 bg-nothing-gray-800 border border-nothing-gray-700 rounded-lg text-nothing-white placeholder-nothing-gray-500 focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-transparent resize-none",placeholder:"Tell us about yourself..."})]}),f.jsx("button",{type:"submit",disabled:D,className:"w-full md:w-auto px-6 py-3 bg-nothing-red hover:bg-red-700 text-nothing-white rounded-lg font-medium transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:D?f.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-nothing-white"}):f.jsxs(f.Fragment,{children:[f.jsx(_w,{className:"h-5 w-5"}),f.jsx("span",{children:"Save Changes"})]})})]})]}),Y==="security"&&f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{className:"bg-nothing-gray-900 rounded-lg p-6 border border-nothing-gray-800",children:[f.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Change Password"}),f.jsxs("form",{onSubmit:Ce,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-nothing-gray-300 mb-2",children:"Current Password"}),f.jsxs("div",{className:"relative",children:[f.jsx(Bi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-nothing-gray-500"}),f.jsx("input",{type:p?"text":"password",value:u.currentPassword,onChange:$=>h(X=>({...X,currentPassword:$.target.value})),className:"w-full pl-10 pr-12 py-3 bg-nothing-gray-800 border border-nothing-gray-700 rounded-lg text-nothing-white placeholder-nothing-gray-500 focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-transparent",placeholder:"Enter current password"}),f.jsx("button",{type:"button",onClick:()=>m(!p),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-nothing-gray-500 hover:text-nothing-white",children:p?f.jsx(fa,{className:"h-5 w-5"}):f.jsx(Un,{className:"h-5 w-5"})})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-nothing-gray-300 mb-2",children:"New Password"}),f.jsxs("div",{className:"relative",children:[f.jsx(Bi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-nothing-gray-500"}),f.jsx("input",{type:w?"text":"password",value:u.newPassword,onChange:$=>h(X=>({...X,newPassword:$.target.value})),className:"w-full pl-10 pr-12 py-3 bg-nothing-gray-800 border border-nothing-gray-700 rounded-lg text-nothing-white placeholder-nothing-gray-500 focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-transparent",placeholder:"Enter new password"}),f.jsx("button",{type:"button",onClick:()=>x(!w),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-nothing-gray-500 hover:text-nothing-white",children:w?f.jsx(fa,{className:"h-5 w-5"}):f.jsx(Un,{className:"h-5 w-5"})})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-nothing-gray-300 mb-2",children:"Confirm New Password"}),f.jsxs("div",{className:"relative",children:[f.jsx(Bi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-nothing-gray-500"}),f.jsx("input",{type:E?"text":"password",value:u.confirmPassword,onChange:$=>h(X=>({...X,confirmPassword:$.target.value})),className:"w-full pl-10 pr-12 py-3 bg-nothing-gray-800 border border-nothing-gray-700 rounded-lg text-nothing-white placeholder-nothing-gray-500 focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-transparent",placeholder:"Confirm new password"}),f.jsx("button",{type:"button",onClick:()=>I(!E),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-nothing-gray-500 hover:text-nothing-white",children:E?f.jsx(fa,{className:"h-5 w-5"}):f.jsx(Un,{className:"h-5 w-5"})})]})]}),f.jsx("button",{type:"submit",disabled:D,className:"w-full md:w-auto px-6 py-3 bg-nothing-red hover:bg-red-700 text-nothing-white rounded-lg font-medium transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:D?f.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-nothing-white"}):f.jsxs(f.Fragment,{children:[f.jsx(_w,{className:"h-5 w-5"}),f.jsx("span",{children:"Update Password"})]})})]})]}),f.jsxs("div",{className:"bg-red-900/10 border border-red-700/30 rounded-lg p-6",children:[f.jsx("h2",{className:"text-2xl font-bold mb-4 text-red-400",children:"Danger Zone"}),f.jsx("p",{className:"text-nothing-gray-400 mb-6",children:"Once you delete your account, there is no going back. This will permanently delete all your glyphs and data. Please be certain."}),f.jsxs("form",{onSubmit:$=>{$.preventDefault(),oe()},className:"space-y-4",children:[f.jsx("label",{className:"block text-sm font-medium text-nothing-gray-300 mb-2",children:"Current Password"}),f.jsxs("div",{className:"relative mb-4",children:[f.jsx(Bi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-nothing-gray-500"}),f.jsx("input",{type:"password",value:se,onChange:$=>R($.target.value),className:"w-full pl-10 pr-4 py-3 bg-nothing-gray-800 border border-nothing-gray-700 rounded-lg text-nothing-white placeholder-nothing-gray-500 focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-transparent",placeholder:"Enter your current password",required:!0})]}),f.jsx("button",{type:"submit",disabled:b,className:"px-6 py-3 bg-red-600 hover:bg-red-700 text-nothing-white rounded-lg font-medium transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Deleting...":"Delete Account"})]})]})]})]})]})]})}):(r("/login"),null)},MO=()=>{const{currentUser:n,userProfile:e}=Nr(),t=ar(),[r,o]=j.useState({totalUsers:0,totalGlyphs:0,totalDownloads:0,totalViews:0,totalAdmins:0}),[a,u]=j.useState([]),[h,p]=j.useState(""),[m,w]=j.useState([]),[x,E]=j.useState(null),[I,D]=j.useState(!1),[k,A]=j.useState([]),[z,G]=j.useState(null),[O,Y]=j.useState(""),[Z,se]=j.useState([]),[R,b]=j.useState(!0),[P,V]=j.useState(!1),[U,B]=j.useState("stats"),N=n?.uid==="9H3pw5zS6GRDFTZaoYspEmruORj2"||e?.isAdmin===!0;j.useEffect(()=>{if(!n){t("/login");return}if(!N){t("/");return}be()},[n,N,t]);const be=async()=>{try{b(!0);const[$,X,L]=await Promise.all([Xe.getAdminStats(),Xe.getAllUsers(),Xe.getGlyphs({limit:1e3})]);o($),u(X),w(X),A(L);const J=X.filter(fe=>fe.uid==="9H3pw5zS6GRDFTZaoYspEmruORj2"||fe.isAdmin);se(J)}catch($){console.error("Error loading admin data:",$)}finally{b(!1)}},$e=$=>{if(p($),!$.trim())w(a);else{const X=a.filter(L=>L.username?.toLowerCase().includes($.toLowerCase())||L.displayName?.toLowerCase().includes($.toLowerCase())||L.email?.toLowerCase().includes($.toLowerCase()));w(X)}},Re=async $=>{try{V(!0),await Xe.makeUserAdmin($),be(),alert("User promoted to admin successfully!")}catch(X){console.error("Error making user admin:",X),alert("Failed to promote user to admin")}finally{V(!1)}},Ce=async()=>{if(O.trim())try{V(!0),await Xe.addAdminByEmail(O),Y(""),be(),alert("Admin added successfully!")}catch($){console.error("Error adding admin:",$),alert("Failed to add admin: "+$.message)}finally{V(!1)}},oe=async $=>{if(confirm("Are you sure you want to delete this glyph?"))try{V(!0),await Xe.adminDeleteGlyph($),A(X=>X.filter(L=>L.id!==$)),alert("Glyph deleted successfully!")}catch(X){console.error("Error deleting glyph:",X),alert("Failed to delete glyph")}finally{V(!1)}};return R?f.jsx("div",{className:"min-h-screen bg-nothing-black flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-nothing-red rounded-full flex items-center justify-center mx-auto mb-4 glyph-animation",children:f.jsx(ia,{className:"h-8 w-8 text-nothing-white"})}),f.jsx("p",{className:"text-nothing-gray-400",children:"Loading admin panel..."})]})}):N?f.jsx("div",{className:"min-h-screen bg-nothing-black text-nothing-white",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[f.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[f.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[f.jsx(ia,{className:"h-8 w-8 text-nothing-red"}),f.jsx("h1",{className:"text-4xl font-bold font-nothing",children:"Admin Panel"})]}),f.jsxs("p",{className:"text-nothing-gray-400",children:["Welcome back, ",e?.displayName||n?.displayName,". Manage your GlyphMart platform."]})]}),f.jsx("div",{className:"border-b border-nothing-gray-800 mb-8",children:f.jsx("nav",{className:"flex space-x-8",children:[{id:"stats",label:"Statistics",icon:qj},{id:"users",label:"Users",icon:Tw},{id:"glyphs",label:"Glyphs",icon:Jf},{id:"admins",label:"Admins",icon:sD}].map(({id:$,label:X,icon:L})=>f.jsxs("button",{onClick:()=>B($),className:`flex items-center space-x-2 py-4 px-2 border-b-2 font-medium text-sm transition-colors duration-200 ${U===$?"border-nothing-red text-nothing-red":"border-transparent text-nothing-gray-400 hover:text-nothing-white hover:border-nothing-gray-600"}`,children:[f.jsx(L,{className:"h-4 w-4"}),f.jsx("span",{children:X})]},$))})}),f.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[U==="stats"&&f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[f.jsx("div",{className:"bg-nothing-gray-900 border border-nothing-gray-800 rounded-lg p-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-nothing-gray-400 text-sm",children:"Total Users"}),f.jsx("p",{className:"text-3xl font-bold text-nothing-white",children:r.totalUsers})]}),f.jsx(Tw,{className:"h-8 w-8 text-blue-500"})]})}),f.jsx("div",{className:"bg-nothing-gray-900 border border-nothing-gray-800 rounded-lg p-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-nothing-gray-400 text-sm",children:"Total Glyphs"}),f.jsx("p",{className:"text-3xl font-bold text-nothing-white",children:r.totalGlyphs})]}),f.jsx(Jf,{className:"h-8 w-8 text-green-500"})]})}),f.jsx("div",{className:"bg-nothing-gray-900 border border-nothing-gray-800 rounded-lg p-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-nothing-gray-400 text-sm",children:"Total Downloads"}),f.jsx("p",{className:"text-3xl font-bold text-nothing-white",children:r.totalDownloads})]}),f.jsx(oi,{className:"h-8 w-8 text-purple-500"})]})}),f.jsx("div",{className:"bg-nothing-gray-900 border border-nothing-gray-800 rounded-lg p-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-nothing-gray-400 text-sm",children:"Total Views"}),f.jsx("p",{className:"text-3xl font-bold text-nothing-white",children:r.totalViews})]}),f.jsx(Un,{className:"h-8 w-8 text-orange-500"})]})})]}),U==="users"&&f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{className:"flex items-center space-x-4",children:f.jsxs("div",{className:"relative flex-1",children:[f.jsx(zi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-nothing-gray-400"}),f.jsx("input",{type:"text",placeholder:"Search users by username, name, or email...",value:h,onChange:$=>$e($.target.value),className:"w-full pl-10 pr-4 py-3 bg-nothing-gray-900 border border-nothing-gray-700 rounded-lg text-nothing-white placeholder-nothing-gray-400 focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-transparent"})]})}),f.jsxs("div",{className:"bg-nothing-gray-900 border border-nothing-gray-800 rounded-lg overflow-hidden",children:[f.jsx("div",{className:"px-6 py-4 border-b border-nothing-gray-800",children:f.jsxs("h3",{className:"text-lg font-semibold",children:["Users (",m.length,")"]})}),f.jsx("div",{className:"max-h-96 overflow-y-auto",children:m.map($=>f.jsx("div",{className:"px-6 py-4 border-b border-nothing-gray-800 last:border-b-0 hover:bg-nothing-gray-800 transition-colors duration-200",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden border border-nothing-gray-600",children:$.profilePicture?f.jsx("img",{src:fn($.profilePicture),alt:$.displayName,loading:"lazy",className:"w-full h-full object-cover"}):f.jsx("div",{className:"w-full h-full bg-nothing-red flex items-center justify-center",children:f.jsx("span",{className:"text-sm font-bold text-nothing-white",children:$.displayName?.charAt(0)?.toUpperCase()||$.username?.charAt(0)?.toUpperCase()||"U"})})}),f.jsxs("div",{children:[f.jsxs("p",{className:"font-semibold text-nothing-white",children:[$.displayName||$.username,($.uid==="9H3pw5zS6GRDFTZaoYspEmruORj2"||$.isAdmin)&&f.jsx(ia,{className:"inline h-4 w-4 ml-2 text-nothing-red"})]}),f.jsxs("p",{className:"text-sm text-nothing-gray-400",children:["@",$.username]}),f.jsx("p",{className:"text-xs text-nothing-gray-500",children:$.email})]})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[!$.isAdmin&&$.uid!=="9H3pw5zS6GRDFTZaoYspEmruORj2"&&f.jsx("button",{onClick:()=>Re($.uid),disabled:P,className:"px-3 py-1 bg-nothing-red hover:bg-red-700 text-nothing-white text-sm rounded transition-colors duration-200 disabled:opacity-50",children:"Make Admin"}),f.jsx("button",{onClick:()=>E($),className:"p-2 text-nothing-gray-400 hover:text-nothing-white transition-colors duration-200",children:f.jsx(nD,{className:"h-4 w-4"})})]})]})},$.uid))})]})]}),U==="glyphs"&&f.jsx("div",{className:"space-y-6",children:f.jsxs("div",{className:"bg-nothing-gray-900 border border-nothing-gray-800 rounded-lg overflow-hidden",children:[f.jsx("div",{className:"px-6 py-4 border-b border-nothing-gray-800",children:f.jsxs("h3",{className:"text-lg font-semibold",children:["All Glyphs (",k.length,")"]})}),f.jsx("div",{className:"max-h-96 overflow-y-auto",children:k.map($=>f.jsx("div",{className:"px-6 py-4 border-b border-nothing-gray-800 last:border-b-0 hover:bg-nothing-gray-800 transition-colors duration-200",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden border border-nothing-gray-600",children:$.images&&$.images.length>0?f.jsx("img",{src:fn($.images[0]),alt:$.title,loading:"lazy",className:"w-full h-full object-cover"}):f.jsx("div",{className:"w-full h-full bg-nothing-gray-700 flex items-center justify-center",children:f.jsx(Jf,{className:"h-6 w-6 text-nothing-gray-500"})})}),f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold text-nothing-white",children:$.title}),f.jsxs("p",{className:"text-sm text-nothing-gray-400",children:["by @",$.creatorUsername]}),f.jsxs("p",{className:"text-xs text-nothing-gray-500",children:[$.downloads||0," downloads • ",$.views||0," views • ",$.likes||0," likes"]})]})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("button",{onClick:()=>t(`/glyph/${$.id}`),className:"px-3 py-1 bg-nothing-gray-700 hover:bg-nothing-gray-600 text-nothing-white text-sm rounded transition-colors duration-200",children:"View"}),f.jsx("button",{onClick:()=>oe($.id),disabled:P,className:"p-2 text-red-400 hover:text-red-300 transition-colors duration-200 disabled:opacity-50",children:f.jsx(oD,{className:"h-4 w-4"})})]})]})},$.id))})]})}),U==="admins"&&f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-nothing-gray-900 border border-nothing-gray-800 rounded-lg p-6",children:[f.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add New Admin"}),f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("input",{type:"email",placeholder:"Enter email address",value:O,onChange:$=>Y($.target.value),className:"flex-1 px-4 py-3 bg-nothing-gray-800 border border-nothing-gray-700 rounded-lg text-nothing-white placeholder-nothing-gray-400 focus:outline-none focus:ring-2 focus:ring-nothing-red focus:border-transparent"}),f.jsxs("button",{onClick:Ce,disabled:P||!O.trim(),className:"px-6 py-3 bg-nothing-red hover:bg-red-700 text-nothing-white rounded-lg font-medium transition-colors duration-200 disabled:opacity-50 flex items-center space-x-2",children:[f.jsx(lD,{className:"h-4 w-4"}),f.jsx("span",{children:"Add Admin"})]})]})]}),f.jsxs("div",{className:"bg-nothing-gray-900 border border-nothing-gray-800 rounded-lg overflow-hidden",children:[f.jsx("div",{className:"px-6 py-4 border-b border-nothing-gray-800",children:f.jsxs("h3",{className:"text-lg font-semibold",children:["Current Admins (",Z.length,")"]})}),f.jsx("div",{children:Z.map($=>f.jsx("div",{className:"px-6 py-4 border-b border-nothing-gray-800 last:border-b-0",children:f.jsx("div",{className:"flex items-center justify-between",children:f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden border border-nothing-gray-600",children:$.profilePicture?f.jsx("img",{src:fn($.profilePicture),alt:$.displayName,loading:"lazy",className:"w-full h-full object-cover"}):f.jsx("div",{className:"w-full h-full bg-nothing-red flex items-center justify-center",children:f.jsx("span",{className:"text-sm font-bold text-nothing-white",children:$.displayName?.charAt(0)?.toUpperCase()||$.username?.charAt(0)?.toUpperCase()||"A"})})}),f.jsxs("div",{children:[f.jsxs("p",{className:"font-semibold text-nothing-white flex items-center",children:[$.displayName||$.username,f.jsx(ia,{className:"h-4 w-4 ml-2 text-nothing-red"}),$.uid==="9H3pw5zS6GRDFTZaoYspEmruORj2"&&f.jsx("span",{className:"ml-2 px-2 py-1 bg-nothing-red text-nothing-white text-xs rounded",children:"Super Admin"})]}),f.jsxs("p",{className:"text-sm text-nothing-gray-400",children:["@",$.username]}),f.jsx("p",{className:"text-xs text-nothing-gray-500",children:$.email})]})]})})},$.uid))})]})]})]},U)]})}):f.jsx("div",{className:"min-h-screen bg-nothing-black flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-2xl font-bold text-red-500 mb-4",children:"Access Denied"}),f.jsx("p",{className:"text-nothing-gray-400 mb-6",children:"You don't have permission to access the admin panel."}),f.jsx("button",{onClick:()=>t("/"),className:"bg-nothing-red hover:bg-red-700 text-nothing-white px-6 py-3 rounded-lg font-medium transition-colors duration-200",children:"Return to Home"})]})})},Kc=({children:n})=>{const{currentUser:e}=Nr();return e?n:f.jsx(Fx,{to:"/login"})},Px=({children:n})=>{const{currentUser:e}=Nr();return e?f.jsx(Fx,{to:"/"}):n};function UO(){return f.jsx(Fj,{children:f.jsx(ab,{children:f.jsxs("div",{className:"App",children:[f.jsx(AO,{}),f.jsxs(ZI,{children:[f.jsx(tr,{path:"/",element:f.jsx(kO,{})}),f.jsx(tr,{path:"/login",element:f.jsx(Px,{children:f.jsx(CO,{})})}),f.jsx(tr,{path:"/signup",element:f.jsx(Px,{children:f.jsx(NO,{})})}),f.jsx(tr,{path:"/glyph/:id",element:f.jsx(RO,{})}),f.jsx(tr,{path:"/storefront/:username",element:f.jsx(jO,{})}),f.jsx(tr,{path:"/upload",element:f.jsx(Kc,{children:f.jsx(DO,{})})}),f.jsx(tr,{path:"/search",element:f.jsx(VO,{})}),f.jsx(tr,{path:"/liked",element:f.jsx(Kc,{children:f.jsx(LO,{})})}),f.jsx(tr,{path:"/settings",element:f.jsx(Kc,{children:f.jsx(OO,{})})}),f.jsx(tr,{path:"/admin",element:f.jsx(Kc,{children:f.jsx(MO,{})})})]})]})})})}lI.createRoot(document.getElementById("root")).render(f.jsx(j.StrictMode,{children:f.jsx(UO,{})}));
